{"version":3,"sources":["webpack:///./src/theme/default/header.m.css","webpack:///./src/header/index.tsx","webpack:///./src/middleware/theme.tsx"],"names":["module","exports"," _key","root","row","primary","secondary","sticky","leading","title","actions","action","trailing","spacer","__webpack_require__","r","__webpack_exports__","d","Header","_theme_default_header_m_css__WEBPACK_IMPORTED_MODULE_0__","_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_2__","Object","theme","properties","children","factory","middleware","classes","key","variant","undefined","Array","isArray","map","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","coreTheme","uppercaseFirstChar","value","charAt","toUpperCase","slice","isThemeWithVariant","hasOwnProperty","assign","compose","baseCss","css","prefix","baseKey","variantKey","virtualCss","keys","reduce","virtualTheme","variantTheme","baseTheme","prefixedCss","prefixCss","indexOf","classKey","toLowerCase","lowercaseFirstChar","replace","trim","[object Object]","variants","constructedTheme","variantComposesClass"],"mappings":";;;;;;;;8IACAA,EAAAC,QAAA,CAAkBC,QAAA,uBAAAC,KAAA,wBAAAC,IAAA,uBAAAC,QAAA,2BAAAC,UAAA,6BAAAC,OAAA,0BAAAC,QAAA,2BAAAC,MAAA,yBAAAC,QAAA,2BAAAC,OAAA,0BAAAC,SAAA,4BAAAC,OAAA,4DCDlBC,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,2BAAAE,IAAA,IAAAC,EAAAL,EAAA,KAAAM,EAAAN,EAAA,IAAAO,EAAAP,EAAA,GAqBA,MAIaI,EAJGI,OAAAD,EAAA,EAAAC,CAAO,CAAEC,MAAAH,EAAA,IACvBI,aACAC,UAEoBC,CAAQ,UAAgBD,SAAEA,EAAQD,WAAEA,EAAYG,YAAYJ,MAAEA,KACnF,MAAMK,EAAUL,EAAMK,QAAQT,IACxBZ,OAAEA,GAAWiB,KACbd,QAAEA,EAAOF,QAAEA,EAAOC,MAAEA,EAAKG,SAAEA,GAAaa,IAAW,GAEzD,OACCH,OAAAD,EAAA,EADM,CACN,UAAQQ,IAAI,SAASD,QAAS,CAACL,EAAMO,UAAWvB,EAASqB,EAAQf,YAASkB,IACzET,OAAAD,EAAA,EAAAC,CAAA,OAAKM,QAAS,CAACA,EAAQzB,KAAMI,GAAUqB,EAAQrB,QAASsB,IAAI,QAC3DP,OAAAD,EAAA,EAAAC,CAAA,OAAKM,QAASA,EAAQxB,KACrBkB,OAAAD,EAAA,EAAAC,CAAA,OAAKM,QAASA,EAAQvB,QAASwB,IAAI,WACjCrB,GAAWc,OAAAD,EAAA,EAAAC,CAAA,OAAKM,QAASA,EAAQpB,SAAUA,GAC5Cc,OAAAD,EAAA,EAAAC,CAAA,OAAKM,QAASA,EAAQnB,MAAOoB,IAAI,SAC/BpB,GAASA,IAGZa,OAAAD,EAAA,EAAAC,CAAA,OAAKM,QAASA,EAAQtB,UAAWuB,IAAI,aACpCP,OAAAD,EAAA,EAAAC,CAAA,OAAKM,QAASA,EAAQlB,QAASmB,IAAI,WACjCnB,IACCsB,MAAMC,QAAQvB,GAAWA,EAAU,CAACA,IAAUwB,IAAKvB,GACnDW,OAAAD,EAAA,EAD8D,CAC9D,OAAKO,QAASA,EAAQjB,QAASA,KAGjCC,GAAYU,OAAAD,EAAA,EAAAC,CAAA,OAAKM,QAASA,EAAQhB,UAAWA,SAQrCI,EAAA,2CCvDfF,EAAAG,EAAAD,EAAA,sBAAAO,IAAA,IAAAY,EAAArB,EAAA,GAAAsB,EAAAtB,EAAA,IAOA,MAAMY,EAAUJ,OAAAa,EAAA,EAAAb,CAAO,CAAEe,UAAAD,EAAA,IAGzB,SAASE,EAAmBC,GAC3B,SAAUA,EAAMC,OAAO,GAAGC,gBAAgBF,EAAMG,MAAM,KAOvD,SAASC,EAAmBpB,GAC3B,OAAOA,GAASA,EAAMqB,eAAe,WAK/B,MAAMrB,EAAQG,EAAQ,UAAWC,YAAYU,UAAEA,GAAWb,WAAEA,IAClE,OAAAF,OAAAuB,OAAA,CACCC,QAAS,CACRC,EACAC,EACAC,KAEA,MAAM1B,EAAQC,IAAaD,MACrB2B,EAAUH,EAxBM,SAyBhBI,EAAaH,EAzBG,SA0BhBI,EAAa9B,OAAO+B,KAAKN,GAASO,OACvC,CAACF,EAAYvB,IA3BQ,UA4BhBA,EACIuB,GAEJH,IAAWG,KAAcH,IAASX,EAAmBT,QACxDuB,KAAcH,IAASX,EAAmBT,MAAU,KAEhDmB,EAAInB,KACRuB,EAAWvB,GAAO,KAEZuB,GAER,CAAElD,QAAaiD,IAEVI,EAAelB,EAAUT,QAAQwB,GACjCI,EAAenB,EAAUT,QAAQoB,GACvC,IAAIS,EAAYpB,EAAUT,QAAQmB,GAClC,GAAIE,EAAQ,CACX,MAAMS,EAAcpC,OAAO+B,KAAI/B,OAAAuB,OAAA,GAAMU,EAAiBC,IAAgBF,OACrE,CAACK,EAAW9B,KACX,GAA4B,IAAxBA,EAAI+B,QAAQX,IAAiBpB,IAAQoB,EAAQ,CAChD,MAAMY,EA1Cb,SAA4BtB,GAC3B,SAAUA,EAAMC,OAAO,GAAGsB,gBAAgBvB,EAAMG,MAAM,KAyC/BqB,CAAmBlC,EAAImC,QAAQf,EAAQ,MAEtDO,EAAa3B,IACd0B,EAAa1B,IACb0B,EAAa1B,GAAKoC,SAElBN,EAAUE,MAAeJ,EAAUI,MAAaN,EAC/C1B,GACCoC,UAECT,EAAa3B,KAChB8B,EAAUE,GAAYL,EAAa3B,IAGrC,OAAO8B,GAER,IAID,OAFAF,EAASnC,OAAAuB,OAAA,GAAQY,EAAcC,GAE3Bf,EAAmBpB,GACf,CACNA,MAAO,CACNA,MAAKD,OAAAuB,OAAA,GACDtB,EAAMA,MAAMA,MAAK,CACpB2C,CAAChB,GAAUO,IAEZU,SAAU5C,EAAMA,MAAM4C,UAEvBrC,QAASP,EAAMO,SAIjBR,OAAAuB,OAAA,GACItB,EAAK,CACR2C,CAAChB,GAAUO,IAIb,MAAMW,EAAmB9C,OAAO+B,KAAKI,GAAWH,OAC/C,CAAC/B,EAAOM,KACP,GAzFoB,UAyFhBA,EACH,OAAON,EAER,MAAM8C,EAAuBb,EAAa3B,IAAQ2B,EAAa3B,GAAKoC,OAMpE,OALIT,EAAa3B,GAChBN,EAAMM,GAAOwC,EACHd,EAAa1B,IAAQ0B,EAAa1B,GAAKoC,SACjD1C,EAAMM,MAAUN,EAAMM,MAAQ0B,EAAa1B,GAAKoC,UAE1C1C,GAERD,OAAAuB,OAAA,GAAKY,IAGN,OAAId,EAAmBpB,GACf,CACNA,MAAO,CACNA,MAAKD,OAAAuB,OAAA,GACDtB,EAAMA,MAAMA,MAAK,CACpB2C,CAAChB,GAAUkB,IAEZD,SAAU5C,EAAMA,MAAM4C,UAEvBrC,QAASP,EAAMO,SAIjBR,OAAAuB,OAAA,GACItB,EAAK,CACR2C,CAAChB,GAAUkB,MAGV/B,KAIUrB,EAAA","file":"49-7.0.0-pre.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/header\",\"root\":\"header-m__root__1Wu1d\",\"row\":\"header-m__row__3e0zv\",\"primary\":\"header-m__primary__2eL4c\",\"secondary\":\"header-m__secondary__keWQu\",\"sticky\":\"header-m__sticky__3Rxub\",\"leading\":\"header-m__leading__EGBZf\",\"title\":\"header-m__title__3AvG7\",\"actions\":\"header-m__actions__3MCfn\",\"action\":\"header-m__action__1tpKL\",\"trailing\":\"header-m__trailing__1qern\",\"spacer\":\"header-m__spacer__3HogK\"};","import * as css from '../theme/default/header.m.css';\nimport theme from '../middleware/theme';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\nimport { create, tsx } from '@dojo/framework/core/vdom';\n\nexport interface HeaderProperties {\n\t/** Determines if this header is fixed */\n\tsticky?: boolean;\n}\n\nexport type HeaderChildren = {\n\t/** Renderer for leading elements like icons */\n\tleading?: RenderResult;\n\t/** Renderer for the header title */\n\ttitle: RenderResult;\n\t/** Renderer for header actions like links */\n\tactions?: RenderResult;\n\t/** Renderer for trailing elements like search inputs */\n\ttrailing?: RenderResult;\n};\n\nconst factory = create({ theme })\n\t.properties<HeaderProperties>()\n\t.children<HeaderChildren>();\n\nexport const Header = factory(function Header({ children, properties, middleware: { theme } }) {\n\tconst classes = theme.classes(css);\n\tconst { sticky } = properties();\n\tconst { actions, leading, title, trailing } = children()[0];\n\n\treturn (\n\t\t<header key=\"header\" classes={[theme.variant(), sticky ? classes.spacer : undefined]}>\n\t\t\t<div classes={[classes.root, sticky && classes.sticky]} key=\"root\">\n\t\t\t\t<div classes={classes.row}>\n\t\t\t\t\t<div classes={classes.primary} key=\"primary\">\n\t\t\t\t\t\t{leading && <div classes={classes.leading}>{leading}</div>}\n\t\t\t\t\t\t<div classes={classes.title} key=\"title\">\n\t\t\t\t\t\t\t{title && title}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div classes={classes.secondary} key=\"secondary\">\n\t\t\t\t\t\t<nav classes={classes.actions} key=\"actions\">\n\t\t\t\t\t\t\t{actions &&\n\t\t\t\t\t\t\t\t(Array.isArray(actions) ? actions : [actions]).map((action) => (\n\t\t\t\t\t\t\t\t\t<div classes={classes.action}>{action}</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t{trailing && <div classes={classes.trailing}>{trailing}</div>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n\t);\n});\n\nexport default Header;\n","import { create } from '@dojo/framework/core/vdom';\nimport coreTheme, {\n\tThemeProperties as CoreThemeProperties\n} from '@dojo/framework/core/middleware/theme';\nimport { ClassNames, Theme } from '@dojo/framework/core/mixins/Themed';\nimport { ThemeWithVariant } from '@dojo/framework/core/interfaces';\n\nconst factory = create({ coreTheme });\nexport const THEME_KEY = ' _key';\n\nfunction uppercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toUpperCase()}${value.slice(1)}`;\n}\n\nfunction lowercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toLowerCase()}${value.slice(1)}`;\n}\n\nfunction isThemeWithVariant(theme: any): theme is ThemeWithVariant {\n\treturn theme && theme.hasOwnProperty('variant');\n}\n\nexport interface ThemeProperties extends CoreThemeProperties {}\n\nexport const theme = factory(function({ middleware: { coreTheme }, properties }) {\n\treturn {\n\t\tcompose: <T extends ClassNames, B extends ClassNames>(\n\t\t\tbaseCss: B,\n\t\t\tcss: T,\n\t\t\tprefix?: string\n\t\t): Theme | ThemeWithVariant => {\n\t\t\tconst theme = properties().theme;\n\t\t\tconst baseKey = baseCss[THEME_KEY];\n\t\t\tconst variantKey = css[THEME_KEY];\n\t\t\tconst virtualCss = Object.keys(baseCss).reduce(\n\t\t\t\t(virtualCss, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn virtualCss;\n\t\t\t\t\t}\n\t\t\t\t\tif (prefix && !virtualCss[`${prefix}${uppercaseFirstChar(key)}`]) {\n\t\t\t\t\t\tvirtualCss[`${prefix}${uppercaseFirstChar(key)}`] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\tif (!css[key]) {\n\t\t\t\t\t\tvirtualCss[key] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn virtualCss;\n\t\t\t\t},\n\t\t\t\t{ [THEME_KEY]: variantKey } as ClassNames\n\t\t\t);\n\t\t\tconst virtualTheme = coreTheme.classes(virtualCss);\n\t\t\tconst variantTheme = coreTheme.classes(css);\n\t\t\tlet baseTheme = coreTheme.classes(baseCss);\n\t\t\tif (prefix) {\n\t\t\t\tconst prefixedCss = Object.keys({ ...virtualTheme, ...variantTheme }).reduce(\n\t\t\t\t\t(prefixCss, key) => {\n\t\t\t\t\t\tif (key.indexOf(prefix) === 0 && key !== prefix) {\n\t\t\t\t\t\t\tconst classKey = lowercaseFirstChar(key.replace(prefix, ''));\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!variantTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key].trim()\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = `${baseTheme[classKey]} ${virtualTheme[\n\t\t\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\t\t].trim()}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = variantTheme[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prefixCss;\n\t\t\t\t\t},\n\t\t\t\t\t{} as ClassNames\n\t\t\t\t);\n\t\t\t\tbaseTheme = { ...baseTheme, ...prefixedCss };\n\n\t\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariant: theme.variant\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...theme,\n\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst constructedTheme = Object.keys(baseTheme).reduce(\n\t\t\t\t(theme, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn theme;\n\t\t\t\t\t}\n\t\t\t\t\tconst variantComposesClass = variantTheme[key] && variantTheme[key].trim();\n\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\ttheme[key] = variantComposesClass;\n\t\t\t\t\t} else if (virtualTheme[key] && virtualTheme[key].trim()) {\n\t\t\t\t\t\ttheme[key] = `${theme[key]} ${virtualTheme[key].trim()}`;\n\t\t\t\t\t}\n\t\t\t\t\treturn theme;\n\t\t\t\t},\n\t\t\t\t{ ...baseTheme } as ClassNames\n\t\t\t);\n\n\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\treturn {\n\t\t\t\t\ttheme: {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t[baseKey]: constructedTheme\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t},\n\t\t\t\t\tvariant: theme.variant\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...theme,\n\t\t\t\t[baseKey]: constructedTheme\n\t\t\t};\n\t\t},\n\t\t...coreTheme\n\t};\n});\n\nexport default theme;\n"],"sourceRoot":""}