{"version":3,"sources":["webpack:///./src/theme/default/avatar.m.css","webpack:///./src/avatar/index.tsx","webpack:///./src/middleware/theme.tsx"],"names":["module","exports"," _key","root","avatarColorSecondary","avatarColor","small","medium","large","circle","square","rounded","__webpack_require__","r","__webpack_exports__","d","Avatar","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_0__","_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_theme_default_avatar_m_css__WEBPACK_IMPORTED_MODULE_2__","Object","theme","properties","factory","middleware","children","themeCss","classes","secondary","src","alt","variant","size","key","role","aria-label","styles","backgroundImage","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","coreTheme","uppercaseFirstChar","value","charAt","toUpperCase","slice","isThemeWithVariant","hasOwnProperty","assign","compose","baseCss","css","prefix","baseKey","variantKey","virtualCss","keys","reduce","virtualTheme","variantTheme","baseTheme","prefixedCss","prefixCss","indexOf","classKey","toLowerCase","lowercaseFirstChar","replace","trim","[object Object]","variants","constructedTheme","variantComposesClass"],"mappings":"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","file":"47-7.0.0-pre.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/avatar\",\"root\":\"avatar-m__root__3K9z0\",\"avatarColorSecondary\":\"avatar-m__avatarColorSecondary__1482_\",\"avatarColor\":\"avatar-m__avatarColor__1r5W-\",\"small\":\"avatar-m__small__2yQZb\",\"medium\":\"avatar-m__medium__8xlzj\",\"large\":\"avatar-m__large__2yM2d\",\"circle\":\"avatar-m__circle__ElfyL\",\"square\":\"avatar-m__square__37eQa\",\"rounded\":\"avatar-m__rounded__RpRws\"};","import { create, tsx } from '@dojo/framework/core/vdom';\nimport theme from '../middleware/theme';\nimport * as css from '../theme/default/avatar.m.css';\n\nexport interface AvatarProperties {\n\t/* defines the avatar variant, defaults to circle */\n\tvariant?: 'square' | 'rounded' | 'circle';\n\t/* determines if secondary color scheme should be used */\n\tsecondary?: boolean;\n\t/* the image source used for this avatar */\n\tsrc?: string;\n\t/* size of the avatar, defaults to medium */\n\tsize?: 'small' | 'medium' | 'large';\n\t/* alt text to be used for aria */\n\talt?: string;\n}\n\nconst factory = create({ theme }).properties<AvatarProperties>();\n\nexport const Avatar = factory(function Avatar({ middleware: { theme }, properties, children }) {\n\tconst themeCss = theme.classes(css);\n\tconst { secondary, src, alt, variant = 'circle', size = 'medium' } = properties();\n\treturn (\n\t\t<div\n\t\t\tkey=\"root\"\n\t\t\trole={src && 'image'}\n\t\t\taria-label={alt}\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tthemeCss.root,\n\t\t\t\tsecondary ? themeCss.avatarColorSecondary : themeCss.avatarColor,\n\t\t\t\tthemeCss[size],\n\t\t\t\tthemeCss[variant]\n\t\t\t]}\n\t\t\tstyles={\n\t\t\t\tsrc\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tbackgroundImage: `url(${src})`\n\t\t\t\t\t  }\n\t\t\t\t\t: {}\n\t\t\t}\n\t\t>\n\t\t\t{children()}\n\t\t</div>\n\t);\n});\n\nexport default Avatar;\n","import { create } from '@dojo/framework/core/vdom';\nimport coreTheme, {\n\tThemeProperties as CoreThemeProperties\n} from '@dojo/framework/core/middleware/theme';\nimport { ClassNames, Theme } from '@dojo/framework/core/mixins/Themed';\nimport { ThemeWithVariant } from '@dojo/framework/core/interfaces';\n\nconst factory = create({ coreTheme });\nexport const THEME_KEY = ' _key';\n\nfunction uppercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toUpperCase()}${value.slice(1)}`;\n}\n\nfunction lowercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toLowerCase()}${value.slice(1)}`;\n}\n\nfunction isThemeWithVariant(theme: any): theme is ThemeWithVariant {\n\treturn theme && theme.hasOwnProperty('variant');\n}\n\nexport interface ThemeProperties extends CoreThemeProperties {}\n\nexport const theme = factory(function({ middleware: { coreTheme }, properties }) {\n\treturn {\n\t\tcompose: <T extends ClassNames, B extends ClassNames>(\n\t\t\tbaseCss: B,\n\t\t\tcss: T,\n\t\t\tprefix?: string\n\t\t): Theme | ThemeWithVariant => {\n\t\t\tconst theme = properties().theme;\n\t\t\tconst baseKey = baseCss[THEME_KEY];\n\t\t\tconst variantKey = css[THEME_KEY];\n\t\t\tconst virtualCss = Object.keys(baseCss).reduce(\n\t\t\t\t(virtualCss, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn virtualCss;\n\t\t\t\t\t}\n\t\t\t\t\tif (prefix && !virtualCss[`${prefix}${uppercaseFirstChar(key)}`]) {\n\t\t\t\t\t\tvirtualCss[`${prefix}${uppercaseFirstChar(key)}`] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\tif (!css[key]) {\n\t\t\t\t\t\tvirtualCss[key] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn virtualCss;\n\t\t\t\t},\n\t\t\t\t{ [THEME_KEY]: variantKey } as ClassNames\n\t\t\t);\n\t\t\tconst virtualTheme = coreTheme.classes(virtualCss);\n\t\t\tconst variantTheme = coreTheme.classes(css);\n\t\t\tlet baseTheme = coreTheme.classes(baseCss);\n\t\t\tif (prefix) {\n\t\t\t\tconst prefixedCss = Object.keys({ ...virtualTheme, ...variantTheme }).reduce(\n\t\t\t\t\t(prefixCss, key) => {\n\t\t\t\t\t\tif (key.indexOf(prefix) === 0 && key !== prefix) {\n\t\t\t\t\t\t\tconst classKey = lowercaseFirstChar(key.replace(prefix, ''));\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!variantTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key].trim()\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = `${baseTheme[classKey]} ${virtualTheme[\n\t\t\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\t\t].trim()}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = variantTheme[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prefixCss;\n\t\t\t\t\t},\n\t\t\t\t\t{} as ClassNames\n\t\t\t\t);\n\t\t\t\tbaseTheme = { ...baseTheme, ...prefixedCss };\n\n\t\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariant: theme.variant\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...theme,\n\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst constructedTheme = Object.keys(baseTheme).reduce(\n\t\t\t\t(theme, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn theme;\n\t\t\t\t\t}\n\t\t\t\t\tconst variantComposesClass = variantTheme[key] && variantTheme[key].trim();\n\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\ttheme[key] = variantComposesClass;\n\t\t\t\t\t} else if (virtualTheme[key] && virtualTheme[key].trim()) {\n\t\t\t\t\t\ttheme[key] = `${theme[key]} ${virtualTheme[key].trim()}`;\n\t\t\t\t\t}\n\t\t\t\t\treturn theme;\n\t\t\t\t},\n\t\t\t\t{ ...baseTheme } as ClassNames\n\t\t\t);\n\n\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\treturn {\n\t\t\t\t\ttheme: {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t[baseKey]: constructedTheme\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t},\n\t\t\t\t\tvariant: theme.variant\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...theme,\n\t\t\t\t[baseKey]: constructedTheme\n\t\t\t};\n\t\t},\n\t\t...coreTheme\n\t};\n});\n\nexport default theme;\n"],"sourceRoot":""}