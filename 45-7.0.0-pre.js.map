{"version":3,"sources":["webpack:///./src/theme/default/progress.m.css","webpack:///./src/progress/index.tsx","webpack:///./src/middleware/theme.tsx","webpack:///./src/common/util.ts"],"names":["module","exports"," _key","root","output","bar","progress","__webpack_require__","r","__webpack_exports__","d","Progress","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_0__","_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_theme_default_progress_m_css__WEBPACK_IMPORTED_MODULE_2__","_common_util__WEBPACK_IMPORTED_MODULE_3__","Object","theme","properties","children","factory","id","middleware","themeCss","classes","aria","value","showOutput","max","min","widgetId","percent","Math","round","_output","key","variant","assign","role","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","styles","width","renderProgress","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","coreTheme","uppercaseFirstChar","charAt","toUpperCase","slice","isThemeWithVariant","hasOwnProperty","compose","baseCss","css","prefix","baseKey","variantKey","virtualCss","keys","reduce","virtualTheme","variantTheme","baseTheme","prefixedCss","prefixCss","indexOf","classKey","toLowerCase","lowercaseFirstChar","replace","trim","[object Object]","variants","constructedTheme","variantComposesClass","Keys","formatAriaProperties","a"],"mappings":"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","file":"45-7.0.0-pre.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/progress\",\"root\":\"progress-m__root__2vX10\",\"output\":\"progress-m__output__1KJw_\",\"bar\":\"progress-m__bar__1uSqt\",\"progress\":\"progress-m__progress__3V_Rl\"};","import { RenderResult } from '@dojo/framework/core/interfaces';\nimport { create, tsx } from '@dojo/framework/core/vdom';\n\nimport theme from '../middleware/theme';\nimport * as css from '../theme/default/progress.m.css';\nimport { formatAriaProperties } from '../common/util';\n\nexport interface ProgressProperties {\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** Value used to calculate percent width */\n\tmax?: number;\n\t/** Value used to calculate percent width */\n\tmin?: number;\n\t/** Toggles visibility of progress bar output */\n\tshowOutput?: boolean;\n\t/** The current value */\n\tvalue: number;\n\t/** Value used to supply a dom id to the element with role=\"progressbar\" */\n\twidgetId?: string;\n}\n\nexport interface ProgressChildren {\n\toutput?(value: number, percent: number): RenderResult;\n}\n\nconst factory = create({ theme })\n\t.properties<ProgressProperties>()\n\t.children<ProgressChildren | undefined>();\n\nexport const Progress = factory(function Progress({\n\tchildren,\n\tid,\n\tproperties,\n\tmiddleware: { theme }\n}) {\n\tconst themeCss = theme.classes(css);\n\tconst {\n\t\taria = {},\n\t\tvalue,\n\t\tshowOutput = true,\n\t\tmax = 100,\n\t\tmin = 0,\n\t\twidgetId = `progress-${id}`\n\t} = properties();\n\n\tconst _output = (value: number, percent: number) => {\n\t\tconst { output } = children()[0] || ({} as ProgressChildren);\n\t\treturn output ? output(value, percent) : `${percent}%`;\n\t};\n\n\tconst renderProgress = (percent: number) => {\n\t\treturn <div classes={themeCss.progress} styles={{ width: `${percent}%` }} />;\n\t};\n\n\tconst percent = Math.round(((value - min) / (max - min)) * 100);\n\tconst output = _output(value, percent);\n\n\treturn (\n\t\t<div key=\"root\" classes={[theme.variant(), themeCss.root]}>\n\t\t\t<div\n\t\t\t\tclasses={themeCss.bar}\n\t\t\t\trole=\"progressbar\"\n\t\t\t\t{...formatAriaProperties(aria)}\n\t\t\t\taria-valuemin={`${min}`}\n\t\t\t\taria-valuemax={`${max}`}\n\t\t\t\taria-valuenow={`${value}`}\n\t\t\t\taria-valuetext={output}\n\t\t\t\tid={widgetId}\n\t\t\t>\n\t\t\t\t{renderProgress(percent)}\n\t\t\t</div>\n\t\t\t{showOutput ? <span classes={themeCss.output}>{output}</span> : null}\n\t\t</div>\n\t);\n});\n\nexport default Progress;\n","import { create } from '@dojo/framework/core/vdom';\nimport coreTheme, {\n\tThemeProperties as CoreThemeProperties\n} from '@dojo/framework/core/middleware/theme';\nimport { ClassNames, Theme } from '@dojo/framework/core/mixins/Themed';\nimport { ThemeWithVariant } from '@dojo/framework/core/interfaces';\n\nconst factory = create({ coreTheme });\nexport const THEME_KEY = ' _key';\n\nfunction uppercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toUpperCase()}${value.slice(1)}`;\n}\n\nfunction lowercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toLowerCase()}${value.slice(1)}`;\n}\n\nfunction isThemeWithVariant(theme: any): theme is ThemeWithVariant {\n\treturn theme && theme.hasOwnProperty('variant');\n}\n\nexport interface ThemeProperties extends CoreThemeProperties {}\n\nexport const theme = factory(function({ middleware: { coreTheme }, properties }) {\n\treturn {\n\t\tcompose: <T extends ClassNames, B extends ClassNames>(\n\t\t\tbaseCss: B,\n\t\t\tcss: T,\n\t\t\tprefix?: string\n\t\t): Theme | ThemeWithVariant => {\n\t\t\tconst theme = properties().theme;\n\t\t\tconst baseKey = baseCss[THEME_KEY];\n\t\t\tconst variantKey = css[THEME_KEY];\n\t\t\tconst virtualCss = Object.keys(baseCss).reduce(\n\t\t\t\t(virtualCss, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn virtualCss;\n\t\t\t\t\t}\n\t\t\t\t\tif (prefix && !virtualCss[`${prefix}${uppercaseFirstChar(key)}`]) {\n\t\t\t\t\t\tvirtualCss[`${prefix}${uppercaseFirstChar(key)}`] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\tif (!css[key]) {\n\t\t\t\t\t\tvirtualCss[key] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn virtualCss;\n\t\t\t\t},\n\t\t\t\t{ [THEME_KEY]: variantKey } as ClassNames\n\t\t\t);\n\t\t\tconst virtualTheme = coreTheme.classes(virtualCss);\n\t\t\tconst variantTheme = coreTheme.classes(css);\n\t\t\tlet baseTheme = coreTheme.classes(baseCss);\n\t\t\tif (prefix) {\n\t\t\t\tconst prefixedCss = Object.keys({ ...virtualTheme, ...variantTheme }).reduce(\n\t\t\t\t\t(prefixCss, key) => {\n\t\t\t\t\t\tif (key.indexOf(prefix) === 0 && key !== prefix) {\n\t\t\t\t\t\t\tconst classKey = lowercaseFirstChar(key.replace(prefix, ''));\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!variantTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key].trim()\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = `${baseTheme[classKey]} ${virtualTheme[\n\t\t\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\t\t].trim()}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = variantTheme[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prefixCss;\n\t\t\t\t\t},\n\t\t\t\t\t{} as ClassNames\n\t\t\t\t);\n\t\t\t\tbaseTheme = { ...baseTheme, ...prefixedCss };\n\n\t\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariant: theme.variant\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...theme,\n\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst constructedTheme = Object.keys(baseTheme).reduce(\n\t\t\t\t(theme, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn theme;\n\t\t\t\t\t}\n\t\t\t\t\tconst variantComposesClass = variantTheme[key] && variantTheme[key].trim();\n\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\ttheme[key] = variantComposesClass;\n\t\t\t\t\t} else if (virtualTheme[key] && virtualTheme[key].trim()) {\n\t\t\t\t\t\ttheme[key] = `${theme[key]} ${virtualTheme[key].trim()}`;\n\t\t\t\t\t}\n\t\t\t\t\treturn theme;\n\t\t\t\t},\n\t\t\t\t{ ...baseTheme } as ClassNames\n\t\t\t);\n\n\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\treturn {\n\t\t\t\t\ttheme: {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t[baseKey]: constructedTheme\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t},\n\t\t\t\t\tvariant: theme.variant\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...theme,\n\t\t\t\t[baseKey]: constructedTheme\n\t\t\t};\n\t\t},\n\t\t...coreTheme\n\t};\n});\n\nexport default theme;\n","interface AriaPropertyObject {\n\t[key: string]: string | null;\n}\n\nexport enum Keys {\n\tDown = 40,\n\tEnd = 35,\n\tEnter = 13,\n\tEscape = 27,\n\tHome = 36,\n\tLeft = 37,\n\tPageDown = 34,\n\tPageUp = 33,\n\tRight = 39,\n\tSpace = 32,\n\tTab = 9,\n\tUp = 38\n}\n\nexport function formatAriaProperties(aria: AriaPropertyObject): AriaPropertyObject {\n\tconst formattedAria = Object.keys(aria).reduce((a: AriaPropertyObject, key: string) => {\n\t\ta[`aria-${key.toLowerCase()}`] = aria[key];\n\t\treturn a;\n\t}, {});\n\treturn formattedAria;\n}\n"],"sourceRoot":""}