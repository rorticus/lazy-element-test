{"version":3,"sources":["webpack:///./src/select/select.nls.tsx","webpack:///./src/theme/default/chip.m.css","webpack:///./src/theme/default/typeahead.m.css","webpack:///./src/theme/default/chip-typeahead.m.css","webpack:///./src/label/index.tsx","webpack:///./src/icon/index.tsx","webpack:///./src/helper-text/index.tsx","webpack:///./src/text-input/index.tsx","webpack:///./src/loading-indicator/index.tsx","webpack:///./src/popup/index.tsx","webpack:///./src/list/index.tsx","webpack:///./src/trigger-popup/index.tsx","webpack:///./src/chip/index.tsx","webpack:///./src/typeahead/index.tsx","webpack:///./src/chip-typeahead/index.tsx","webpack:///./src/middleware/theme.tsx","webpack:///./src/common/util.ts","webpack:///./src/common/styles/base.m.css","webpack:///./src/theme/default/label.m.css","webpack:///./src/theme/default/icon.m.css","webpack:///./src/theme/default/helper-text.m.css","webpack:///./src/theme/default/text-input.m.css","webpack:///./src/middleware/bodyScroll.tsx","webpack:///./src/theme/default/popup.m.css","webpack:///./src/popup/popup.m.css","webpack:///./src/theme/default/list.m.css","webpack:///./src/theme/default/loading-indicator.m.css","webpack:///./src/theme/default/list-item.m.css","webpack:///./src/theme/default/menu-item.m.css","webpack:///./src/list/list.m.css","webpack:///./src/trigger-popup/trigger-popup.m.css"],"names":["__webpack_exports__","messages","requiredMessage","module","exports"," _key","root","iconWrapper","label","closeIconWrapper","clickable","disabled","icon","invalid","valid","trigger","menuWrapper","focused","values","value","item","selected","selectedIcon","input","inputWrapper","wrapper","hasValue","active","hasLabel","__webpack_require__","r","d","Label","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_0__","_common_styles_base_m_css__WEBPACK_IMPORTED_MODULE_1__","_middleware_theme__WEBPACK_IMPORTED_MODULE_2__","_theme_default_label_m_css__WEBPACK_IMPORTED_MODULE_3__","_common_util__WEBPACK_IMPORTED_MODULE_4__","Object","theme","properties","factory","id","children","middleware","aria","forId","hidden","readOnly","required","secondary","widgetId","themeCss","classes","assign","variant","readonly","for","Icon","_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_common_util__WEBPACK_IMPORTED_MODULE_2__","_theme_default_icon_m_css__WEBPACK_IMPORTED_MODULE_3__","_common_styles_base_m_css__WEBPACK_IMPORTED_MODULE_4__","type","altText","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_1__","_theme_default_helper_text_m_css__WEBPACK_IMPORTED_MODULE_2__","text","themedCss","key","aria-hidden","title","TextInput","Addon","_dojo_framework_core_middleware_focus__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_middleware_icache__WEBPACK_IMPORTED_MODULE_1__","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_2__","_dojo_framework_core_middleware_validity__WEBPACK_IMPORTED_MODULE_3__","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_4__","_common_util__WEBPACK_IMPORTED_MODULE_5__","_helper_text_index__WEBPACK_IMPORTED_MODULE_6__","_label_index__WEBPACK_IMPORTED_MODULE_7__","_theme_default_text_input_m_css__WEBPACK_IMPORTED_MODULE_8__","formatAutocomplete","autocomplete","icache","validity","focus","diffProperty","invalidator","previous","next","pattern","RegExp","source","dirty","getOrSet","customValidator","helperText","labelHidden","max","maxLength","min","minLength","name","onBlur","onClick","onFocus","onKeyDown","onKeyUp","onOut","onOver","onValidate","onValue","patternValue","placeholder","step","themeProp","initialValue","validValue","undefined","message","leading","trailing","get","set","_callOnValidate","previousMessage","previousValid","customValid","computedHelperText","inputFocused","isFocused","role","hasLeading","hasTrailing","noLabel","inputWrapperFocused","aria-invalid","shouldFocus","maxlength","minlength","aria-readonly","onblur","onfocus","oninput","event","stopPropagation","target","onkeydown","which","preventDefault","onkeyup","onclick","onpointerenter","onpointerleave","addonFactory","filled","addonRoot","addonFilled","LoadingIndicator","_theme_default_loading_indicator_m_css__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_2__","buffer","bar","primary","inner","Popup","_dojo_framework_core_middleware_dimensions__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_middleware_bodyScroll__WEBPACK_IMPORTED_MODULE_2__","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_3__","_theme_default_popup_m_css__WEBPACK_IMPORTED_MODULE_4__","_popup_m_css__WEBPACK_IMPORTED_MODULE_5__","dimensions","bodyScroll","underlayVisible","position","x","yBottom","yTop","onClose","open","wrapperDimensions","bottomOfVisibleScreen","document","documentElement","scrollTop","clientHeight","topOfVisibleScreen","willFit","size","height","wrapperStyles","opacity","left","top","styles","MenuItem","ListItem","defaultTransform","List","_dojo_framework_shim_global__WEBPACK_IMPORTED_MODULE_3__","_middleware_theme__WEBPACK_IMPORTED_MODULE_5__","_theme_default_list_item_m_css__WEBPACK_IMPORTED_MODULE_6__","_theme_default_menu_item_m_css__WEBPACK_IMPORTED_MODULE_7__","_theme_default_list_m_css__WEBPACK_IMPORTED_MODULE_8__","_list_m_css__WEBPACK_IMPORTED_MODULE_9__","_dojo_framework_core_middleware_data__WEBPACK_IMPORTED_MODULE_10__","_loading_indicator__WEBPACK_IMPORTED_MODULE_11__","_dojo_framework_core_util__WEBPACK_IMPORTED_MODULE_12__","menuItemFactory","onSelect","onRequestActive","requestActive","onpointermove","onpointerdown","aria-disabled","listItemFactory","aria-selected","divider","data","activeIndex","focusable","itemsInView","menu","onActiveIndexChange","onRequestClose","itemRenderer","getOrRead","getOptions","setOptions","getTotal","isLoading","setActiveIndex","index","setValue","total","Enter","Space","activeItem","Down","metaKey","ctrlKey","computedActiveIndex","Up","Escape","Home","End","newIndex","existingTimer","inputText","clearTimeout","resetTextTimeout","setTimeout","allItems","query","foundIndex","some","option","optionDisabled","toLowerCase","indexOf","getComputedIndexFromInput","renderPlaceholder","itemProps","idBase","compose","renderItem","itemDisabled","selectedValue","offscreenItemProps","onActive","scrollIntoView","offscreenMenuItem","itemHeight","dnode","div","createElement","style","body","appendChild","mount","domNode","sync","getBoundingClientRect","removeChild","offscreenHeight","nodePadding","Math","menuHeight","rootStyles","maxHeight","previousActiveIndex","visibleStartIndex","floor","visibleEndIndex","startNode","offsetY","renderedItemsCount","pageNumber","pageSize","items","start","count","renderedItems","pages","loading","i","page","pageOptions","indexWithinPage","menuOption","pageIsLoading","renderItems","totalContentHeight","tabIndex","e","onscroll","newScrollTop","aria-orientation","aria-activedescendant","transform","_dojo_framework_core_middleware_icache__WEBPACK_IMPORTED_MODULE_5__","TriggerPopup","_dojo_framework_core_middleware_dimensions__WEBPACK_IMPORTED_MODULE_1__","_a","matchWidth","onOpen","otherProperties","tslib__WEBPACK_IMPORTED_MODULE_0__","triggerPosition","triggerSize","triggerTop","triggerBottom","width","content","close","_trigger_popup_m_css__WEBPACK_IMPORTED_MODULE_4__","_popup__WEBPACK_IMPORTED_MODULE_3__","_theme_default_chip_m_css__WEBPACK_IMPORTED_MODULE_2__","_icon_index__WEBPACK_IMPORTED_MODULE_3__","checked","closeIcon","@dojo/widgets/icon","Typeahead","_dojo_framework_core_middleware_data__WEBPACK_IMPORTED_MODULE_2__","_list__WEBPACK_IMPORTED_MODULE_3__","_middleware_theme__WEBPACK_IMPORTED_MODULE_4__","_dojo_framework_core_middleware_focus__WEBPACK_IMPORTED_MODULE_5__","_theme_default_typeahead_m_css__WEBPACK_IMPORTED_MODULE_6__","_trigger_popup__WEBPACK_IMPORTED_MODULE_7__","_dojo_framework_shim_array__WEBPACK_IMPORTED_MODULE_8__","_text_input__WEBPACK_IMPORTED_MODULE_9__","_select_select_nls__WEBPACK_IMPORTED_MODULE_10__","_dojo_framework_core_middleware_i18n__WEBPACK_IMPORTED_MODULE_11__","_helper_text__WEBPACK_IMPORTED_MODULE_12__","_theme_default_list_m_css__WEBPACK_IMPORTED_MODULE_13__","_common_util__WEBPACK_IMPORTED_MODULE_14__","_loading_indicator__WEBPACK_IMPORTED_MODULE_15__","_theme_default_text_input_m_css__WEBPACK_IMPORTED_MODULE_16__","i18n","strict","controlledValue","localize","shared","sharedResource","listId","triggerId","isValid","Boolean","callOnValue","toggleOpen","openMenu","closeMenu","valueOption","currentOptions","length","controls","haspopup","expanded","@dojo/widgets/text-input","toggleClosed","resource","arraysDifferent","ChipTypeahead","_dojo_framework_core_middleware_data__WEBPACK_IMPORTED_MODULE_3__","_typeahead__WEBPACK_IMPORTED_MODULE_4__","_theme_default_chip_typeahead_m_css__WEBPACK_IMPORTED_MODULE_5__","_list__WEBPACK_IMPORTED_MODULE_6__","_chip__WEBPACK_IMPORTED_MODULE_7__","_dojo_framework_core_middleware_focus__WEBPACK_IMPORTED_MODULE_8__","_theme_default_typeahead_m_css__WEBPACK_IMPORTED_MODULE_9__","_theme_default_chip_m_css__WEBPACK_IMPORTED_MODULE_10__","_theme_default_label_m_css__WEBPACK_IMPORTED_MODULE_11__","_dojo_framework_shim_array__WEBPACK_IMPORTED_MODULE_12__","_label__WEBPACK_IMPORTED_MODULE_13__","arr1","arr2","placement","chips","map","@dojo/widgets/chip","splice","@dojo/widgets/label","duplicates","props","coreTheme","uppercaseFirstChar","charAt","toUpperCase","slice","isThemeWithVariant","hasOwnProperty","baseCss","css","prefix","baseKey","variantKey","virtualCss","keys","reduce","virtualTheme","variantTheme","baseTheme","prefixedCss","prefixCss","classKey","lowercaseFirstChar","replace","trim","[object Object]","variants","constructedTheme","variantComposesClass","Keys","formatAriaProperties","a","visuallyHidden","clockIcon","downIcon","leftIcon","rightIcon","plusIcon","minusIcon","checkIcon","upIcon","upAltIcon","downAltIcon","searchIcon","barsIcon","settingsIcon","alertIcon","helpIcon","infoIcon","cancelIcon","checkedBoxIcon","phoneIcon","editIcon","dateIcon","linkIcon","locationIcon","secureIcon","mailIcon","eyeIcon","eyeSlashIcon","starIcon","_dojo_framework_shim_global__WEBPACK_IMPORTED_MODULE_1__","destroy","bodyStyle","previousOverflow","enableScroll","setProperty","removeProperty","enable","getPropertyValue","underlay","transformer"],"mappings":"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","file":"3-7.0.0-pre.js","sourcesContent":["const messages = {\n\trequiredMessage: 'Please select a value.'\n};\n\nexport default { messages };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/chip\",\"root\":\"chip-m__root__30qaA\",\"iconWrapper\":\"chip-m__iconWrapper__18weq\",\"label\":\"chip-m__label__3sCFS\",\"closeIconWrapper\":\"chip-m__closeIconWrapper__1buno\",\"clickable\":\"chip-m__clickable__yM2gu\",\"disabled\":\"chip-m__disabled__3a9Go\",\"icon\":\"chip-m__icon__3g4nh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/typeahead\",\"root\":\"typeahead-m__root__3fXvS\",\"disabled\":\"typeahead-m__disabled__7WJao\",\"invalid\":\"typeahead-m__invalid__1mrh-\",\"valid\":\"typeahead-m__valid__2gOUe\",\"trigger\":\"typeahead-m__trigger__1lfUi\",\"menuWrapper\":\"typeahead-m__menuWrapper__75JxO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/chip-typeahead\",\"root\":\"chip-typeahead-m__root__2evvo\",\"focused\":\"chip-typeahead-m__focused__dykPs\",\"values\":\"chip-typeahead-m__values__2wsIY\",\"value\":\"chip-typeahead-m__value__2YALd\",\"item\":\"chip-typeahead-m__item__Lpwci\",\"selected\":\"chip-typeahead-m__selected__1BLFV\",\"selectedIcon\":\"chip-typeahead-m__selectedIcon__1yK_6\",\"input\":\"chip-typeahead-m__input__1NEiR\",\"inputWrapper\":\"chip-typeahead-m__inputWrapper__2Dlu3\",\"label\":\"chip-typeahead-m__label__PQqJ5\",\"wrapper\":\"chip-typeahead-m__wrapper__3kWJ-\",\"hasValue\":\"chip-typeahead-m__hasValue__1UKwX\",\"active\":\"chip-typeahead-m__active__23nmJ\",\"hasLabel\":\"chip-typeahead-m__hasLabel__1gygf\"};","import { create, tsx } from '@dojo/framework/core/vdom';\n\nimport * as baseCss from '../common/styles/base.m.css';\nimport theme from '../middleware/theme';\nimport * as css from '../theme/default/label.m.css';\nimport { formatAriaProperties } from '../common/util';\n\nexport interface LabelProperties {\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** If the label should be disabled */\n\tdisabled?: boolean;\n\t/** If the label is focused */\n\tfocused?: boolean;\n\t/** ID to explicitly associate the label with an input element */\n\tforId?: string;\n\t/** If the label should be invisible (it will remain accessible to screen readers) */\n\thidden?: boolean;\n\t/** If the label is read only */\n\treadOnly?: boolean;\n\t/** If the label is required */\n\trequired?: boolean;\n\t/** If the label should use the secondary styling */\n\tsecondary?: boolean;\n\t/** If the label is valid */\n\tvalid?: boolean;\n\t/** ID of the underlying label element */\n\twidgetId?: string;\n\t/** Indicates that the label or it's control are active, will add extra style class */\n\tactive?: boolean;\n}\n\nconst factory = create({ theme }).properties<LabelProperties>();\n\nexport const Label = factory(function Label({ properties, id, children, middleware: { theme } }) {\n\tconst {\n\t\taria = {},\n\t\tactive,\n\t\tdisabled,\n\t\tfocused,\n\t\tforId,\n\t\thidden,\n\t\treadOnly,\n\t\trequired,\n\t\tsecondary,\n\t\tvalid,\n\t\twidgetId = `label-${id}`\n\t} = properties();\n\n\tconst themeCss = theme.classes(css);\n\n\treturn (\n\t\t<label\n\t\t\t{...formatAriaProperties(aria)}\n\t\t\tid={widgetId}\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tthemeCss.root,\n\t\t\t\tdisabled ? themeCss.disabled : null,\n\t\t\t\tfocused ? themeCss.focused : null,\n\t\t\t\tvalid === true ? themeCss.valid : null,\n\t\t\t\tvalid === false ? themeCss.invalid : null,\n\t\t\t\treadOnly ? themeCss.readonly : null,\n\t\t\t\trequired ? themeCss.required : null,\n\t\t\t\tsecondary ? themeCss.secondary : null,\n\t\t\t\tactive ? themeCss.active : null,\n\t\t\t\thidden ? baseCss.visuallyHidden : null\n\t\t\t]}\n\t\t\tfor={forId}\n\t\t>\n\t\t\t{children()}\n\t\t</label>\n\t);\n});\n\nexport default Label;\n","import { create, tsx } from '@dojo/framework/core/vdom';\nimport theme from '../middleware/theme';\nimport { formatAriaProperties } from '../common/util';\nimport * as css from '../theme/default/icon.m.css';\nimport * as baseCss from '../common/styles/base.m.css';\n\nexport type IconType = keyof typeof css;\n\nexport interface IconProperties {\n\t/** An optional, visually hidden label for the icon */\n\taltText?: string;\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** Icon type, e.g. downIcon, searchIcon, etc. */\n\ttype: IconType;\n}\n\nconst factory = create({ theme }).properties<IconProperties>();\n\nexport const Icon = factory(function Icon({ properties, middleware: { theme } }) {\n\tconst {\n\t\taria = {\n\t\t\thidden: 'true'\n\t\t},\n\t\ttype,\n\t\taltText\n\t} = properties();\n\n\tconst classes = theme.classes(css);\n\n\treturn (\n\t\t<virtual>\n\t\t\t<i\n\t\t\t\tclasses={[theme.variant(), classes.icon, classes[type]]}\n\t\t\t\t{...formatAriaProperties(aria)}\n\t\t\t/>\n\t\t\t{altText ? <span classes={baseCss.visuallyHidden}>{altText}</span> : null}\n\t\t</virtual>\n\t);\n});\n\nexport default Icon;\n","import theme from '@dojo/framework/core/middleware/theme';\nimport { create, tsx } from '@dojo/framework/core/vdom';\nimport * as css from '../theme/default/helper-text.m.css';\n\nexport interface HelperTextProperties {\n\t/** The supplied helper text */\n\ttext?: string;\n\t/** If `HelperText` indicates a valid condition */\n\tvalid?: boolean;\n}\n\nconst factory = create({ theme }).properties<HelperTextProperties>();\n\nexport default factory(function HelperText({ properties, middleware: { theme } }) {\n\tconst { text, valid } = properties();\n\tconst themedCss = theme.classes(css);\n\n\treturn (\n\t\t<div\n\t\t\tkey=\"root\"\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tthemedCss.root,\n\t\t\t\tvalid === true ? themedCss.valid : null,\n\t\t\t\tvalid === false ? themedCss.invalid : null\n\t\t\t]}\n\t\t>\n\t\t\t{text && (\n\t\t\t\t<p key=\"text\" classes={themedCss.text} aria-hidden={'true'} title={text}>\n\t\t\t\t\t{text}\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</div>\n\t);\n});\n","import { RenderResult } from '@dojo/framework/core/interfaces';\nimport focus from '@dojo/framework/core/middleware/focus';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport theme from '@dojo/framework/core/middleware/theme';\nimport validity from '@dojo/framework/core/middleware/validity';\nimport { create, diffProperty, invalidator, tsx } from '@dojo/framework/core/vdom';\nimport { formatAriaProperties } from '../common/util';\nimport HelperText from '../helper-text/index';\nimport Label from '../label/index';\nimport * as css from '../theme/default/text-input.m.css';\n\nexport type TextInputType =\n\t| 'text'\n\t| 'email'\n\t| 'number'\n\t| 'password'\n\t| 'search'\n\t| 'tel'\n\t| 'url'\n\t| 'date';\n\nexport interface BaseInputProperties<T extends { value: any } = { value: string }> {\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** Should the field autocomplete */\n\tautocomplete?: boolean | string;\n\t/** The disabled property of the input */\n\tdisabled?: boolean;\n\t/** Text to display below the input */\n\thelperText?: string;\n\t/** Hides the label for a11y purposes */\n\tlabelHidden?: boolean;\n\t/** The name property of the input */\n\tname?: string;\n\t/** Callback fired when the input is blurred */\n\tonBlur?(): void;\n\t/** Callback fired when the input is focused */\n\tonFocus?(): void;\n\t/** Callback fired when a key is pressed down */\n\tonKeyDown?(key: number, preventDefault: () => void): void;\n\t/** Callback fired when a key is released */\n\tonKeyUp?(key: number, preventDefault: () => void): void;\n\t/** Callback fired when the input validation changes */\n\tonValidate?: (valid: boolean | undefined, message: string) => void;\n\t/** Callback fired when the input value changes */\n\tonValue?(value?: T['value']): void;\n\t/** Callback fired when the input is clicked */\n\tonClick?(): void;\n\t/** Callback fired when the pointer enters the input */\n\tonOver?(): void;\n\t/** Callback fired when the pointer leaves the input */\n\tonOut?(): void;\n\t/** Placeholder text */\n\tplaceholder?: string;\n\t/** The readonly attribute of the input */\n\treadOnly?: boolean;\n\t/** The required attribute of the input */\n\trequired?: boolean;\n\t/** The initial value */\n\tinitialValue?: T['value'];\n\t/** The controlled value */\n\tvalue?: T['value'];\n\t/** The id to be applied to the input */\n\twidgetId?: string;\n}\n\nexport interface TextInputChildren {\n\t/** The label to be displayed above the input */\n\tlabel?: RenderResult;\n\t/** Renderer for leading content */\n\tleading?: RenderResult;\n\t/** Renderer for trailing content */\n\ttrailing?: RenderResult;\n}\n\nexport interface TextInputProperties extends BaseInputProperties {\n\t/** Custom validator used to validate the contents of the input */\n\tcustomValidator?: (value: string) => { valid?: boolean; message?: string } | void;\n\t/** The min value a number can be */\n\tmin?: number | string;\n\t/** The max value a number can be */\n\tmax?: number | string;\n\t/** The step to increment the number value by */\n\tstep?: number | string;\n\t/** Maximum number of characters allowed in the input */\n\tmaxLength?: number | string;\n\t/** Minimum number of characters allowed in the input */\n\tminLength?: number | string;\n\t/** Pattern used as part of validation */\n\tpattern?: string | RegExp;\n\t/** Input type, e.g. text, email, tel, etc. */\n\ttype?: TextInputType;\n\t/** Represents if the input value is valid */\n\tvalid?: { valid?: boolean; message?: string } | boolean;\n}\n\nfunction formatAutocomplete(autocomplete: string | boolean | undefined): string | undefined {\n\tif (typeof autocomplete === 'boolean') {\n\t\treturn autocomplete ? 'on' : 'off';\n\t}\n\treturn autocomplete;\n}\n\ninterface TextInputICache {\n\tuuid: string;\n\tdirty: boolean;\n\tvalue?: string;\n\tinitialValue?: string;\n}\n\nconst factory = create({\n\ttheme,\n\ticache: createICacheMiddleware<TextInputICache>(),\n\tvalidity,\n\tfocus,\n\tdiffProperty,\n\tinvalidator\n})\n\t.properties<TextInputProperties>()\n\t.children<TextInputChildren | undefined>();\n\nexport const TextInput = factory(function TextInput({\n\tmiddleware: { icache, theme, validity, focus, diffProperty, invalidator },\n\tproperties,\n\tchildren,\n\tid\n}) {\n\tdiffProperty('pattern', (previous: TextInputProperties, next: TextInputProperties) => {\n\t\tconst value = next.pattern instanceof RegExp ? next.pattern.source : next.pattern;\n\t\tif (value !== previous.pattern) {\n\t\t\tinvalidator();\n\t\t}\n\t});\n\n\tconst themeCss = theme.classes(css);\n\tconst dirty = icache.getOrSet('dirty', false);\n\n\tconst {\n\t\taria = {},\n\t\tautocomplete,\n\t\tclasses,\n\t\tcustomValidator,\n\t\tdisabled,\n\t\thelperText,\n\t\tlabelHidden = false,\n\t\tmax,\n\t\tmaxLength,\n\t\tmin,\n\t\tminLength,\n\t\tname,\n\t\tonBlur,\n\t\tonClick,\n\t\tonFocus,\n\t\tonKeyDown,\n\t\tonKeyUp,\n\t\tonOut,\n\t\tonOver,\n\t\tonValidate,\n\t\tonValue,\n\t\tpattern: patternValue,\n\t\tplaceholder,\n\t\treadOnly,\n\t\trequired,\n\t\tstep,\n\t\ttheme: themeProp,\n\t\ttype = 'text',\n\t\tinitialValue,\n\t\tvalid: validValue = { valid: undefined, message: '' },\n\t\twidgetId = `text-input-${id}`\n\t} = properties();\n\n\tlet { value } = properties();\n\tconst [{ label, leading, trailing } = {} as TextInputChildren] = children();\n\n\tif (value === undefined) {\n\t\tvalue = icache.get('value');\n\t\tconst existingInitialValue = icache.get('initialValue');\n\n\t\tif (initialValue !== existingInitialValue) {\n\t\t\ticache.set('value', initialValue);\n\t\t\ticache.set('initialValue', initialValue);\n\t\t\tvalue = initialValue;\n\t\t}\n\t}\n\n\tconst pattern = patternValue instanceof RegExp ? patternValue.source : patternValue;\n\n\tfunction _callOnValidate(valid: boolean | undefined, message: string) {\n\t\tlet { valid: previousValid } = properties();\n\t\tlet previousMessage: string | undefined;\n\n\t\tif (typeof previousValid === 'object') {\n\t\t\tpreviousMessage = previousValid.message;\n\t\t\tpreviousValid = previousValid.valid;\n\t\t}\n\n\t\tif (valid !== previousValid || message !== previousMessage) {\n\t\t\tonValidate && onValidate(valid, message);\n\t\t}\n\t}\n\n\tif (onValidate) {\n\t\tif (value === '' && !dirty) {\n\t\t\t_callOnValidate(undefined, '');\n\t\t} else {\n\t\t\ticache.set('dirty', true);\n\t\t\tlet { valid, message = '' } = validity.get('input', value || '');\n\t\t\tif (valid && customValidator) {\n\t\t\t\tconst customValid = customValidator(value || '');\n\t\t\t\tif (customValid) {\n\t\t\t\t\tvalid = customValid.valid;\n\t\t\t\t\tmessage = customValid.message || '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_callOnValidate(valid, message);\n\t\t}\n\t}\n\n\tconst { valid, message } =\n\t\ttypeof validValue === 'boolean' ? { valid: validValue, message: '' } : validValue;\n\n\tconst computedHelperText = (valid === false && message) || helperText;\n\tconst inputFocused = focus.isFocused('input');\n\n\treturn (\n\t\t<div key=\"root\" classes={[theme.variant(), themeCss.root]} role=\"presentation\">\n\t\t\t<div\n\t\t\t\tkey=\"wrapper\"\n\t\t\t\tclasses={[\n\t\t\t\t\tthemeCss.wrapper,\n\t\t\t\t\tdisabled ? themeCss.disabled : null,\n\t\t\t\t\tinputFocused ? themeCss.focused : null,\n\t\t\t\t\tvalid === false ? themeCss.invalid : null,\n\t\t\t\t\tvalid === true ? themeCss.valid : null,\n\t\t\t\t\treadOnly ? themeCss.readonly : null,\n\t\t\t\t\trequired ? themeCss.required : null,\n\t\t\t\t\tleading ? themeCss.hasLeading : null,\n\t\t\t\t\ttrailing ? themeCss.hasTrailing : null,\n\t\t\t\t\t!label || labelHidden ? themeCss.noLabel : null\n\t\t\t\t]}\n\t\t\t\trole=\"presentation\"\n\t\t\t>\n\t\t\t\t{label && (\n\t\t\t\t\t<Label\n\t\t\t\t\t\ttheme={themeProp}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tvalid={valid}\n\t\t\t\t\t\tfocused={inputFocused}\n\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\thidden={labelHidden}\n\t\t\t\t\t\tforId={widgetId}\n\t\t\t\t\t\tactive={!!value || inputFocused}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Label>\n\t\t\t\t)}\n\t\t\t\t<div\n\t\t\t\t\tkey=\"inputWrapper\"\n\t\t\t\t\tclasses={[\n\t\t\t\t\t\tthemeCss.inputWrapper,\n\t\t\t\t\t\tinputFocused ? themeCss.inputWrapperFocused : undefined\n\t\t\t\t\t]}\n\t\t\t\t\trole=\"presentation\"\n\t\t\t\t>\n\t\t\t\t\t{leading}\n\t\t\t\t\t<input\n\t\t\t\t\t\t{...formatAriaProperties(aria)}\n\t\t\t\t\t\taria-invalid={valid === false ? 'true' : null}\n\t\t\t\t\t\tautocomplete={formatAutocomplete(autocomplete)}\n\t\t\t\t\t\tclasses={themeCss.input}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tid={widgetId}\n\t\t\t\t\t\tfocus={focus.shouldFocus}\n\t\t\t\t\t\tkey={'input'}\n\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\tmaxlength={maxLength ? `${maxLength}` : null}\n\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\tminlength={minLength ? `${minLength}` : null}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tpattern={pattern}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\taria-readonly={readOnly ? 'true' : null}\n\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonblur={() => {\n\t\t\t\t\t\t\tonBlur && onBlur();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonfocus={() => {\n\t\t\t\t\t\t\tonFocus && onFocus();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toninput={(event: Event) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tconst value = (event.target as HTMLInputElement).value;\n\t\t\t\t\t\t\ticache.set('value', value);\n\t\t\t\t\t\t\tonValue && onValue(value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonkeydown={(event: KeyboardEvent) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonKeyDown && onKeyDown(event.which, () => event.preventDefault());\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonkeyup={(event: KeyboardEvent) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonKeyUp && onKeyUp(event.which, () => event.preventDefault());\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\tonClick && onClick();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonpointerenter={() => {\n\t\t\t\t\t\t\tonOver && onOver();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonpointerleave={() => {\n\t\t\t\t\t\t\tonOut && onOut();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t{trailing}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<HelperText\n\t\t\t\ttext={computedHelperText}\n\t\t\t\tvalid={valid}\n\t\t\t\tclasses={classes}\n\t\t\t\ttheme={themeProp}\n\t\t\t/>\n\t\t</div>\n\t);\n});\n\nexport interface AddonProperties {\n\tfilled?: boolean;\n}\n\nconst addonFactory = create({\n\ttheme\n})\n\t.properties<AddonProperties>()\n\t.children();\n\nexport const Addon = addonFactory(function Addon({ middleware: { theme }, properties, children }) {\n\tconst themeCss = theme.classes(css);\n\tconst { filled } = properties();\n\n\treturn (\n\t\t<span classes={[themeCss.addonRoot, filled ? themeCss.addonFilled : null]}>\n\t\t\t{children()}\n\t\t</span>\n\t);\n});\n\nexport default TextInput;\n","import * as css from '../theme/default/loading-indicator.m.css';\nimport theme from '../middleware/theme';\nimport { ThemedProperties } from '@dojo/framework/core/mixins/Themed';\nimport { create, tsx } from '@dojo/framework/core/vdom';\n\nexport interface LoadingIndicatorProperties extends ThemedProperties {}\n\nconst factory = create({ theme }).properties<LoadingIndicatorProperties>();\n\nexport const LoadingIndicator = factory(function LoadingIndicator({ middleware: { theme } }) {\n\tconst classes = theme.classes(css);\n\n\treturn (\n\t\t<div classes={[theme.variant(), classes.root]} role=\"progressbar\">\n\t\t\t<div classes={classes.buffer} />\n\t\t\t<div classes={[classes.bar, classes.primary]}>\n\t\t\t\t<span classes={classes.inner} />\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default LoadingIndicator;\n","import { dimensions } from '@dojo/framework/core/middleware/dimensions';\nimport { theme } from '@dojo/framework/core/middleware/theme';\nimport { bodyScroll } from '../middleware/bodyScroll';\nimport { create, tsx } from '@dojo/framework/core/vdom';\nimport * as css from '../theme/default/popup.m.css';\nimport * as fixedCss from './popup.m.css';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\n\nexport type PopupPosition = 'above' | 'below';\n\nexport interface BasePopupProperties {\n\t/** Preferred position where the popup should render relative to the provided position (defaults to \"below\"). If the popup does not have room to fully render in the preferred position it will switch to the opposite side. */\n\tposition?: PopupPosition;\n\t/** If the underlay should be visible (defaults to false) */\n\tunderlayVisible?: boolean;\n\t/** Callback triggered when the popup is closed */\n\tonClose?(): void;\n}\n\nexport interface PopupProperties extends BasePopupProperties {\n\t/** The X position on the page where the popup should render */\n\tx: number;\n\t/** The Y position on the page where the bottom of the popup should be if rendering \"above\" */\n\tyBottom: number;\n\t/** The Y position on the page where the popup should start if rendering \"below\" */\n\tyTop: number;\n\t/** Whether the popup is currently open */\n\topen?: boolean;\n}\n\nconst factory = create({ dimensions, theme, bodyScroll })\n\t.properties<PopupProperties>()\n\t.children<RenderResult | undefined>();\n\nexport const Popup = factory(function({\n\tproperties,\n\tchildren,\n\tmiddleware: { dimensions, theme, bodyScroll }\n}) {\n\tconst {\n\t\tunderlayVisible = false,\n\t\tposition = 'below',\n\t\tx,\n\t\tyBottom,\n\t\tyTop,\n\t\tonClose,\n\t\topen\n\t} = properties();\n\n\tconst wrapperDimensions = dimensions.get('wrapper');\n\tconst bottomOfVisibleScreen =\n\t\tdocument.documentElement.scrollTop + document.documentElement.clientHeight;\n\tconst topOfVisibleScreen = document.documentElement.scrollTop;\n\n\tconst willFit = {\n\t\tbelow: yTop + wrapperDimensions.size.height <= bottomOfVisibleScreen,\n\t\tabove: yBottom - wrapperDimensions.size.height >= topOfVisibleScreen\n\t};\n\n\tlet wrapperStyles: Partial<CSSStyleDeclaration> = {\n\t\topacity: '0'\n\t};\n\n\tif (wrapperDimensions.size.height) {\n\t\twrapperStyles = {\n\t\t\tleft: `${x}px`,\n\t\t\topacity: '1'\n\t\t};\n\n\t\tif (position === 'below') {\n\t\t\tif (willFit.below) {\n\t\t\t\twrapperStyles.top = `${yTop}px`;\n\t\t\t} else {\n\t\t\t\twrapperStyles.top = `${yBottom - wrapperDimensions.size.height}px`;\n\t\t\t}\n\t\t} else if (position === 'above') {\n\t\t\tif (willFit.above) {\n\t\t\t\twrapperStyles.top = `${yBottom - wrapperDimensions.size.height}px`;\n\t\t\t} else {\n\t\t\t\twrapperStyles.top = `${yTop}px`;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst classes = theme.classes(css);\n\n\tbodyScroll(!open);\n\n\treturn (\n\t\topen && (\n\t\t\t<body>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"underlay\"\n\t\t\t\t\tclasses={[\n\t\t\t\t\t\ttheme.variant(),\n\t\t\t\t\t\tfixedCss.underlay,\n\t\t\t\t\t\tunderlayVisible && classes.underlayVisible\n\t\t\t\t\t]}\n\t\t\t\t\tonclick={onClose}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"wrapper\"\n\t\t\t\t\tclasses={[theme.variant(), fixedCss.root]}\n\t\t\t\t\tstyles={wrapperStyles}\n\t\t\t\t>\n\t\t\t\t\t{children()}\n\t\t\t\t</div>\n\t\t\t</body>\n\t\t)\n\t);\n});\n\nexport default Popup;\n","import { RenderResult } from '@dojo/framework/core/interfaces';\nimport { focus } from '@dojo/framework/core/middleware/focus';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport { create, renderer, tsx } from '@dojo/framework/core/vdom';\nimport global from '@dojo/framework/shim/global';\nimport { Keys } from '../common/util';\nimport theme from '../middleware/theme';\nimport * as listItemCss from '../theme/default/list-item.m.css';\nimport * as menuItemCss from '../theme/default/menu-item.m.css';\nimport * as css from '../theme/default/list.m.css';\nimport * as fixedCss from './list.m.css';\nimport { createDataMiddleware } from '@dojo/framework/core/middleware/data';\nimport LoadingIndicator from '../loading-indicator';\nimport { throttle } from '@dojo/framework/core/util';\n\nexport interface MenuItemProperties {\n\t/** Callback used when the item is clicked */\n\tonSelect(): void;\n\t/** Property to set the active state of the item, indicates it's the current keyboard / mouse navigation target */\n\tactive?: boolean;\n\t/** Callback used when the item wants to request it be made active, to example on pointer move */\n\tonRequestActive(): void;\n\t/** Property to set the disabled state of the item */\n\tdisabled?: boolean;\n\t/** The id to apply to this widget top level for a11y */\n\twidgetId: string;\n}\n\nconst menuItemFactory = create({ theme }).properties<MenuItemProperties>();\n\nexport const MenuItem = menuItemFactory(function MenuItem({\n\tproperties,\n\tchildren,\n\tmiddleware: { theme }\n}) {\n\tconst { onSelect, active = false, onRequestActive, disabled = false, widgetId } = properties();\n\n\tconst themedCss = theme.classes(menuItemCss);\n\n\tfunction select() {\n\t\t!disabled && onSelect();\n\t}\n\n\tfunction requestActive() {\n\t\t!disabled && !active && onRequestActive();\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tid={widgetId}\n\t\t\tkey=\"root\"\n\t\t\tonpointermove={throttle(() => {\n\t\t\t\trequestActive();\n\t\t\t}, 500)}\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tthemedCss.root,\n\t\t\t\tactive && themedCss.active,\n\t\t\t\tdisabled && themedCss.disabled\n\t\t\t]}\n\t\t\tonpointerdown={() => {\n\t\t\t\trequestActive();\n\t\t\t\tselect();\n\t\t\t}}\n\t\t\trole=\"menuitem\"\n\t\t\taria-disabled={disabled}\n\t\t>\n\t\t\t{children()}\n\t\t</div>\n\t);\n});\n\nexport interface ListItemProperties {\n\t/** Callback used when the item is clicked */\n\tonSelect(): void;\n\t/** Property to set the selected state of the item */\n\tselected?: boolean;\n\t/** Property to set the active state of the item, indicates it's the current keyboard / mouse navigation target */\n\tactive?: boolean;\n\t/** Callback used when the item wants to request it be made active, to example on pointer move */\n\tonRequestActive(): void;\n\t/** Property to set the disabled state of the item */\n\tdisabled?: boolean;\n\t/** The id to apply to this widget top level for a11y */\n\twidgetId: string;\n}\n\nconst listItemFactory = create({ theme }).properties<ListItemProperties>();\n\nexport const ListItem = listItemFactory(function ListItem({\n\tproperties,\n\tchildren,\n\tmiddleware: { theme }\n}) {\n\tconst {\n\t\tonSelect,\n\t\tactive = false,\n\t\tonRequestActive,\n\t\tselected = false,\n\t\tdisabled = false,\n\t\twidgetId\n\t} = properties();\n\n\tconst classes = theme.classes(listItemCss);\n\n\tfunction select() {\n\t\t!disabled && onSelect();\n\t}\n\n\tfunction requestActive() {\n\t\t!disabled && !active && onRequestActive();\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tid={widgetId}\n\t\t\tkey=\"root\"\n\t\t\tonpointermove={throttle(() => {\n\t\t\t\trequestActive();\n\t\t\t}, 500)}\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tclasses.root,\n\t\t\t\tselected && classes.selected,\n\t\t\t\tactive && classes.active,\n\t\t\t\tdisabled && classes.disabled\n\t\t\t]}\n\t\t\tonpointerdown={() => {\n\t\t\t\trequestActive();\n\t\t\t\tselect();\n\t\t\t}}\n\t\t\trole=\"option\"\n\t\t\taria-disabled={disabled}\n\t\t\taria-selected={selected}\n\t\t>\n\t\t\t{children()}\n\t\t</div>\n\t);\n});\n\nexport type ListOption = { value: string; label?: string; disabled?: boolean; divider?: boolean };\n\nexport const defaultTransform = {\n\tvalue: ['value'],\n\tlabel: ['label'],\n\tdivider: ['divider'],\n\tdisabled: ['disabled']\n};\n\nexport interface ListProperties {\n\t/** The initial selected value */\n\tinitialValue?: string;\n\t/** Controlled value property */\n\tvalue?: string;\n\t/** Callback called when user selects a value */\n\tonValue(value: string): void;\n\t/** Called to request that the menu be closed */\n\tonRequestClose?(): void;\n\t/** Optional callback, when passed, the widget will no longer control it's own active index / keyboard navigation */\n\tonActiveIndexChange?(index: number): void;\n\t/** Optional property to set the activeIndex when it is being controlled externally */\n\tactiveIndex?: number;\n\t/** Determines if the widget can be focused or not. If the active index is controlled from elsewhere you may wish to stop the menu being focused and receiving keyboard events */\n\tfocusable?: boolean;\n\t/** Callback called when menu root is focused */\n\tonFocus?(): void;\n\t/** Callback called when menu root is blurred */\n\tonBlur?(): void;\n\t/** Property to determine how many items to render. Not passing a number will render all results */\n\titemsInView?: number;\n\t/** Property to determine if this list is being used as a menu, changes a11y and item type */\n\tmenu?: boolean;\n\t/** The id to be applied to the root of this widget, if not passed, one will be generated for a11y reasons */\n\twidgetId?: string;\n\t/** Callback to determine if a list item is disabled. If not provided, ListOption.disabled will be used */\n\tdisabled?: (item: ListOption) => boolean;\n}\n\nexport interface ListChildren {\n\t/** Custom renderer for item contents */\n\t(\n\t\titem: ItemRendererProperties,\n\t\tproperties: ListItemProperties & MenuItemProperties\n\t): RenderResult;\n}\n\nexport interface ItemRendererProperties {\n\tactive: boolean;\n\tdisabled: boolean;\n\tlabel?: string;\n\tselected: boolean;\n\tvalue: string;\n}\n\ninterface ListICache {\n\tactiveIndex: number;\n\tinitial: string;\n\tinputText: string;\n\titemHeight: number;\n\titemsInView: number;\n\tmenuHeight: number;\n\tresetInputTextTimer: any;\n\tvalue: string;\n\tscrollTop: number;\n\tpreviousActiveIndex: number;\n}\n\nconst offscreenHeight = (dnode: RenderResult) => {\n\tconst r = renderer(() => dnode);\n\tconst div = global.document.createElement('div');\n\tdiv.style.position = 'absolute';\n\tglobal.document.body.appendChild(div);\n\tr.mount({ domNode: div, sync: true });\n\tconst dimensions = div.getBoundingClientRect();\n\tglobal.document.body.removeChild(div);\n\treturn dimensions.height;\n};\n\nconst factory = create({\n\ticache: createICacheMiddleware<ListICache>(),\n\tfocus,\n\ttheme,\n\tdata: createDataMiddleware<ListOption>()\n})\n\t.properties<ListProperties>()\n\t.children<ListChildren | undefined>();\n\nexport const List = factory(function List({\n\tchildren,\n\tproperties,\n\tid,\n\tmiddleware: { icache, focus, theme, data }\n}) {\n\tconst {\n\t\tactiveIndex,\n\t\tfocusable = true,\n\t\tinitialValue,\n\t\titemsInView = 10,\n\t\tmenu = false,\n\t\tonActiveIndexChange,\n\t\tonBlur,\n\t\tonFocus,\n\t\tonRequestClose,\n\t\tonValue,\n\t\twidgetId,\n\t\ttheme: themeProp\n\t} = properties();\n\tconst [itemRenderer] = children();\n\n\tconst { get, getOrRead, getOptions, setOptions, getTotal, isLoading } = data();\n\n\tfunction setActiveIndex(index: number) {\n\t\tif (onActiveIndexChange) {\n\t\t\tonActiveIndexChange(index);\n\t\t} else {\n\t\t\ticache.set('activeIndex', index);\n\t\t}\n\t}\n\n\tfunction setValue(value: string) {\n\t\ticache.set('value', value);\n\t\tonValue(value);\n\t}\n\n\tfunction onKeyDown(event: KeyboardEvent, total: number) {\n\t\tconst { disabled } = properties();\n\n\t\tevent.stopPropagation();\n\n\t\tswitch (event.which) {\n\t\t\tcase Keys.Enter:\n\t\t\tcase Keys.Space:\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif (activeItem) {\n\t\t\t\t\tconst itemDisabled = disabled ? disabled(activeItem) : activeItem.disabled;\n\n\t\t\t\t\tif (!itemDisabled) {\n\t\t\t\t\t\tsetValue(activeItem.value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Down:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (event.metaKey || event.ctrlKey) {\n\t\t\t\t\tsetActiveIndex(total - 1);\n\t\t\t\t} else {\n\t\t\t\t\tsetActiveIndex((computedActiveIndex + 1) % total);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Up:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (event.metaKey || event.ctrlKey) {\n\t\t\t\t\tsetActiveIndex(0);\n\t\t\t\t} else {\n\t\t\t\t\tsetActiveIndex((computedActiveIndex - 1 + total) % total);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Escape:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tonRequestClose && onRequestClose();\n\t\t\t\tbreak;\n\t\t\tcase Keys.Home:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetActiveIndex(0);\n\t\t\t\tbreak;\n\t\t\tcase Keys.End:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetActiveIndex(total - 1);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (event.metaKey || event.ctrlKey) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst newIndex = getComputedIndexFromInput(event.key);\n\t\t\t\tif (newIndex !== undefined) {\n\t\t\t\t\tsetActiveIndex(newIndex);\n\t\t\t\t}\n\t\t}\n\t}\n\n\tfunction getComputedIndexFromInput(key: string) {\n\t\tconst existingTimer = icache.get('resetInputTextTimer');\n\t\tlet inputText = icache.getOrSet('inputText', '') + `${key}`;\n\t\texistingTimer && clearTimeout(existingTimer);\n\n\t\tconst resetTextTimeout = setTimeout(() => {\n\t\t\ticache.set('inputText', '');\n\t\t}, 800);\n\n\t\ticache.set('resetInputTextTimer', resetTextTimeout);\n\t\ticache.set('inputText', inputText);\n\n\t\tconst allItems = get({ query: getOptions().query }) as ListOption[];\n\t\tlet foundIndex: number | undefined = undefined;\n\n\t\tconst { disabled } = properties();\n\n\t\tallItems.some((option, index) => {\n\t\t\tconst { disabled: optionDisabled, value, label } = option;\n\t\t\tconst itemDisabled = disabled ? disabled(option) : optionDisabled;\n\n\t\t\tconst match =\n\t\t\t\t!itemDisabled &&\n\t\t\t\t(label || value).toLowerCase().indexOf(inputText.toLowerCase()) === 0;\n\t\t\tif (match) {\n\t\t\t\tfoundIndex = index;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\treturn foundIndex;\n\t}\n\n\tfunction renderItems(start: number, count: number) {\n\t\tconst renderedItems = [];\n\t\tconst pages = [];\n\t\tconst loading = [];\n\t\tgetOrRead(getOptions());\n\t\tconst total = getTotal(getOptions());\n\t\tif (total) {\n\t\t\tfor (let i = 0; i < Math.min(total - start, count); i++) {\n\t\t\t\tconst index = i + startNode;\n\t\t\t\tconst page = Math.floor(index / count) + 1;\n\t\t\t\tif (!pages[page]) {\n\t\t\t\t\tconst pageOptions = {\n\t\t\t\t\t\t...getOptions(),\n\t\t\t\t\t\tpageNumber: page\n\t\t\t\t\t};\n\t\t\t\t\tpages[page] = getOrRead(pageOptions) || [];\n\t\t\t\t\tloading[page] = isLoading(pageOptions);\n\t\t\t\t}\n\t\t\t\tconst indexWithinPage = index - (page - 1) * count;\n\t\t\t\tconst menuOption = pages[page][indexWithinPage];\n\t\t\t\tconst pageIsLoading = loading[page];\n\t\t\t\trenderedItems[i] = pageIsLoading\n\t\t\t\t\t? renderPlaceholder(index)\n\t\t\t\t\t: renderItem(menuOption, index);\n\t\t\t}\n\t\t}\n\n\t\treturn renderedItems;\n\t}\n\n\tfunction renderPlaceholder(index: number) {\n\t\tconst itemProps = {\n\t\t\twidgetId: `${idBase}-item-${index}`,\n\t\t\tkey: `item-${index}`,\n\t\t\tonSelect: () => {},\n\t\t\tactive: false,\n\t\t\tonRequestActive: () => {\n\t\t\t\tsetActiveIndex(index);\n\t\t\t},\n\t\t\tdisabled: true\n\t\t};\n\t\treturn menu ? (\n\t\t\t<MenuItem\n\t\t\t\t{...itemProps}\n\t\t\t\ttheme={theme.compose(\n\t\t\t\t\tmenuItemCss,\n\t\t\t\t\tcss,\n\t\t\t\t\t'item'\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<LoadingIndicator />\n\t\t\t</MenuItem>\n\t\t) : (\n\t\t\t<ListItem\n\t\t\t\t{...itemProps}\n\t\t\t\tselected={false}\n\t\t\t\ttheme={theme.compose(\n\t\t\t\t\tlistItemCss,\n\t\t\t\t\tcss,\n\t\t\t\t\t'item'\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<LoadingIndicator />\n\t\t\t</ListItem>\n\t\t);\n\t}\n\n\tfunction renderItem(data: ListOption, index: number) {\n\t\tconst { disabled } = properties();\n\t\tconst { value, label, divider, disabled: optionDisabled = false } = data;\n\t\tconst itemDisabled = disabled ? disabled(data) : optionDisabled;\n\t\tconst selected = value === selectedValue;\n\t\tconst active = index === computedActiveIndex;\n\t\tif (active) {\n\t\t\tactiveItem = data;\n\t\t}\n\t\tconst itemProps = {\n\t\t\twidgetId: `${idBase}-item-${index}`,\n\t\t\tkey: `item-${index}`,\n\t\t\tonSelect: () => {\n\t\t\t\tsetValue(value);\n\t\t\t},\n\t\t\tactive,\n\t\t\tonRequestActive: () => {\n\t\t\t\tsetActiveIndex(index);\n\t\t\t},\n\t\t\tdisabled: itemDisabled\n\t\t};\n\n\t\tlet item: RenderResult;\n\n\t\tif (itemRenderer) {\n\t\t\titem = itemRenderer(\n\t\t\t\t{\n\t\t\t\t\tvalue,\n\t\t\t\t\tlabel,\n\t\t\t\t\tdisabled: itemDisabled,\n\t\t\t\t\tactive,\n\t\t\t\t\tselected\n\t\t\t\t},\n\t\t\t\titemProps\n\t\t\t);\n\t\t} else {\n\t\t\tconst children = label || value;\n\t\t\titem = menu ? (\n\t\t\t\t<MenuItem\n\t\t\t\t\t{...itemProps}\n\t\t\t\t\ttheme={theme.compose(\n\t\t\t\t\t\tmenuItemCss,\n\t\t\t\t\t\tcss,\n\t\t\t\t\t\t'item'\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</MenuItem>\n\t\t\t) : (\n\t\t\t\t<ListItem\n\t\t\t\t\t{...itemProps}\n\t\t\t\t\tselected={selected}\n\t\t\t\t\ttheme={theme.compose(\n\t\t\t\t\t\tlistItemCss,\n\t\t\t\t\t\tcss,\n\t\t\t\t\t\t'item'\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</ListItem>\n\t\t\t);\n\t\t}\n\n\t\treturn divider ? [item, <hr classes={themedCss.divider} />] : item;\n\t}\n\n\tlet { value: selectedValue } = properties();\n\n\tif (selectedValue === undefined) {\n\t\tif (initialValue !== undefined && initialValue !== icache.get('initial')) {\n\t\t\ticache.set('initial', initialValue);\n\t\t\ticache.set('value', initialValue);\n\t\t}\n\n\t\tselectedValue = icache.get('value');\n\t}\n\n\tif (itemsInView !== icache.get('itemsInView')) {\n\t\ticache.set('itemsInView', itemsInView);\n\n\t\tconst offscreenItemProps = {\n\t\t\tselected: false,\n\t\t\tonSelect: () => {},\n\t\t\tactive: false,\n\t\t\tonRequestActive: () => {},\n\t\t\tonActive: () => {},\n\t\t\tscrollIntoView: false,\n\t\t\twidgetId: 'offcreen',\n\t\t\ttheme: themeProp\n\t\t};\n\n\t\tconst offscreenMenuItem = itemRenderer ? (\n\t\t\titemRenderer(\n\t\t\t\t{\n\t\t\t\t\tselected: false,\n\t\t\t\t\tactive: false,\n\t\t\t\t\tvalue: 'offscreen',\n\t\t\t\t\tdisabled: false\n\t\t\t\t},\n\t\t\t\toffscreenItemProps\n\t\t\t)\n\t\t) : menu ? (\n\t\t\t<MenuItem {...offscreenItemProps}>offscreen</MenuItem>\n\t\t) : (\n\t\t\t<ListItem {...offscreenItemProps}>offscreen</ListItem>\n\t\t);\n\n\t\tconst itemHeight = icache.getOrSet('itemHeight', offscreenHeight(offscreenMenuItem));\n\n\t\titemHeight && icache.set('menuHeight', itemsInView * itemHeight);\n\t}\n\n\tconst nodePadding = Math.min(itemsInView, 20);\n\tconst menuHeight = icache.get('menuHeight');\n\tconst idBase = widgetId || `menu-${id}`;\n\tconst rootStyles = menuHeight ? { maxHeight: `${menuHeight}px` } : {};\n\tconst shouldFocus = focus.shouldFocus();\n\tconst themedCss = theme.classes(css);\n\tconst itemHeight = icache.getOrSet('itemHeight', 0);\n\tlet scrollTop = icache.getOrSet('scrollTop', 0);\n\n\tconst previousActiveIndex = icache.get('previousActiveIndex');\n\tconst computedActiveIndex =\n\t\tactiveIndex === undefined ? icache.getOrSet('activeIndex', 0) : activeIndex;\n\n\tlet activeItem: ListOption | undefined = undefined;\n\n\tif (computedActiveIndex !== previousActiveIndex) {\n\t\tconst visibleStartIndex = Math.floor(scrollTop / itemHeight);\n\t\tconst visibleEndIndex = visibleStartIndex + itemsInView - 1;\n\t\tif (computedActiveIndex < visibleStartIndex) {\n\t\t\tscrollTop = computedActiveIndex * itemHeight;\n\t\t} else if (computedActiveIndex > visibleEndIndex) {\n\t\t\tscrollTop = Math.max(computedActiveIndex + 1 - itemsInView, 0) * itemHeight;\n\t\t}\n\n\t\tif (icache.get('scrollTop') !== scrollTop) {\n\t\t\ticache.set('scrollTop', scrollTop);\n\t\t}\n\n\t\ticache.set('previousActiveIndex', computedActiveIndex);\n\t}\n\n\tconst startNode = Math.max(0, Math.floor(scrollTop / itemHeight) - nodePadding);\n\tconst offsetY = startNode * itemHeight;\n\n\tconst renderedItemsCount = itemsInView + 2 * nodePadding;\n\n\tif (!getOptions().pageNumber || !getOptions().pageSize) {\n\t\tconst { pageSize = renderedItemsCount, pageNumber = 1, query } = getOptions();\n\t\tsetOptions({\n\t\t\tpageNumber,\n\t\t\tpageSize,\n\t\t\tquery\n\t\t});\n\t}\n\n\tconst items = renderItems(startNode, renderedItemsCount);\n\tconst total = getTotal(getOptions());\n\n\tif (total === undefined) {\n\t\treturn;\n\t}\n\n\tconst totalContentHeight = total * itemHeight;\n\n\treturn (\n\t\t<div\n\t\t\tkey=\"root\"\n\t\t\tclasses={[theme.variant(), themedCss.root, fixedCss.root]}\n\t\t\ttabIndex={focusable ? 0 : -1}\n\t\t\tonkeydown={(e) => {\n\t\t\t\tonKeyDown(e, total);\n\t\t\t}}\n\t\t\tfocus={() => shouldFocus}\n\t\t\tonfocus={onFocus}\n\t\t\tonpointerdown={focusable ? undefined : (event) => event.preventDefault()}\n\t\t\tonblur={onBlur}\n\t\t\tscrollTop={scrollTop}\n\t\t\tonscroll={(e) => {\n\t\t\t\tconst newScrollTop = (e.target as HTMLElement).scrollTop;\n\t\t\t\tif (scrollTop !== newScrollTop) {\n\t\t\t\t\ticache.set('scrollTop', newScrollTop);\n\t\t\t\t}\n\t\t\t}}\n\t\t\tstyles={rootStyles}\n\t\t\trole={menu ? 'menu' : 'listbox'}\n\t\t\taria-orientation=\"vertical\"\n\t\t\taria-activedescendant={`${idBase}-item-${computedActiveIndex}`}\n\t\t\tid={idBase}\n\t\t>\n\t\t\t<div\n\t\t\t\tclasses={fixedCss.wrapper}\n\t\t\t\tstyles={{\n\t\t\t\t\theight: `${totalContentHeight}px`\n\t\t\t\t}}\n\t\t\t\tkey=\"wrapper\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclasses={fixedCss.transformer}\n\t\t\t\t\tstyles={{\n\t\t\t\t\t\ttransform: `translateY(${offsetY}px)`\n\t\t\t\t\t}}\n\t\t\t\t\tkey=\"transformer\"\n\t\t\t\t>\n\t\t\t\t\t{items}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default List;\n","import { dimensions } from '@dojo/framework/core/middleware/dimensions';\nimport { create, tsx } from '@dojo/framework/core/vdom';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\nimport Popup, { BasePopupProperties } from '../popup';\nimport * as fixedCss from './trigger-popup.m.css';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\n\nexport interface TriggerPopupProperties extends BasePopupProperties {\n\t/** If the popup wrapper should match the trigger width (defaults to true) */\n\tmatchWidth?: boolean;\n\t/** Callback when the menu is opened  */\n\tonOpen?(): void;\n}\n\nexport interface TriggerPopupChildren {\n\ttrigger: (toggleOpen: () => void) => RenderResult;\n\tcontent: (close: () => void) => RenderResult;\n}\n\ninterface TriggerPopupICache {\n\topen: boolean;\n}\n\nconst icache = createICacheMiddleware<TriggerPopupICache>();\n\nconst factory = create({ dimensions, icache })\n\t.properties<TriggerPopupProperties>()\n\t.children<TriggerPopupChildren>();\n\nexport const TriggerPopup = factory(function({\n\tproperties,\n\tchildren,\n\tmiddleware: { dimensions, icache }\n}) {\n\tconst { matchWidth = true, onOpen, ...otherProperties } = properties();\n\n\tconst { position: triggerPosition, size: triggerSize } = dimensions.get('trigger');\n\tconst triggerTop = triggerPosition.top + document.documentElement.scrollTop;\n\tconst triggerBottom = triggerTop + triggerSize.height;\n\n\tconst wrapperStyles = {\n\t\twidth: matchWidth ? `${triggerSize.width}px` : 'auto'\n\t};\n\n\tconst { trigger, content } = children()[0];\n\tconst close = () => {\n\t\tconst { onClose } = properties();\n\t\ticache.set('open', false);\n\t\tonClose && onClose();\n\t};\n\n\treturn (\n\t\t<virtual>\n\t\t\t<span key=\"trigger\" classes={fixedCss.trigger}>\n\t\t\t\t{trigger(() => {\n\t\t\t\t\tconst { onOpen } = properties();\n\t\t\t\t\ticache.set('open', !icache.get('open'));\n\t\t\t\t\tonOpen && onOpen();\n\t\t\t\t})}\n\t\t\t</span>\n\t\t\t<Popup\n\t\t\t\tkey=\"popup\"\n\t\t\t\t{...otherProperties}\n\t\t\t\tx={triggerPosition.left}\n\t\t\t\tyTop={triggerBottom}\n\t\t\t\tyBottom={triggerTop}\n\t\t\t\tonClose={close}\n\t\t\t\topen={icache.get('open')}\n\t\t\t>\n\t\t\t\t<div key=\"trigger-wrapper\" styles={wrapperStyles}>\n\t\t\t\t\t{content(close)}\n\t\t\t\t</div>\n\t\t\t</Popup>\n\t\t</virtual>\n\t);\n});\n\nexport default TriggerPopup;\n","import { create, tsx } from '@dojo/framework/core/vdom';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\nimport theme from '@dojo/framework/core/middleware/theme';\nimport * as css from '../theme/default/chip.m.css';\nimport Icon from '../icon/index';\nimport { Keys } from '../common/util';\n\nexport interface ChipProperties {\n\t/** A callback when the close icon is clicked, if `closeRenderer` is not provided a default X icon will be used */\n\tonClose?(): void;\n\t/** An optional callback for the the widget is clicked */\n\tonClick?(): void;\n\t/** Whether the widget is disabled, only affects the widget when `onClick` is provided */\n\tdisabled?: boolean;\n\t/** Indicates whe \"checked\" state of the widget, will be passed to the icon renderer */\n\tchecked?: boolean;\n}\n\nexport interface ChipChildren {\n\t/** Renders an icon, provided with the value of the checked property */\n\ticon?(checked?: boolean): RenderResult;\n\t/** The label to be displayed in the widget */\n\tlabel: RenderResult;\n\t/** Renders a close icon, ignored if `onClose` is not provided */\n\tcloseIcon?: RenderResult;\n}\n\nconst factory = create({ theme })\n\t.properties<ChipProperties>()\n\t.children<ChipChildren>();\n\nexport default factory(function Chip({ properties, children, middleware: { theme } }) {\n\tconst { onClose, onClick, disabled, checked } = properties();\n\tconst themedCss = theme.classes(css);\n\tconst [{ icon, label, closeIcon }] = children();\n\tconst clickable = !disabled && onClick;\n\treturn (\n\t\t<div\n\t\t\tkey=\"root\"\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tthemedCss.root,\n\t\t\t\tdisabled && themedCss.disabled,\n\t\t\t\tclickable && themedCss.clickable\n\t\t\t]}\n\t\t\trole={clickable ? 'button' : undefined}\n\t\t\tonclick={() => {\n\t\t\t\tif (clickable && onClick) {\n\t\t\t\t\tonClick();\n\t\t\t\t}\n\t\t\t}}\n\t\t\ttabIndex={clickable ? 0 : undefined}\n\t\t\tonkeydown={(event) => {\n\t\t\t\tif (\n\t\t\t\t\tclickable &&\n\t\t\t\t\tonClick &&\n\t\t\t\t\t(event.which === Keys.Enter || event.which === Keys.Space)\n\t\t\t\t) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tonClick();\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t{icon && <span classes={themedCss.iconWrapper}>{icon(checked)}</span>}\n\t\t\t<span classes={themedCss.label}>{label}</span>\n\t\t\t{onClose && (\n\t\t\t\t<span\n\t\t\t\t\tkey=\"closeButton\"\n\t\t\t\t\tclasses={themedCss.closeIconWrapper}\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\tonclick={(event) => {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t}}\n\t\t\t\t\tonkeydown={(event) => {\n\t\t\t\t\t\tif (event.which === Keys.Enter || event.which === Keys.Space) {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{closeIcon || (\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ttype=\"closeIcon\"\n\t\t\t\t\t\t\tclasses={{ '@dojo/widgets/icon': { icon: [themedCss.icon] } }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</div>\n\t);\n});\n","import { create, tsx } from '@dojo/framework/core/vdom';\nimport { PopupPosition } from '@dojo/widgets/popup';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport { createDataMiddleware } from '@dojo/framework/core/middleware/data';\nimport List, {\n\tItemRendererProperties,\n\tListOption,\n\tListItemProperties,\n\tMenuItemProperties,\n\tListProperties\n} from '../list';\nimport theme from '../middleware/theme';\nimport focus from '@dojo/framework/core/middleware/focus';\nimport * as css from '../theme/default/typeahead.m.css';\nimport TriggerPopup from '../trigger-popup';\nimport { find } from '@dojo/framework/shim/array';\nimport TextInput from '../text-input';\nimport bundle from '../select/select.nls';\nimport i18n from '@dojo/framework/core/middleware/i18n';\nimport HelperText from '../helper-text';\nimport * as listCss from '../theme/default/list.m.css';\nimport { Keys } from '../common/util';\nimport LoadingIndicator from '../loading-indicator';\nimport * as inputCss from '../theme/default/text-input.m.css';\n\nexport interface TypeaheadProperties {\n\t/** Callback called when user selects a value */\n\tonValue(value: string): void;\n\t/** The initial selected value */\n\tinitialValue?: string;\n\t/** Property to determine how many items to render. Defaults to 6 */\n\titemsInView?: number;\n\t/** Placement of the select menu; 'above' or 'below' */\n\tposition?: PopupPosition;\n\t/** Property to determine if the input is disabled */\n\tdisabled?: boolean;\n\t/** Sets the helper text of the input */\n\thelperText?: string;\n\t/** Boolean to indicate if field is required */\n\trequired?: boolean;\n\t/** Callback when valid state has changed */\n\tonValidate?(valid?: boolean): void;\n\t/** The name property of the input */\n\tname?: string;\n\t/** Optional controlled value of the typeahead */\n\tvalue?: string;\n\t/** Callback fired when the input is blurred */\n\tonBlur?(): void;\n\t/** Callback fired when the input is focused */\n\tonFocus?(): void;\n\t/** Callback to determine if an individual item is disabled */\n\titemDisabled?: ListProperties['disabled'];\n\t/** Flag to indicate if values other than those in the resource can be entered, defaults to true */\n\tstrict?: boolean;\n}\n\nexport interface TypeaheadICache {\n\tvalue: string;\n\tlastValue: string | undefined;\n\tactiveIndex: number;\n\tdirty: boolean;\n\texpanded: boolean;\n\tfocusNode: string;\n\tinitial: string;\n\tvalid: boolean | undefined;\n}\n\nexport interface TypeaheadChildren {\n\t/** The label to show */\n\tlabel?: RenderResult;\n\t/** Custom renderer for item contents */\n\titems?: (\n\t\titem: ItemRendererProperties,\n\t\tprops: ListItemProperties & MenuItemProperties\n\t) => RenderResult;\n\tleading?: RenderResult;\n}\n\nconst factory = create({\n\ticache: createICacheMiddleware<TypeaheadICache>(),\n\tdata: createDataMiddleware<ListOption>(),\n\ttheme,\n\tfocus,\n\ti18n\n})\n\t.properties<TypeaheadProperties>()\n\t.children<TypeaheadChildren | undefined>();\n\nexport const Typeahead = factory(function Typeahead({\n\tid,\n\tproperties,\n\tchildren,\n\tmiddleware: { icache, data, theme, focus, i18n }\n}) {\n\tconst {\n\t\tinitialValue,\n\t\tdisabled,\n\t\trequired,\n\t\tposition,\n\t\tname,\n\t\thelperText,\n\t\titemsInView,\n\t\ttransform,\n\t\tonValidate,\n\t\tstrict = true,\n\t\tvalue: controlledValue\n\t} = properties();\n\tconst themedCss = theme.classes(css);\n\tconst { messages } = i18n.localize(bundle);\n\tconst { get, getOptions, setOptions, shared, getTotal, isLoading } = data();\n\tconst sharedResource = shared();\n\n\tconst [{ label, items, leading } = {} as TypeaheadChildren] = children();\n\n\tif (\n\t\tinitialValue !== undefined &&\n\t\tcontrolledValue === undefined &&\n\t\tinitialValue !== icache.get('initial')\n\t) {\n\t\ticache.set('initial', initialValue);\n\t\ticache.set('value', initialValue);\n\t}\n\n\tif (controlledValue !== undefined && icache.get('lastValue') !== controlledValue) {\n\t\ticache.set('value', controlledValue);\n\t\ticache.set('lastValue', controlledValue);\n\t\tsetOptions({ query: { value: controlledValue } });\n\t}\n\n\tlet valid = icache.get('valid');\n\tconst value = icache.get('value');\n\tconst listId = `typeahead-list-${id}`;\n\tconst triggerId = `typeahead-trigger-${id}`;\n\tconst dirty = icache.get('dirty');\n\n\tif (required && dirty) {\n\t\tconst isValid = Boolean(value);\n\t\tif (isValid !== valid) {\n\t\t\ticache.set('valid', isValid);\n\t\t\tvalid = isValid;\n\t\t\tonValidate && onValidate(isValid);\n\t\t}\n\t}\n\n\tfunction callOnValue(value: string) {\n\t\tconst { onValidate, onValue, required } = properties();\n\t\tconst lastValue = icache.get('lastValue');\n\n\t\tif (lastValue === value) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet valid = required ? true : undefined;\n\t\tif (required && !value) {\n\t\t\tvalid = false;\n\t\t}\n\n\t\ticache.set('lastValue', value);\n\t\ticache.set('valid', valid);\n\t\tvalue && onValue && onValue(value);\n\t\tonValidate && onValidate(valid);\n\t}\n\n\tfunction onKeyDown(\n\t\tevent: number,\n\t\tpreventDefault: () => void,\n\t\tonOpen: () => boolean,\n\t\tonClose: () => void\n\t) {\n\t\tconst activeIndex = icache.getOrSet('activeIndex', 0);\n\t\tconst total = getTotal(getOptions()) || 0;\n\n\t\tswitch (event) {\n\t\t\tcase Keys.Escape:\n\t\t\t\tonClose();\n\t\t\t\tbreak;\n\t\t\tcase Keys.Down:\n\t\t\t\tpreventDefault();\n\t\t\t\tif (!onOpen()) {\n\t\t\t\t\ticache.set('activeIndex', (activeIndex + 1) % total);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Up:\n\t\t\t\tpreventDefault();\n\t\t\t\tif (!onOpen()) {\n\t\t\t\t\ticache.set('activeIndex', (activeIndex - 1 + total) % total);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Enter:\n\t\t\t\tpreventDefault();\n\n\t\t\t\tconst allItems = get({ query: getOptions().query });\n\t\t\t\tif (allItems && allItems.length >= activeIndex) {\n\t\t\t\t\tconst { itemDisabled } = properties();\n\n\t\t\t\t\tconst activeItem = allItems[activeIndex];\n\t\t\t\t\tlet disabled = false;\n\t\t\t\t\tif (activeItem) {\n\t\t\t\t\t\tdisabled = itemDisabled ? itemDisabled(activeItem) : !!activeItem.disabled;\n\n\t\t\t\t\t\tif (!disabled) {\n\t\t\t\t\t\t\ticache.set('value', activeItem.value);\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\tcallOnValue(activeItem.value);\n\t\t\t\t\t\t} else if (!strict) {\n\t\t\t\t\t\t\tconst value = icache.getOrSet('value', '');\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\tcallOnValue(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (strict) {\n\t\t\t\t\t\t\tconst { onValidate, required } = properties();\n\t\t\t\t\t\t\tif (required) {\n\t\t\t\t\t\t\t\ticache.set('valid', false);\n\t\t\t\t\t\t\t\tonValidate && onValidate(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst value = icache.getOrSet('value', '');\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\tcallOnValue(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tkey=\"root\"\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tthemedCss.root,\n\t\t\t\tdisabled && themedCss.disabled,\n\t\t\t\tvalid === true && themedCss.valid,\n\t\t\t\tvalid === false && themedCss.invalid\n\t\t\t]}\n\t\t>\n\t\t\t<TriggerPopup\n\t\t\t\tkey=\"popup\"\n\t\t\t\tonOpen={() => icache.set('expanded', true)}\n\t\t\t\tonClose={() => {\n\t\t\t\t\ticache.set('expanded', false);\n\t\t\t\t\tif (!icache.get('dirty')) {\n\t\t\t\t\t\ticache.set('dirty', true);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tposition={position}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\ttrigger: (toggleOpen) => {\n\t\t\t\t\t\tfunction openMenu() {\n\t\t\t\t\t\t\tconst { disabled } = properties();\n\n\t\t\t\t\t\t\tif (!disabled && !icache.get('expanded')) {\n\t\t\t\t\t\t\t\ttoggleOpen();\n\t\t\t\t\t\t\t\ticache.set('expanded', true);\n\t\t\t\t\t\t\t\ticache.set('activeIndex', 0);\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction closeMenu() {\n\t\t\t\t\t\t\tif (icache.get('expanded')) {\n\t\t\t\t\t\t\t\ttoggleOpen();\n\t\t\t\t\t\t\t\ticache.set('expanded', false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet valueOption: ListOption | undefined;\n\t\t\t\t\t\tconst currentOptions = get(getOptions());\n\t\t\t\t\t\tif (currentOptions && currentOptions.length) {\n\t\t\t\t\t\t\tvalueOption = find(currentOptions, (option) => option.value === value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tonValue={(value) => {\n\t\t\t\t\t\t\t\t\tif (value !== icache.get('value')) {\n\t\t\t\t\t\t\t\t\t\topenMenu();\n\t\t\t\t\t\t\t\t\t\tsetOptions({ query: { value: value } });\n\t\t\t\t\t\t\t\t\t\ticache.set('value', value || '');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttheme={theme.compose(\n\t\t\t\t\t\t\t\t\tinputCss,\n\t\t\t\t\t\t\t\t\tcss,\n\t\t\t\t\t\t\t\t\t'input'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\t\t\t\tconst { onFocus } = properties();\n\t\t\t\t\t\t\t\t\tonFocus && onFocus();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\t\t\tconst { onBlur } = properties();\n\n\t\t\t\t\t\t\t\t\tif (!strict) {\n\t\t\t\t\t\t\t\t\t\tconst value = icache.getOrSet('value', '');\n\t\t\t\t\t\t\t\t\t\tcallOnValue(value);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcloseMenu();\n\t\t\t\t\t\t\t\t\tonBlur && onBlur();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\tinitialValue={\n\t\t\t\t\t\t\t\t\tvalueOption ? valueOption.label || valueOption.value : value\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfocus={() =>\n\t\t\t\t\t\t\t\t\ticache.get('focusNode') === 'trigger' && focus.shouldFocus()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taria={{\n\t\t\t\t\t\t\t\t\tcontrols: listId,\n\t\t\t\t\t\t\t\t\thaspopup: 'listbox',\n\t\t\t\t\t\t\t\t\texpanded: `${icache.getOrSet('expanded', false)}`\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tkey=\"trigger\"\n\t\t\t\t\t\t\t\twidgetId={triggerId}\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\t'@dojo/widgets/text-input': {\n\t\t\t\t\t\t\t\t\t\troot: [themedCss.trigger]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={openMenu}\n\t\t\t\t\t\t\t\tonKeyDown={(event, preventDefault) => {\n\t\t\t\t\t\t\t\t\tonKeyDown(event, preventDefault, openMenu, closeMenu);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalid={valid}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ label, leading }}\n\t\t\t\t\t\t\t</TextInput>\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\tcontent: (toggleClosed) => {\n\t\t\t\t\t\tfunction closeMenu() {\n\t\t\t\t\t\t\ticache.set('focusNode', 'trigger');\n\t\t\t\t\t\t\ttoggleClosed();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst { itemDisabled } = properties();\n\n\t\t\t\t\t\treturn getTotal(getOptions()) === undefined && isLoading(getOptions()) ? (\n\t\t\t\t\t\t\t<LoadingIndicator key=\"loading\" />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div key=\"menu-wrapper\" classes={themedCss.menuWrapper}>\n\t\t\t\t\t\t\t\t<List\n\t\t\t\t\t\t\t\t\tkey=\"menu\"\n\t\t\t\t\t\t\t\t\tfocusable={false}\n\t\t\t\t\t\t\t\t\tactiveIndex={icache.get('activeIndex')}\n\t\t\t\t\t\t\t\t\tresource={sharedResource}\n\t\t\t\t\t\t\t\t\ttransform={transform}\n\t\t\t\t\t\t\t\t\tdisabled={itemDisabled}\n\t\t\t\t\t\t\t\t\tonValue={(value) => {\n\t\t\t\t\t\t\t\t\t\tfocus.focus();\n\t\t\t\t\t\t\t\t\t\tcloseMenu();\n\t\t\t\t\t\t\t\t\t\tvalue !== icache.get('value') && icache.set('value', value);\n\t\t\t\t\t\t\t\t\t\tcallOnValue(value);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonRequestClose={closeMenu}\n\t\t\t\t\t\t\t\t\tonBlur={closeMenu}\n\t\t\t\t\t\t\t\t\tinitialValue={value}\n\t\t\t\t\t\t\t\t\titemsInView={itemsInView}\n\t\t\t\t\t\t\t\t\ttheme={theme.compose(\n\t\t\t\t\t\t\t\t\t\tlistCss,\n\t\t\t\t\t\t\t\t\t\tcss,\n\t\t\t\t\t\t\t\t\t\t'menu'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\twidgetId={listId}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{items}\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t</TriggerPopup>\n\t\t\t<HelperText\n\t\t\t\tkey=\"helperText\"\n\t\t\t\ttext={valid === false ? messages.requiredMessage : helperText}\n\t\t\t\tvalid={valid}\n\t\t\t/>\n\t\t</div>\n\t);\n});\n\nexport default Typeahead;\n","import { create, tsx } from '@dojo/framework/core/vdom';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport theme from '../middleware/theme';\nimport { createDataMiddleware } from '@dojo/framework/core/middleware/data';\nimport Typeahead from '../typeahead';\nimport * as css from '../theme/default/chip-typeahead.m.css';\nimport {\n\tItemRendererProperties,\n\tListOption,\n\tListItem,\n\tListItemProperties,\n\tMenuItemProperties\n} from '../list';\nimport Chip from '../chip';\nimport focus from '@dojo/framework/core/middleware/focus';\nimport * as typeaheadCss from '../theme/default/typeahead.m.css';\nimport * as chipCss from '../theme/default/chip.m.css';\nimport * as labelCss from '../theme/default/label.m.css';\nimport { PopupPosition } from '@dojo/widgets/popup';\nimport { find } from '@dojo/framework/shim/array';\nimport Label from '../label';\n\nexport interface ChipTypeaheadProperties {\n\t/** The initial selected value */\n\tinitialValue?: string[];\n\t/** Callback called when user selects an option from the typeahead */\n\tonValue?: (value: string[]) => void;\n\t/** Optional controlled value */\n\tvalue?: string[];\n\t/** Property to determine if the input is disabled */\n\tdisabled?: boolean;\n\t/** Property to determine how many items to render. Defaults to 6 */\n\titemsInView?: number;\n\t/** The name of the input */\n\tname?: string;\n\t/** Placement of the select menu; 'above' or 'below' */\n\tposition?: PopupPosition;\n\t/** Placement of the selected values. Default is 'inline' */\n\tplacement?: 'inline' | 'bottom';\n\t/** Allow duplicates of the same value to be selected. Default is false */\n\tduplicates?: boolean;\n\t/** Flag to indicate if values other than those in the resource can be entered, defaults to true */\n\tstrict?: boolean;\n}\n\nexport interface ChipTypeaheadChildren {\n\t/** Adds a <label> element with the supplied text */\n\tlabel?: RenderResult;\n\t/** Custom renderer for item contents */\n\titems?: (\n\t\titem: ItemRendererProperties,\n\t\tprops: ListItemProperties & MenuItemProperties\n\t) => RenderResult;\n\t/** Custom renderer for selected items */\n\tselected?: (value: string, label?: string) => RenderResult;\n}\n\nexport interface ChipTypeaheadIcache {\n\tinitialValue: string[];\n\tvalue: string[];\n\tfocused: boolean;\n}\n\nconst factory = create({\n\ticache: createICacheMiddleware<ChipTypeaheadIcache>(),\n\ttheme,\n\tdata: createDataMiddleware<ListOption>(),\n\tfocus\n})\n\t.properties<ChipTypeaheadProperties>()\n\t.children<ChipTypeaheadChildren>();\n\nexport function arraysDifferent(arr1: string[], arr2: string[]): boolean {\n\tif (arr1.length !== arr2.length) {\n\t\treturn true;\n\t}\n\n\tfor (let i = 0; i < arr1.length; i++) {\n\t\tif (arr1[i] !== arr2[i]) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nexport const ChipTypeahead = factory(function ChipTypeahead({\n\tmiddleware: { icache, theme, focus, data },\n\tproperties,\n\tchildren\n}) {\n\tconst {\n\t\tinitialValue = [],\n\t\tresource,\n\t\ttransform,\n\t\tdisabled,\n\t\titemsInView,\n\t\tposition,\n\t\tname,\n\t\tplacement = 'inline',\n\t\tstrict\n\t} = properties();\n\tconst [{ label, items, selected } = {} as ChipTypeaheadChildren] = children();\n\tconst themeCss = theme.classes(css);\n\tconst { value } = properties();\n\tconst { get, getOptions } = data();\n\tconst focused = icache.getOrSet('focused', false);\n\n\tif (value !== undefined && arraysDifferent(value || [], icache.get('value') || [])) {\n\t\ticache.set('value', value || []);\n\t}\n\n\tif (value === undefined && arraysDifferent(icache.getOrSet('initialValue', []), initialValue)) {\n\t\ticache.set('value', initialValue);\n\t\ticache.set('initialValue', initialValue);\n\t}\n\n\tconst currentOptions = get(getOptions());\n\tconst chips = icache.getOrSet('value', []).map((value, index) => {\n\t\tlet option = find(currentOptions || [], (option) => option.value === value);\n\n\t\treturn (\n\t\t\t<Chip\n\t\t\t\ttheme={theme.compose(\n\t\t\t\t\tchipCss,\n\t\t\t\t\tcss,\n\t\t\t\t\t'selection'\n\t\t\t\t)}\n\t\t\t\tkey={`value-${value}`}\n\t\t\t\tclasses={{\n\t\t\t\t\t'@dojo/widgets/chip': {\n\t\t\t\t\t\troot: [themeCss.value]\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tonClose={\n\t\t\t\t\tdisabled\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: () => {\n\t\t\t\t\t\t\t\tconst { onValue } = properties();\n\t\t\t\t\t\t\t\tconst values = [...icache.getOrSet('value', [])];\n\n\t\t\t\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t\t\t\t\ticache.set('value', values);\n\n\t\t\t\t\t\t\t\tonValue && onValue(values);\n\n\t\t\t\t\t\t\t\tfocus.focus();\n\t\t\t\t\t\t  }\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tlabel: selected\n\t\t\t\t\t\t? selected(value, option && option.label)\n\t\t\t\t\t\t: (option && option.label) || value\n\t\t\t\t}}\n\t\t\t</Chip>\n\t\t);\n\t});\n\n\tconst values = icache.getOrSet('value', []);\n\tconst active = focused || values.length > 0;\n\n\treturn (\n\t\t<div\n\t\t\tkey=\"root\"\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tthemeCss.root,\n\t\t\t\tvalues.length > 0 ? themeCss.hasValue : null,\n\t\t\t\tfocused ? themeCss.focused : null,\n\t\t\t\tlabel ? themeCss.hasLabel : null\n\t\t\t]}\n\t\t>\n\t\t\t{label && (\n\t\t\t\t<Label\n\t\t\t\t\tfocused={focused}\n\t\t\t\t\tactive={active}\n\t\t\t\t\ttheme={theme.compose(\n\t\t\t\t\t\tlabelCss,\n\t\t\t\t\t\tcss,\n\t\t\t\t\t\t'label'\n\t\t\t\t\t)}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\t'@dojo/widgets/label': {\n\t\t\t\t\t\t\troot: [themeCss.label]\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</Label>\n\t\t\t)}\n\t\t\t<Typeahead\n\t\t\t\tkey=\"typeahead\"\n\t\t\t\ttheme={theme.compose(\n\t\t\t\t\ttypeaheadCss,\n\t\t\t\t\tcss,\n\t\t\t\t\t'input'\n\t\t\t\t)}\n\t\t\t\tstrict={strict}\n\t\t\t\titemsInView={itemsInView}\n\t\t\t\tposition={position}\n\t\t\t\tname={name}\n\t\t\t\tfocus={focus.shouldFocus}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tresource={resource}\n\t\t\t\tonValue={(value) => {\n\t\t\t\t\tconst { onValue } = properties();\n\n\t\t\t\t\tconst values = [...icache.getOrSet('value', []), value];\n\t\t\t\t\ticache.set('value', values);\n\t\t\t\t\tonValue && onValue(values);\n\n\t\t\t\t\tfocus.focus();\n\t\t\t\t}}\n\t\t\t\ttransform={transform}\n\t\t\t\tvalue=\"\"\n\t\t\t\tonFocus={() => icache.set('focused', true)}\n\t\t\t\tonBlur={() => icache.set('focused', false)}\n\t\t\t\tclasses={{\n\t\t\t\t\t'@dojo/widgets/text-input': {\n\t\t\t\t\t\tinputWrapper: [themeCss.inputWrapper],\n\t\t\t\t\t\tinput: [themeCss.input],\n\t\t\t\t\t\twrapper: [themeCss.wrapper]\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\titemDisabled={(item) => {\n\t\t\t\t\tconst { duplicates = false, strict = true } = properties();\n\n\t\t\t\t\tconst selected = icache.getOrSet('value', []).indexOf(item.value) !== -1;\n\n\t\t\t\t\treturn item.disabled || (!duplicates && strict && selected);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\titems: (item, props) => {\n\t\t\t\t\t\tconst selected = icache.getOrSet('value', []).indexOf(item.value) !== -1;\n\n\t\t\t\t\t\tif (items) {\n\t\t\t\t\t\t\treturn items(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\tselected\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\t\t\tselected\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ListItem {...props} selected={selected}>\n\t\t\t\t\t\t\t\t<div classes={[themeCss.item, selected ? themeCss.selected : null]}>\n\t\t\t\t\t\t\t\t\t{item.label || item.value}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\tleading: placement === 'inline' ? chips : undefined\n\t\t\t\t}}\n\t\t\t</Typeahead>\n\t\t\t{placement === 'bottom' && <div classes={themeCss.values}>{chips}</div>}\n\t\t</div>\n\t);\n});\n\nexport default ChipTypeahead;\n","import { create } from '@dojo/framework/core/vdom';\nimport coreTheme, {\n\tThemeProperties as CoreThemeProperties\n} from '@dojo/framework/core/middleware/theme';\nimport { ClassNames, Theme } from '@dojo/framework/core/mixins/Themed';\nimport { ThemeWithVariant } from '@dojo/framework/core/interfaces';\n\nconst factory = create({ coreTheme });\nexport const THEME_KEY = ' _key';\n\nfunction uppercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toUpperCase()}${value.slice(1)}`;\n}\n\nfunction lowercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toLowerCase()}${value.slice(1)}`;\n}\n\nfunction isThemeWithVariant(theme: any): theme is ThemeWithVariant {\n\treturn theme && theme.hasOwnProperty('variant');\n}\n\nexport interface ThemeProperties extends CoreThemeProperties {}\n\nexport const theme = factory(function({ middleware: { coreTheme }, properties }) {\n\treturn {\n\t\tcompose: <T extends ClassNames, B extends ClassNames>(\n\t\t\tbaseCss: B,\n\t\t\tcss: T,\n\t\t\tprefix?: string\n\t\t): Theme | ThemeWithVariant => {\n\t\t\tconst theme = properties().theme;\n\t\t\tconst baseKey = baseCss[THEME_KEY];\n\t\t\tconst variantKey = css[THEME_KEY];\n\t\t\tconst virtualCss = Object.keys(baseCss).reduce(\n\t\t\t\t(virtualCss, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn virtualCss;\n\t\t\t\t\t}\n\t\t\t\t\tif (prefix && !virtualCss[`${prefix}${uppercaseFirstChar(key)}`]) {\n\t\t\t\t\t\tvirtualCss[`${prefix}${uppercaseFirstChar(key)}`] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\tif (!css[key]) {\n\t\t\t\t\t\tvirtualCss[key] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn virtualCss;\n\t\t\t\t},\n\t\t\t\t{ [THEME_KEY]: variantKey } as ClassNames\n\t\t\t);\n\t\t\tconst virtualTheme = coreTheme.classes(virtualCss);\n\t\t\tconst variantTheme = coreTheme.classes(css);\n\t\t\tlet baseTheme = coreTheme.classes(baseCss);\n\t\t\tif (prefix) {\n\t\t\t\tconst prefixedCss = Object.keys({ ...virtualTheme, ...variantTheme }).reduce(\n\t\t\t\t\t(prefixCss, key) => {\n\t\t\t\t\t\tif (key.indexOf(prefix) === 0 && key !== prefix) {\n\t\t\t\t\t\t\tconst classKey = lowercaseFirstChar(key.replace(prefix, ''));\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!variantTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key].trim()\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = `${baseTheme[classKey]} ${virtualTheme[\n\t\t\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\t\t].trim()}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = variantTheme[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prefixCss;\n\t\t\t\t\t},\n\t\t\t\t\t{} as ClassNames\n\t\t\t\t);\n\t\t\t\tbaseTheme = { ...baseTheme, ...prefixedCss };\n\n\t\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariant: theme.variant\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...theme,\n\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst constructedTheme = Object.keys(baseTheme).reduce(\n\t\t\t\t(theme, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn theme;\n\t\t\t\t\t}\n\t\t\t\t\tconst variantComposesClass = variantTheme[key] && variantTheme[key].trim();\n\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\ttheme[key] = variantComposesClass;\n\t\t\t\t\t} else if (virtualTheme[key] && virtualTheme[key].trim()) {\n\t\t\t\t\t\ttheme[key] = `${theme[key]} ${virtualTheme[key].trim()}`;\n\t\t\t\t\t}\n\t\t\t\t\treturn theme;\n\t\t\t\t},\n\t\t\t\t{ ...baseTheme } as ClassNames\n\t\t\t);\n\n\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\treturn {\n\t\t\t\t\ttheme: {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t[baseKey]: constructedTheme\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t},\n\t\t\t\t\tvariant: theme.variant\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...theme,\n\t\t\t\t[baseKey]: constructedTheme\n\t\t\t};\n\t\t},\n\t\t...coreTheme\n\t};\n});\n\nexport default theme;\n","interface AriaPropertyObject {\n\t[key: string]: string | null;\n}\n\nexport enum Keys {\n\tDown = 40,\n\tEnd = 35,\n\tEnter = 13,\n\tEscape = 27,\n\tHome = 36,\n\tLeft = 37,\n\tPageDown = 34,\n\tPageUp = 33,\n\tRight = 39,\n\tSpace = 32,\n\tTab = 9,\n\tUp = 38\n}\n\nexport function formatAriaProperties(aria: AriaPropertyObject): AriaPropertyObject {\n\tconst formattedAria = Object.keys(aria).reduce((a: AriaPropertyObject, key: string) => {\n\t\ta[`aria-${key.toLowerCase()}`] = aria[key];\n\t\treturn a;\n\t}, {});\n\treturn formattedAria;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/base\",\"visuallyHidden\":\"base-m__visuallyHidden__1AeWe\",\"focusable\":\"base-m__focusable__1_qAN\",\"hidden\":\"base-m__hidden__3QddU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/label\",\"root\":\"label-m__root__3Kk7r\",\"readonly\":\"label-m__readonly__2pxUq\",\"invalid\":\"label-m__invalid__1CZyi\",\"valid\":\"label-m__valid__2hdFV\",\"required\":\"label-m__required__2WVo7\",\"disabled\":\"label-m__disabled__34MEb\",\"focused\":\"label-m__focused__ISy0H\",\"secondary\":\"label-m__secondary__37QWK\",\"active\":\"label-m__active__3MoIi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/icon\",\"root\":\"icon-m__root__1eoV_\",\"icon\":\"icon-m__icon__UdYI1\",\"clockIcon\":\"icon-m__clockIcon__3GLpu\",\"downIcon\":\"icon-m__downIcon__2q5lh\",\"leftIcon\":\"icon-m__leftIcon__pBWIt\",\"rightIcon\":\"icon-m__rightIcon__18AW6\",\"closeIcon\":\"icon-m__closeIcon__21KIr\",\"plusIcon\":\"icon-m__plusIcon__2b4l_\",\"minusIcon\":\"icon-m__minusIcon__1DHfu\",\"checkIcon\":\"icon-m__checkIcon__2D3mV\",\"upIcon\":\"icon-m__upIcon__2Whg2\",\"upAltIcon\":\"icon-m__upAltIcon__2GXtu\",\"downAltIcon\":\"icon-m__downAltIcon__hm7FZ\",\"searchIcon\":\"icon-m__searchIcon__2HGOw\",\"barsIcon\":\"icon-m__barsIcon__2e0Qo\",\"settingsIcon\":\"icon-m__settingsIcon__2-UEA\",\"alertIcon\":\"icon-m__alertIcon__WjF2F\",\"helpIcon\":\"icon-m__helpIcon__3c7_4\",\"infoIcon\":\"icon-m__infoIcon__PXtvl\",\"cancelIcon\":\"icon-m__cancelIcon__2ey9p\",\"checkedBoxIcon\":\"icon-m__checkedBoxIcon__TSG-9\",\"phoneIcon\":\"icon-m__phoneIcon__2BO7g\",\"editIcon\":\"icon-m__editIcon__3j9QX\",\"dateIcon\":\"icon-m__dateIcon__3vXGn\",\"linkIcon\":\"icon-m__linkIcon__314xM\",\"locationIcon\":\"icon-m__locationIcon__1uwwo\",\"secureIcon\":\"icon-m__secureIcon__UXrMt\",\"mailIcon\":\"icon-m__mailIcon__3uh6Q\",\"eyeIcon\":\"icon-m__eyeIcon__2Cqqq\",\"eyeSlashIcon\":\"icon-m__eyeSlashIcon__17wRy\",\"starIcon\":\"icon-m__starIcon__r0lYz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/helper-text\",\"root\":\"helper-text-m__root__3s_po\",\"text\":\"helper-text-m__text__dNGJX\",\"valid\":\"helper-text-m__valid__18VWN\",\"invalid\":\"helper-text-m__invalid__1CrCV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/text-input\",\"input\":\"text-input-m__input__3AObE\",\"root\":\"text-input-m__root__1eiQw\",\"wrapper\":\"text-input-m__wrapper__3sXSt\",\"inputWrapper\":\"text-input-m__inputWrapper__3Usth\",\"inputWrapperFocused\":\"text-input-m__inputWrapperFocused__OjF-_\",\"disabled\":\"text-input-m__disabled__1U733\",\"focused\":\"text-input-m__focused__1nmLV\",\"readonly\":\"text-input-m__readonly__INN_p\",\"required\":\"text-input-m__required__2pLE4\",\"invalid\":\"text-input-m__invalid__12hBo\",\"addonRoot\":\"text-input-m__addonRoot__21n_v\",\"addonFilled\":\"text-input-m__addonFilled__azpzz\",\"hasLeading\":\"text-input-m__hasLeading__1vNgP\",\"hasTrailing\":\"text-input-m__hasTrailing__1levI\",\"noLabel\":\"text-input-m__noLabel__3dEz1\",\"label\":\"text-input-m__label__2oAFG\",\"helperText\":\"text-input-m__helperText__1hpcr\",\"valid\":\"text-input-m__valid__1LmDm\"};","import { create, destroy } from '@dojo/framework/core/vdom';\nimport global from '@dojo/framework/shim/global';\n\nconst factory = create({ destroy });\nconst bodyStyle = global.document.body.style;\n\nexport const bodyScroll = factory(function bodyScroll({ middleware: { destroy } }) {\n\tlet disabled = false;\n\tlet previousOverflow: string | undefined = undefined;\n\n\tconst enableScroll = () => {\n\t\tif (!disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (previousOverflow) {\n\t\t\tbodyStyle.setProperty('overflow', previousOverflow);\n\t\t} else {\n\t\t\tbodyStyle.removeProperty('overflow');\n\t\t}\n\t\tdisabled = false;\n\t\tpreviousOverflow = undefined;\n\t};\n\n\tconst disableScroll = () => {\n\t\tif (disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tdisabled = true;\n\t\tpreviousOverflow = bodyStyle.getPropertyValue('overflow');\n\t\tbodyStyle.setProperty('overflow', 'hidden');\n\t};\n\n\tdestroy(() => {\n\t\tdisabled && enableScroll();\n\t});\n\n\treturn (enable: boolean) => {\n\t\tenable ? enableScroll() : disableScroll();\n\t};\n});\n\nexport default bodyScroll;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/popup\",\"underlayVisible\":\"popup-m__underlayVisible__1Cxv3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/popup\",\"root\":\"popup-m__root__3WJlO\",\"underlay\":\"popup-m__underlay__2CC_p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/list\",\"root\":\"list-m__root__SEwTU\",\"items\":\"list-m__items__1mYDz\",\"divider\":\"list-m__divider__3aqPc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/loading-indicator\",\"root\":\"loading-indicator-m__root__3zBTf\",\"buffer\":\"loading-indicator-m__buffer__qJrL-\",\"bar\":\"loading-indicator-m__bar__2o6JH\",\"primary\":\"loading-indicator-m__primary__SBqVC\",\"inner\":\"loading-indicator-m__inner__212NS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/list-item\",\"root\":\"list-item-m__root__o0V59\",\"selected\":\"list-item-m__selected__1uxna\",\"active\":\"list-item-m__active__SBagO\",\"disabled\":\"list-item-m__disabled__18npQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/menu-item\",\"root\":\"menu-item-m__root__1LkPf\",\"active\":\"menu-item-m__active__3K8Hl\",\"disabled\":\"menu-item-m__disabled__20doE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/list\",\"wrapper\":\"list-m__wrapper__tXBYZ\",\"transformer\":\"list-m__transformer__3altK\",\"root\":\"list-m__root__1z7LC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/trigger-popup\",\"trigger\":\"trigger-popup-m__trigger__2isxr\"};"],"sourceRoot":""}