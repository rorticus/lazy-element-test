{"version":3,"sources":["webpack:///./src/theme/default/context-popup.m.css","webpack:///./src/theme/default/context-menu.m.css","webpack:///./src/loading-indicator/index.tsx","webpack:///./src/popup/index.tsx","webpack:///./src/list/index.tsx","webpack:///./src/context-popup/index.tsx","webpack:///./src/context-menu/index.tsx","webpack:///./src/middleware/theme.tsx","webpack:///./src/common/util.ts","webpack:///./src/middleware/bodyScroll.tsx","webpack:///./src/theme/default/popup.m.css","webpack:///./src/popup/popup.m.css","webpack:///./src/theme/default/list.m.css","webpack:///./src/theme/default/loading-indicator.m.css","webpack:///./src/theme/default/list-item.m.css","webpack:///./src/theme/default/menu-item.m.css","webpack:///./src/list/list.m.css"],"names":["module","exports"," _key","trigger","wrapper","contentWrapper","__webpack_require__","r","__webpack_exports__","d","LoadingIndicator","_theme_default_loading_indicator_m_css__WEBPACK_IMPORTED_MODULE_0__","_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_2__","Object","theme","properties","factory","middleware","classes","variant","root","role","buffer","bar","primary","inner","Popup","_dojo_framework_core_middleware_dimensions__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_middleware_bodyScroll__WEBPACK_IMPORTED_MODULE_2__","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_3__","_theme_default_popup_m_css__WEBPACK_IMPORTED_MODULE_4__","_popup_m_css__WEBPACK_IMPORTED_MODULE_5__","dimensions","bodyScroll","children","underlayVisible","position","x","yBottom","yTop","onClose","open","wrapperDimensions","get","bottomOfVisibleScreen","document","documentElement","scrollTop","clientHeight","topOfVisibleScreen","willFit","size","height","wrapperStyles","opacity","left","top","key","onclick","styles","MenuItem","ListItem","defaultTransform","List","_dojo_framework_core_middleware_focus__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_middleware_icache__WEBPACK_IMPORTED_MODULE_1__","_dojo_framework_shim_global__WEBPACK_IMPORTED_MODULE_3__","_common_util__WEBPACK_IMPORTED_MODULE_4__","_middleware_theme__WEBPACK_IMPORTED_MODULE_5__","_theme_default_list_item_m_css__WEBPACK_IMPORTED_MODULE_6__","_theme_default_menu_item_m_css__WEBPACK_IMPORTED_MODULE_7__","_theme_default_list_m_css__WEBPACK_IMPORTED_MODULE_8__","_list_m_css__WEBPACK_IMPORTED_MODULE_9__","_dojo_framework_core_middleware_data__WEBPACK_IMPORTED_MODULE_10__","_loading_indicator__WEBPACK_IMPORTED_MODULE_11__","_dojo_framework_core_util__WEBPACK_IMPORTED_MODULE_12__","menuItemFactory","onSelect","active","onRequestActive","disabled","widgetId","themedCss","requestActive","id","onpointermove","onpointerdown","aria-disabled","listItemFactory","selected","aria-selected","value","label","divider","icache","focus","data","activeIndex","focusable","initialValue","itemsInView","menu","onActiveIndexChange","onBlur","onFocus","onRequestClose","onValue","themeProp","itemRenderer","getOrRead","getOptions","setOptions","getTotal","isLoading","setActiveIndex","index","set","setValue","onKeyDown","event","total","stopPropagation","which","Enter","Space","preventDefault","activeItem","Down","metaKey","ctrlKey","computedActiveIndex","Up","Escape","Home","End","newIndex","existingTimer","inputText","getOrSet","clearTimeout","resetTextTimeout","setTimeout","allItems","query","foundIndex","undefined","some","option","optionDisabled","toLowerCase","indexOf","getComputedIndexFromInput","renderPlaceholder","itemProps","idBase","assign","compose","renderItem","itemDisabled","selectedValue","item","offscreenItemProps","onActive","scrollIntoView","offscreenMenuItem","itemHeight","dnode","div","createElement","style","body","appendChild","mount","domNode","sync","getBoundingClientRect","removeChild","offscreenHeight","nodePadding","Math","min","menuHeight","rootStyles","maxHeight","shouldFocus","previousActiveIndex","visibleStartIndex","floor","visibleEndIndex","max","startNode","offsetY","renderedItemsCount","pageNumber","pageSize","items","start","count","renderedItems","pages","loading","i","page","pageOptions","indexWithinPage","menuOption","pageIsLoading","renderItems","totalContentHeight","tabIndex","onkeydown","e","onfocus","onblur","onscroll","newScrollTop","target","aria-orientation","aria-activedescendant","transform","ContextPopup","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_middleware_focus__WEBPACK_IMPORTED_MODULE_1__","_popup__WEBPACK_IMPORTED_MODULE_2__","_dojo_framework_core_middleware_icache__WEBPACK_IMPORTED_MODULE_3__","_theme_default_context_popup_m_css__WEBPACK_IMPORTED_MODULE_4__","y","content","close","oncontextmenu","onOpen","pageX","pageY","ContextMenu","_list_index__WEBPACK_IMPORTED_MODULE_2__","_theme_default_list_m_css__WEBPACK_IMPORTED_MODULE_3__","_theme_default_context_menu_m_css__WEBPACK_IMPORTED_MODULE_4__","_context_popup__WEBPACK_IMPORTED_MODULE_5__","_dojo_framework_core_middleware_data__WEBPACK_IMPORTED_MODULE_6__","resource","coreTheme","uppercaseFirstChar","charAt","toUpperCase","slice","isThemeWithVariant","hasOwnProperty","baseCss","css","prefix","baseKey","variantKey","virtualCss","keys","reduce","virtualTheme","variantTheme","baseTheme","prefixedCss","prefixCss","classKey","lowercaseFirstChar","replace","trim","[object Object]","variants","constructedTheme","variantComposesClass","Keys","formatAriaProperties","aria","a","_dojo_framework_shim_global__WEBPACK_IMPORTED_MODULE_1__","destroy","bodyStyle","previousOverflow","enableScroll","setProperty","removeProperty","enable","getPropertyValue","underlay","transformer"],"mappings":";;;;;;;;yJACAA,EAAAC,QAAA,CAAkBC,QAAA,8BAAAC,QAAA,wDCAlBH,EAAAC,QAAA,CAAkBC,QAAA,6BAAAE,QAAA,iCAAAC,eAAA,0ECDlBC,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,qCAAAE,IAAA,IAAAC,EAAAL,EAAA,IAAAM,EAAAN,EAAA,IAAAO,EAAAP,EAAA,GAOA,MAEaI,EAFGI,OAAAD,EAAA,EAAAC,CAAO,CAAEC,MAAAH,EAAA,IAASI,YAEFC,CAAQ,UAA4BC,YAAYH,MAAEA,KACjF,MAAMI,EAAUJ,EAAMI,QAAQR,GAE9B,OACCG,OAAAD,EAAA,EADM,CACN,OAAKM,QAAS,CAACJ,EAAMK,UAAWD,EAAQE,MAAOC,KAAK,eACnDR,OAAAD,EAAA,EAAAC,CAAA,OAAKK,QAASA,EAAQI,SACtBT,OAAAD,EAAA,EAAAC,CAAA,OAAKK,QAAS,CAACA,EAAQK,IAAKL,EAAQM,UACnCX,OAAAD,EAAA,EAAAC,CAAA,QAAMK,QAASA,EAAQO,YAMZlB,EAAA,2CCtBfF,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,0BAAAmB,IAAA,IAAAC,EAAAtB,EAAA,IAAAuB,EAAAvB,EAAA,IAAAwB,EAAAxB,EAAA,IAAAyB,EAAAzB,EAAA,GAAA0B,EAAA1B,EAAA,IAAA2B,EAAA3B,EAAA,IA8BA,MAIaqB,EAJGb,OAAAiB,EAAA,EAAAjB,CAAO,CAAEoB,WAAAN,EAAA,EAAYb,MAAAc,EAAA,EAAOM,WAAAL,EAAA,IAC1Cd,aACAoB,UAEmBnB,CAAQ,UAASD,WACrCA,EAAUoB,SACVA,EACAlB,YAAYgB,WAAEA,EAAUnB,MAAEA,EAAKoB,WAAEA,KAEjC,MAAME,gBACLA,GAAkB,EAAKC,SACvBA,EAAW,QAAOC,EAClBA,EAACC,QACDA,EAAOC,KACPA,EAAIC,QACJA,EAAOC,KACPA,GACG3B,IAEE4B,EAAoBV,EAAWW,IAAI,WACnCC,EACLC,SAASC,gBAAgBC,UAAYF,SAASC,gBAAgBE,aACzDC,EAAqBJ,SAASC,gBAAgBC,UAE9CG,EACEX,EAAOG,EAAkBS,KAAKC,QAAUR,EAD1CM,EAEEZ,EAAUI,EAAkBS,KAAKC,QAAUH,EAGnD,IAAII,EAA8C,CACjDC,QAAS,KAGNZ,EAAkBS,KAAKC,SAC1BC,EAAgB,CACfE,QAASlB,MACTiB,QAAS,KAGO,UAAblB,EAEFiB,EAAcG,IADXN,KACoBX,SAEAD,EAAUI,EAAkBS,KAAKC,WAElC,UAAbhB,IAETiB,EAAcG,IADXN,KACoBZ,EAAUI,EAAkBS,KAAKC,cAEjCb,QAK1B,MAAMtB,EAAUJ,EAAMI,QAAQa,GAI9B,OAFAG,GAAYQ,GAGXA,GACC7B,OAAAiB,EAAA,EADO,CACP,YACCjB,OAAAiB,EAAA,EAAAjB,CAAA,OACC6C,IAAI,WACJxC,QAAS,CACRJ,EAAMK,UACNa,EAAA,SACAI,GAAmBlB,EAAQkB,iBAE5BuB,QAASlB,IAEV5B,OAAAiB,EAAA,EAAAjB,CAAA,OACC6C,IAAI,UACJxC,QAAS,CAACJ,EAAMK,UAAWa,EAAA,MAC3B4B,OAAQN,GAEPnB,QAOS5B,EAAA,2CC/GfF,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,6BAAAsD,IAAAxD,EAAAG,EAAAD,EAAA,6BAAAuD,IAAAzD,EAAAG,EAAAD,EAAA,qCAAAwD,IAAA1D,EAAAG,EAAAD,EAAA,yBAAAyD,IAAA,IAAAC,EAAA5D,EAAA,IAAA6D,EAAA7D,EAAA,IAAAO,EAAAP,EAAA,GAAA8D,EAAA9D,EAAA,GAAA+D,EAAA/D,EAAA,IAAAgE,EAAAhE,EAAA,IAAAiE,EAAAjE,EAAA,IAAAkE,EAAAlE,EAAA,IAAAmE,EAAAnE,EAAA,IAAAoE,EAAApE,EAAA,IAAAqE,EAAArE,EAAA,IAAAsE,EAAAtE,EAAA,IAAAuE,EAAAvE,EAAA,IA2BA,MAEawD,EAFWhD,OAAAD,EAAA,EAAAC,CAAO,CAAEC,MAAAuD,EAAA,IAAStD,YAElB8D,CAAgB,UAAkB9D,WACzDA,EAAUoB,SACVA,EACAlB,YAAYH,MAAEA,KAEd,MAAMgE,SAAEA,EAAQC,OAAEA,GAAS,EAAKC,gBAAEA,EAAeC,SAAEA,GAAW,EAAKC,SAAEA,GAAanE,IAE5EoE,EAAYrE,EAAMI,QAAQqD,GAMhC,SAASa,KACPH,IAAaF,GAAUC,IAGzB,OACCnE,OAAAD,EAAA,EADM,CACN,OACCyE,GAAIH,EACJxB,IAAI,OACJ4B,cAAezE,OAAA+D,EAAA,EAAA/D,CAAS,KACvBuE,KACE,KACHlE,QAAS,CACRJ,EAAMK,UACNgE,EAAU/D,KACV2D,GAAUI,EAAUJ,OACpBE,GAAYE,EAAUF,UAEvBM,cAAe,KACdH,KArBDH,GAAYH,KAwBZzD,KAAK,WAAUmE,gBACAP,GAEd9C,OAsBS2B,EAFWjD,OAAAD,EAAA,EAAAC,CAAO,CAAEC,MAAAuD,EAAA,IAAStD,YAElB0E,CAAgB,UAAkB1E,WACzDA,EAAUoB,SACVA,EACAlB,YAAYH,MAAEA,KAEd,MAAMgE,SACLA,EAAQC,OACRA,GAAS,EAAKC,gBACdA,EAAeU,SACfA,GAAW,EAAKT,SAChBA,GAAW,EAAKC,SAChBA,GACGnE,IAEEG,EAAUJ,EAAMI,QAAQoD,GAM9B,SAASc,KACPH,IAAaF,GAAUC,IAGzB,OACCnE,OAAAD,EAAA,EADM,CACN,OACCyE,GAAIH,EACJxB,IAAI,OACJ4B,cAAezE,OAAA+D,EAAA,EAAA/D,CAAS,KACvBuE,KACE,KACHlE,QAAS,CACRJ,EAAMK,UACND,EAAQE,KACRsE,GAAYxE,EAAQwE,SACpBX,GAAU7D,EAAQ6D,OAClBE,GAAY/D,EAAQ+D,UAErBM,cAAe,KACdH,KAtBDH,GAAYH,KAyBZzD,KAAK,SAAQmE,gBACEP,EAAQU,gBACRD,GAEdvD,OAOS4B,EAAmB,CAC/B6B,MAAO,CAAC,SACRC,MAAO,CAAC,SACRC,QAAS,CAAC,WACVb,SAAU,CAAC,aAiFCjB,EATGnD,OAAAD,EAAA,EAAAC,CAAO,CACtBkF,OAAQlF,OAAAqD,EAAA,EAAArD,GACRmF,MAAA/B,EAAA,EACAnD,MAAAuD,EAAA,EACA4B,KAAMpF,OAAA6D,EAAA,EAAA7D,KAELE,aACAoB,UAEkBnB,CAAQ,UAAcmB,SACzCA,EAAQpB,WACRA,EAAUsE,GACVA,EACApE,YAAY8E,OAAEA,EAAMC,MAAEA,EAAKlF,MAAEA,EAAKmF,KAAEA,KAEpC,MAAMC,YACLA,EAAWC,UACXA,GAAY,EAAIC,aAChBA,EAAYC,YACZA,EAAc,GAAEC,KAChBA,GAAO,EAAKC,oBACZA,EAAmBC,OACnBA,EAAMC,QACNA,EAAOC,eACPA,EAAcC,QACdA,EAAOzB,SACPA,EACApE,MAAO8F,GACJ7F,KACG8F,GAAgB1E,KAEjBS,IAAEA,EAAGkE,UAAEA,EAASC,WAAEA,EAAUC,WAAEA,EAAUC,SAAEA,EAAQC,UAAEA,GAAcjB,IAExE,SAASkB,EAAeC,GACnBb,EACHA,EAAoBa,GAEpBrB,EAAOsB,IAAI,cAAeD,GAI5B,SAASE,EAAS1B,GACjBG,EAAOsB,IAAI,QAASzB,GACpBe,EAAQf,GAGT,SAAS2B,EAAUC,EAAsBC,GACxC,MAAMxC,SAAEA,GAAalE,IAIrB,OAFAyG,EAAME,kBAEEF,EAAMG,OACb,KAAKvD,EAAA,EAAKwD,MACV,KAAKxD,EAAA,EAAKyD,MAGT,GAFAL,EAAMM,iBAEFC,EAAY,EACM9C,EAAWA,EAAS8C,GAAcA,EAAW9C,WAGjEqC,EAASS,EAAWnC,OAGtB,MACD,KAAKxB,EAAA,EAAK4D,KACTR,EAAMM,iBACFN,EAAMS,SAAWT,EAAMU,QAC1Bf,EAAeM,EAAQ,GAEvBN,GAAgBgB,EAAsB,GAAKV,GAE5C,MACD,KAAKrD,EAAA,EAAKgE,GACTZ,EAAMM,iBACFN,EAAMS,SAAWT,EAAMU,QAC1Bf,EAAe,GAEfA,GAAgBgB,EAAsB,EAAIV,GAASA,GAEpD,MACD,KAAKrD,EAAA,EAAKiE,OACTb,EAAMM,iBACNpB,GAAkBA,IAClB,MACD,KAAKtC,EAAA,EAAKkE,KACTd,EAAMM,iBACNX,EAAe,GACf,MACD,KAAK/C,EAAA,EAAKmE,IACTf,EAAMM,iBACNX,EAAeM,EAAQ,GACvB,MACD,QACC,GAAID,EAAMS,SAAWT,EAAMU,QAC1B,OAGD,MAAMM,EAOT,SAAmC9E,GAClC,MAAM+E,EAAgB1C,EAAOnD,IAAI,uBACjC,IAAI8F,EAAY3C,EAAO4C,SAAS,YAAa,OAASjF,IACtD+E,GAAiBG,aAAaH,GAE9B,MAAMI,EAAmBC,WAAW,KACnC/C,EAAOsB,IAAI,YAAa,KACtB,KAEHtB,EAAOsB,IAAI,sBAAuBwB,GAClC9C,EAAOsB,IAAI,YAAaqB,GAExB,MAAMK,EAAWnG,EAAI,CAAEoG,MAAOjC,IAAaiC,QAC3C,IAAIC,OAAiCC,EAErC,MAAMjE,SAAEA,GAAalE,IAgBrB,OAdAgI,EAASI,KAAK,CAACC,EAAQhC,KACtB,MAAQnC,SAAUoE,EAAczD,MAAEA,EAAKC,MAAEA,GAAUuD,EAMnD,SALqBnE,EAAWA,EAASmE,GAAUC,IAIkB,KAAnExD,GAASD,GAAO0D,cAAcC,QAAQb,EAAUY,iBAEjDL,EAAa7B,EACN,MAKF6B,EAtCYO,CAA0BhC,EAAM9D,UAChCwF,IAAbV,GACHrB,EAAeqB,IAqEnB,SAASiB,EAAkBrC,GAC1B,MAAMsC,EAAY,CACjBxE,YAAayE,UAAevC,IAC5B1D,YAAa0D,IACbtC,SAAU,OACVC,QAAQ,EACRC,gBAAiB,KAChBmC,EAAeC,IAEhBnC,UAAU,GAEX,OAAOqB,EACNzF,OAAAD,EAAA,EADa,CACZiD,EAAQhD,OAAA+I,OAAA,GACJF,EAAS,CACb5I,MAAOA,EAAM+I,QACZtF,EACAC,EACA,UAGD3D,OAAAD,EAAA,EAAAC,CAAC8D,EAAA,QAAgB,OAGlB9D,OAAAD,EAAA,EADG,CACFkD,EAAQjD,OAAA+I,OAAA,GACJF,EAAS,CACbhE,UAAU,EACV5E,MAAOA,EAAM+I,QACZvF,EACAE,EACA,UAGD3D,OAAAD,EAAA,EAAAC,CAAC8D,EAAA,QAAgB,OAKpB,SAASmF,EAAW7D,EAAkBmB,GACrC,MAAMnC,SAAEA,GAAalE,KACf6E,MAAEA,EAAKC,MAAEA,EAAKC,QAAEA,EAASb,SAAUoE,GAAiB,GAAUpD,EAC9D8D,EAAe9E,EAAWA,EAASgB,GAAQoD,EAC3C3D,EAAWE,IAAUoE,EACrBjF,EAASqC,IAAUe,EACrBpD,IACHgD,EAAa9B,GAEd,MAAMyD,EAAY,CACjBxE,YAAayE,UAAevC,IAC5B1D,YAAa0D,IACbtC,SAAU,KACTwC,EAAS1B,IAEVb,SACAC,gBAAiB,KAChBmC,EAAeC,IAEhBnC,SAAU8E,GAGX,IAAIE,EAEJ,GAAIpD,EACHoD,EAAOpD,EACN,CACCjB,QACAC,QACAZ,SAAU8E,EACVhF,SACAW,YAEDgE,OAEK,CACN,MAAMvH,EAAW0D,GAASD,EAC1BqE,EAAO3D,EACNzF,OAAAD,EAAA,EADa,CACZiD,EAAQhD,OAAA+I,OAAA,GACJF,EAAS,CACb5I,MAAOA,EAAM+I,QACZtF,EACAC,EACA,UAGArC,GAGFtB,OAAAD,EAAA,EADG,CACFkD,EAAQjD,OAAA+I,OAAA,GACJF,EAAS,CACbhE,SAAUA,EACV5E,MAAOA,EAAM+I,QACZvF,EACAE,EACA,UAGArC,GAKJ,OAAO2D,EAAU,CAACmE,EAAMpJ,OAAAD,EAAA,EAAAC,CAAA,MAAIK,QAASiE,EAAUW,WAAemE,EAG/D,IAAMrE,MAAOoE,GAAkBjJ,IAW/B,QATsBmI,IAAlBc,SACkBd,IAAjB9C,GAA8BA,IAAiBL,EAAOnD,IAAI,aAC7DmD,EAAOsB,IAAI,UAAWjB,GACtBL,EAAOsB,IAAI,QAASjB,IAGrB4D,EAAgBjE,EAAOnD,IAAI,UAGxByD,IAAgBN,EAAOnD,IAAI,eAAgB,CAC9CmD,EAAOsB,IAAI,cAAehB,GAE1B,MAAM6D,EAAqB,CAC1BxE,UAAU,EACVZ,SAAU,OACVC,QAAQ,EACRC,gBAAiB,OACjBmF,SAAU,OACVC,gBAAgB,EAChBlF,SAAU,WACVpE,MAAO8F,GAGFyD,EAAoBxD,EACzBA,EACC,CACCnB,UAAU,EACVX,QAAQ,EACRa,MAAO,YACPX,UAAU,GAEXiF,GAEE5D,EACHzF,OAAAD,EAAA,EADU,CACTiD,EAAQhD,OAAA+I,OAAA,GAAKM,GAAkB,aAEhCrJ,OAAAD,EAAA,EADG,CACFkD,EAAQjD,OAAA+I,OAAA,GAAKM,GAAkB,aAG3BI,EAAavE,EAAO4C,SAAS,aAnUb,CAAC4B,IACxB,MAAMjK,EAAIO,OAAAD,EAAA,EAAAC,CAAS,IAAM0J,GACnBC,EAAMrG,EAAA,EAAOrB,SAAS2H,cAAc,OAC1CD,EAAIE,MAAMrI,SAAW,WACrB8B,EAAA,EAAOrB,SAAS6H,KAAKC,YAAYJ,GACjClK,EAAEuK,MAAM,CAAEC,QAASN,EAAKO,MAAM,IAC9B,MAAM9I,EAAauI,EAAIQ,wBAEvB,OADA7G,EAAA,EAAOrB,SAAS6H,KAAKM,YAAYT,GAC1BvI,EAAWoB,QA2TgC6H,CAAgBb,IAEjEC,GAAcvE,EAAOsB,IAAI,aAAchB,EAAciE,GAGtD,MAAMa,EAAcC,KAAKC,IAAIhF,EAAa,IACpCiF,EAAavF,EAAOnD,IAAI,cACxB+G,EAASzE,WAAoBG,IAC7BkG,EAAaD,EAAa,CAAEE,aAAcF,OAAmB,GAC7DG,EAAczF,EAAMyF,cACpBtG,EAAYrE,EAAMI,QAAQsD,GAC1B8F,EAAavE,EAAO4C,SAAS,aAAc,GACjD,IAAI3F,EAAY+C,EAAO4C,SAAS,YAAa,GAE7C,MAAM+C,EAAsB3F,EAAOnD,IAAI,uBACjCuF,OACWe,IAAhBhD,EAA4BH,EAAO4C,SAAS,cAAe,GAAKzC,EAEjE,IAAI6B,OAAqCmB,EAEzC,GAAIf,IAAwBuD,EAAqB,CAChD,MAAMC,EAAoBP,KAAKQ,MAAM5I,EAAYsH,GAC3CuB,EAAkBF,EAAoBtF,EAAc,EACtD8B,EAAsBwD,EACzB3I,EAAYmF,EAAsBmC,EACxBnC,EAAsB0D,IAChC7I,EAAYoI,KAAKU,IAAI3D,EAAsB,EAAI9B,EAAa,GAAKiE,GAG9DvE,EAAOnD,IAAI,eAAiBI,GAC/B+C,EAAOsB,IAAI,YAAarE,GAGzB+C,EAAOsB,IAAI,sBAAuBc,GAGnC,MAAM4D,EAAYX,KAAKU,IAAI,EAAGV,KAAKQ,MAAM5I,EAAYsH,GAAca,GAC7Da,GAAUD,EAAYzB,EAEtB2B,GAAqB5F,EAAc,EAAI8E,EAE7C,IAAKpE,IAAamF,aAAenF,IAAaoF,SAAU,CACvD,MAAMA,SAAEA,EAAWF,GAAkBC,WAAEA,EAAa,EAAClD,MAAEA,GAAUjC,IACjEC,EAAW,CACVkF,aACAC,WACAnD,UAIF,MAAMoD,GAhON,SAAqBC,EAAeC,GACnC,MAAMC,EAAgB,GAChBC,EAAQ,GACRC,EAAU,GAChB3F,EAAUC,KACV,MAAMU,EAAQR,EAASF,KACvB,GAAIU,EACH,IAAK,IAAIiF,EAAI,EAAGA,EAAItB,KAAKC,IAAI5D,EAAQ4E,EAAOC,GAAQI,IAAK,CACxD,MAAMtF,EAAQsF,EAAIX,EACZY,EAAOvB,KAAKQ,MAAMxE,EAAQkF,GAAS,EACzC,IAAKE,EAAMG,GAAO,CACjB,MAAMC,EAAW/L,OAAA+I,OAAA,GACb7C,IAAY,CACfmF,WAAYS,IAEbH,EAAMG,GAAQ7F,EAAU8F,IAAgB,GACxCH,EAAQE,GAAQzF,EAAU0F,GAE3B,MAAMC,EAAkBzF,GAASuF,EAAO,GAAKL,EACvCQ,EAAaN,EAAMG,GAAME,GACzBE,EAAgBN,EAAQE,GAC9BJ,EAAcG,GAAKK,EAChBtD,EAAkBrC,GAClB0C,EAAWgD,EAAY1F,GAI5B,OAAOmF,EAqMMS,CAAYjB,EAAWE,IAC/BxE,GAAQR,EAASF,KAEvB,QAAcmC,IAAVzB,GACH,OAGD,MAAMwF,GAAqBxF,GAAQ6C,EAEnC,OACCzJ,OAAAD,EAAA,EADM,CACN,OACC8C,IAAI,OACJxC,QAAS,CAACJ,EAAMK,UAAWgE,EAAU/D,KAAMqD,EAAA,MAC3CyI,SAAU/G,EAAY,GAAK,EAC3BgH,UAAYC,IACX7F,EAAU6F,EAAG3F,KAEdzB,MAAO,IAAMyF,EACb4B,QAAS5G,EACTlB,cAAeY,OAAY+C,EAAa1B,GAAUA,EAAMM,iBACxDwF,OAAQ9G,EACRxD,UAAWA,EACXuK,SAAWH,IACV,MAAMI,EAAgBJ,EAAEK,OAAuBzK,UAC3CA,IAAcwK,GACjBzH,EAAOsB,IAAI,YAAamG,IAG1B5J,OAAQ2H,EACRlK,KAAMiF,EAAO,OAAS,UAASoH,mBACd,WAAUC,2BACDhE,UAAexB,IACzC9C,GAAIsE,GAEJ9I,OAAAD,EAAA,EAAAC,CAAA,OACCK,QAASuD,EAAA,QACTb,OAAQ,CACPP,UAAW4J,QAEZvJ,IAAI,WAEJ7C,OAAAD,EAAA,EAAAC,CAAA,OACCK,QAASuD,EAAA,YACTb,OAAQ,CACPgK,wBAAyB5B,SAE1BtI,IAAI,eAEH0I,QAOS7L,EAAA,2CC3nBfF,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,iCAAAsN,IAAA,IAAAC,EAAAzN,EAAA,GAAA0N,EAAA1N,EAAA,IAAA2N,EAAA3N,EAAA,IAAA4N,EAAA5N,EAAA,IAAA6N,EAAA7N,EAAA,KAwBA,MAAM0F,EAASlF,OAAAoN,EAAA,EAAApN,GAETG,EAAUH,OAAAiN,EAAA,EAAAjN,CAAO,CAAEkF,SAAQC,MAAA+H,EAAA,IAC/BhN,aACAoB,WAKW0L,EAAe7M,EAAQ,UAASD,WAC5CA,EAAUoB,SACVA,EACAlB,YAAY8E,OAAEA,EAAMC,MAAEA,KAEtB,MAAM1D,EAAIyD,EAAO4C,SAAS,IAAK,GACzBwF,EAAIpI,EAAO4C,SAAS,IAAK,IAEzBzI,QAAEA,EAAOkO,QAAEA,GAAYjM,IAAW,GAClCkM,EAAQ,KACb,MAAM5L,QAAEA,GAAY1B,IACpBgF,EAAOsB,IAAI,QAAQ,GACnB5E,GAAWA,KAGZ,OACC5B,OAAAiN,EAAA,EADM,CACN,eACCjN,OAAAiN,EAAA,EAAAjN,CAAA,OACCK,QAASgN,EAAA,QACTxK,IAAI,UACJ4K,cAAgB9G,IACf,MAAM+G,OAAEA,GAAWxN,IACnByG,EAAMM,iBACN9B,EAAMA,QACND,EAAOsB,IAAI,IAAKG,EAAMgH,MA3BP,GA4BfzI,EAAOsB,IAAI,IAAKG,EAAMiH,MA3BN,GA4BhB1I,EAAOsB,IAAI,QAAQ,GACnBkH,GAAUA,MAGVrO,GAEFW,OAAAiN,EAAA,EAAAjN,CAACmN,EAAA,QAAK,CACLtK,IAAI,QACJpB,EAAGA,EACHE,KAAM2L,EACN5L,QAASO,SAASC,gBAAgBC,UAAYF,SAASC,gBAAgBE,aACvER,QAAS4L,EACThM,SAAS,QACTK,KAAMqD,EAAOnD,IAAI,SAEjB/B,OAAAiN,EAAA,EAAAjN,CAAA,WAAMuN,EAAQ,CAAEC,QAAO5C,YAAazF,EAAMyF,mBAM/BlL,EAAA,2CChFfF,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,qCAAAwD,IAAA1D,EAAAG,EAAAD,EAAA,gCAAAmO,IAAA,IAAAZ,EAAAzN,EAAA,GAAAM,EAAAN,EAAA,IAAAsO,EAAAtO,EAAA,IAAAuO,EAAAvO,EAAA,IAAAwO,EAAAxO,EAAA,KAAAyO,EAAAzO,EAAA,IAAA0O,EAAA1O,EAAA,IAaA,MAAMW,EAAUH,OAAAiN,EAAA,EAAAjN,CAAO,CAAEC,MAAAH,EAAA,EAAOsF,KAAMpF,OAAAkO,EAAA,EAAAlO,KAAsCE,aAI/DgD,EAAmB4K,EAAA,iBAEnBD,EAAc1N,EAAQ,UAASD,WAAEA,EAAUoB,SAAEA,EAAUlB,YAAYH,MAAEA,KACjF,MAAMkO,SAAEA,EAAQpB,UAAEA,EAAS9I,SAAEA,GAAa/D,IAC1C,OACCF,OAAAiN,EAAA,EADM,CACLgB,EAAA,QAAY,KACX,CACA5O,QAASiC,IACTiM,QAAS,EAAGC,QAAO5C,iBAClB5K,OAAAiN,EAAA,EADoC,CACnCa,EAAA,QAAI,CACJjL,IAAI,OACJsC,MAAOyF,EACP3K,MAAOA,EAAM+I,QACZ+E,EACAC,EACA,QAEDvI,MAAI,EACJ0I,SAAUA,EACVpB,UAAWA,EACXpH,OAAQ6H,EACR3H,eAAgB2H,EAChB1H,QAAUf,IACTyI,IACAvJ,EAASc,UASDrF,EAAA,2CClDfF,EAAAG,EAAAD,EAAA,sBAAAO,IAAA,IAAAgN,EAAAzN,EAAA,GAAAuB,EAAAvB,EAAA,IAOA,MAAMW,EAAUH,OAAAiN,EAAA,EAAAjN,CAAO,CAAEoO,UAAArN,EAAA,IAGzB,SAASsN,EAAmBtJ,GAC3B,SAAUA,EAAMuJ,OAAO,GAAGC,gBAAgBxJ,EAAMyJ,MAAM,KAOvD,SAASC,EAAmBxO,GAC3B,OAAOA,GAASA,EAAMyO,eAAe,WAK/B,MAAMzO,EAAQE,EAAQ,UAAWC,YAAYgO,UAAEA,GAAWlO,WAAEA,IAClE,OAAAF,OAAA+I,OAAA,CACCC,QAAS,CACR2F,EACAC,EACAC,KAEA,MAAM5O,EAAQC,IAAaD,MACrB6O,EAAUH,EAxBM,SAyBhBI,EAAaH,EAzBG,SA0BhBI,EAAahP,OAAOiP,KAAKN,GAASO,OACvC,CAACF,EAAYnM,IA3BQ,UA4BhBA,EACImM,GAEJH,IAAWG,KAAcH,IAASR,EAAmBxL,QACxDmM,KAAcH,IAASR,EAAmBxL,MAAU,KAEhD+L,EAAI/L,KACRmM,EAAWnM,GAAO,KAEZmM,GAER,CAAE5P,QAAa2P,IAEVI,EAAef,EAAU/N,QAAQ2O,GACjCI,EAAehB,EAAU/N,QAAQuO,GACvC,IAAIS,EAAYjB,EAAU/N,QAAQsO,GAClC,GAAIE,EAAQ,CACX,MAAMS,EAActP,OAAOiP,KAAIjP,OAAA+I,OAAA,GAAMoG,EAAiBC,IAAgBF,OACrE,CAACK,EAAW1M,KACX,GAA4B,IAAxBA,EAAI6F,QAAQmG,IAAiBhM,IAAQgM,EAAQ,CAChD,MAAMW,EA1Cb,SAA4BzK,GAC3B,SAAUA,EAAMuJ,OAAO,GAAG7F,gBAAgB1D,EAAMyJ,MAAM,KAyC/BiB,CAAmB5M,EAAI6M,QAAQb,EAAQ,MAEtDO,EAAavM,IACdsM,EAAatM,IACbsM,EAAatM,GAAK8M,SAElBJ,EAAUC,MAAeH,EAAUG,MAAaL,EAC/CtM,GACC8M,UAECP,EAAavM,KAChB0M,EAAUC,GAAYJ,EAAavM,IAGrC,OAAO0M,GAER,IAID,OAFAF,EAASrP,OAAA+I,OAAA,GAAQsG,EAAcC,GAE3Bb,EAAmBxO,GACf,CACNA,MAAO,CACNA,MAAKD,OAAA+I,OAAA,GACD9I,EAAMA,MAAMA,MAAK,CACpB2P,CAACd,GAAUO,IAEZQ,SAAU5P,EAAMA,MAAM4P,UAEvBvP,QAASL,EAAMK,SAIjBN,OAAA+I,OAAA,GACI9I,EAAK,CACR2P,CAACd,GAAUO,IAIb,MAAMS,EAAmB9P,OAAOiP,KAAKI,GAAWH,OAC/C,CAACjP,EAAO4C,KACP,GAzFoB,UAyFhBA,EACH,OAAO5C,EAER,MAAM8P,EAAuBX,EAAavM,IAAQuM,EAAavM,GAAK8M,OAMpE,OALIP,EAAavM,GAChB5C,EAAM4C,GAAOkN,EACHZ,EAAatM,IAAQsM,EAAatM,GAAK8M,SACjD1P,EAAM4C,MAAU5C,EAAM4C,MAAQsM,EAAatM,GAAK8M,UAE1C1P,GAERD,OAAA+I,OAAA,GAAKsG,IAGN,OAAIZ,EAAmBxO,GACf,CACNA,MAAO,CACNA,MAAKD,OAAA+I,OAAA,GACD9I,EAAMA,MAAMA,MAAK,CACpB2P,CAACd,GAAUgB,IAEZD,SAAU5P,EAAMA,MAAM4P,UAEvBvP,QAASL,EAAMK,SAIjBN,OAAA+I,OAAA,GACI9I,EAAK,CACR2P,CAACd,GAAUgB,MAGV1B,KAIU1O,EAAA,qCCjIf,IAAYsQ,EAeL,SAASC,EAAqBC,GAKpC,OAJsBlQ,OAAOiP,KAAKiB,GAAMhB,OAAO,CAACiB,EAAuBtN,KACtEsN,UAAUtN,EAAI4F,iBAAmByH,EAAKrN,GAC/BsN,GACL,IAnBJ3Q,EAAAG,EAAAD,EAAA,sBAAAsQ,IAAAxQ,EAAAG,EAAAD,EAAA,sBAAAuQ,IAAA,SAAYD,GACXA,IAAA,gBACAA,IAAA,cACAA,IAAA,kBACAA,IAAA,oBACAA,IAAA,gBACAA,IAAA,gBACAA,IAAA,wBACAA,IAAA,oBACAA,IAAA,kBACAA,IAAA,kBACAA,IAAA,aACAA,IAAA,YAZD,CAAYA,MAAI,sCCJhBxQ,EAAAG,EAAAD,EAAA,sBAAA2B,IAAA,IAAA4L,EAAAzN,EAAA,GAAA4Q,EAAA5Q,EAAA,GAGA,MAAMW,EAAUH,OAAAiN,EAAA,EAAAjN,CAAO,CAAEqQ,QAAApD,EAAA,IACnBqD,EAAYF,EAAA,EAAOnO,SAAS6H,KAAKD,MAE1BxI,EAAalB,EAAQ,UAAsBC,YAAYiQ,QAAEA,KACrE,IAAIjM,GAAW,EACXmM,OAAuClI,EAE3C,MAAMmI,EAAe,KACfpM,IAIDmM,EACHD,EAAUG,YAAY,WAAYF,GAElCD,EAAUI,eAAe,YAE1BtM,GAAW,EACXmM,OAAmBlI,IAiBpB,OAJAgI,EAAQ,KACPjM,GAAYoM,MAGLG,IACPA,EAASH,IAdLpM,IAIJA,GAAW,EACXmM,EAAmBD,EAAUM,iBAAiB,YAC9CN,EAAUG,YAAY,WAAY,cAYrB/Q,EAAA,wBC1CfR,EAAAC,QAAA,CAAkBC,QAAA,sBAAAmC,gBAAA,uDCAlBrC,EAAAC,QAAA,CAAkBC,QAAA,sBAAAmB,KAAA,uBAAAsQ,SAAA,gDCAlB3R,EAAAC,QAAA,CAAkBC,QAAA,qBAAAmB,KAAA,sBAAAgL,MAAA,uBAAAtG,QAAA,8CCAlB/F,EAAAC,QAAA,CAAkBC,QAAA,kCAAAmB,KAAA,mCAAAE,OAAA,qCAAAC,IAAA,kCAAAC,QAAA,sCAAAC,MAAA,yDCAlB1B,EAAAC,QAAA,CAAkBC,QAAA,0BAAAmB,KAAA,2BAAAsE,SAAA,+BAAAX,OAAA,6BAAAE,SAAA,oDCAlBlF,EAAAC,QAAA,CAAkBC,QAAA,0BAAAmB,KAAA,2BAAA2D,OAAA,6BAAAE,SAAA,oDCAlBlF,EAAAC,QAAA,CAAkBC,QAAA,qBAAAE,QAAA,yBAAAwR,YAAA,6BAAAvQ,KAAA","file":"9-7.0.0-pre.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/context-popup\",\"trigger\":\"context-popup-m__trigger__3A_JZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/context-menu\",\"wrapper\":\"context-menu-m__wrapper__2mvoX\",\"contentWrapper\":\"context-menu-m__contentWrapper__GWUcS\"};","import * as css from '../theme/default/loading-indicator.m.css';\nimport theme from '../middleware/theme';\nimport { ThemedProperties } from '@dojo/framework/core/mixins/Themed';\nimport { create, tsx } from '@dojo/framework/core/vdom';\n\nexport interface LoadingIndicatorProperties extends ThemedProperties {}\n\nconst factory = create({ theme }).properties<LoadingIndicatorProperties>();\n\nexport const LoadingIndicator = factory(function LoadingIndicator({ middleware: { theme } }) {\n\tconst classes = theme.classes(css);\n\n\treturn (\n\t\t<div classes={[theme.variant(), classes.root]} role=\"progressbar\">\n\t\t\t<div classes={classes.buffer} />\n\t\t\t<div classes={[classes.bar, classes.primary]}>\n\t\t\t\t<span classes={classes.inner} />\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default LoadingIndicator;\n","import { dimensions } from '@dojo/framework/core/middleware/dimensions';\nimport { theme } from '@dojo/framework/core/middleware/theme';\nimport { bodyScroll } from '../middleware/bodyScroll';\nimport { create, tsx } from '@dojo/framework/core/vdom';\nimport * as css from '../theme/default/popup.m.css';\nimport * as fixedCss from './popup.m.css';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\n\nexport type PopupPosition = 'above' | 'below';\n\nexport interface BasePopupProperties {\n\t/** Preferred position where the popup should render relative to the provided position (defaults to \"below\"). If the popup does not have room to fully render in the preferred position it will switch to the opposite side. */\n\tposition?: PopupPosition;\n\t/** If the underlay should be visible (defaults to false) */\n\tunderlayVisible?: boolean;\n\t/** Callback triggered when the popup is closed */\n\tonClose?(): void;\n}\n\nexport interface PopupProperties extends BasePopupProperties {\n\t/** The X position on the page where the popup should render */\n\tx: number;\n\t/** The Y position on the page where the bottom of the popup should be if rendering \"above\" */\n\tyBottom: number;\n\t/** The Y position on the page where the popup should start if rendering \"below\" */\n\tyTop: number;\n\t/** Whether the popup is currently open */\n\topen?: boolean;\n}\n\nconst factory = create({ dimensions, theme, bodyScroll })\n\t.properties<PopupProperties>()\n\t.children<RenderResult | undefined>();\n\nexport const Popup = factory(function({\n\tproperties,\n\tchildren,\n\tmiddleware: { dimensions, theme, bodyScroll }\n}) {\n\tconst {\n\t\tunderlayVisible = false,\n\t\tposition = 'below',\n\t\tx,\n\t\tyBottom,\n\t\tyTop,\n\t\tonClose,\n\t\topen\n\t} = properties();\n\n\tconst wrapperDimensions = dimensions.get('wrapper');\n\tconst bottomOfVisibleScreen =\n\t\tdocument.documentElement.scrollTop + document.documentElement.clientHeight;\n\tconst topOfVisibleScreen = document.documentElement.scrollTop;\n\n\tconst willFit = {\n\t\tbelow: yTop + wrapperDimensions.size.height <= bottomOfVisibleScreen,\n\t\tabove: yBottom - wrapperDimensions.size.height >= topOfVisibleScreen\n\t};\n\n\tlet wrapperStyles: Partial<CSSStyleDeclaration> = {\n\t\topacity: '0'\n\t};\n\n\tif (wrapperDimensions.size.height) {\n\t\twrapperStyles = {\n\t\t\tleft: `${x}px`,\n\t\t\topacity: '1'\n\t\t};\n\n\t\tif (position === 'below') {\n\t\t\tif (willFit.below) {\n\t\t\t\twrapperStyles.top = `${yTop}px`;\n\t\t\t} else {\n\t\t\t\twrapperStyles.top = `${yBottom - wrapperDimensions.size.height}px`;\n\t\t\t}\n\t\t} else if (position === 'above') {\n\t\t\tif (willFit.above) {\n\t\t\t\twrapperStyles.top = `${yBottom - wrapperDimensions.size.height}px`;\n\t\t\t} else {\n\t\t\t\twrapperStyles.top = `${yTop}px`;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst classes = theme.classes(css);\n\n\tbodyScroll(!open);\n\n\treturn (\n\t\topen && (\n\t\t\t<body>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"underlay\"\n\t\t\t\t\tclasses={[\n\t\t\t\t\t\ttheme.variant(),\n\t\t\t\t\t\tfixedCss.underlay,\n\t\t\t\t\t\tunderlayVisible && classes.underlayVisible\n\t\t\t\t\t]}\n\t\t\t\t\tonclick={onClose}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"wrapper\"\n\t\t\t\t\tclasses={[theme.variant(), fixedCss.root]}\n\t\t\t\t\tstyles={wrapperStyles}\n\t\t\t\t>\n\t\t\t\t\t{children()}\n\t\t\t\t</div>\n\t\t\t</body>\n\t\t)\n\t);\n});\n\nexport default Popup;\n","import { RenderResult } from '@dojo/framework/core/interfaces';\nimport { focus } from '@dojo/framework/core/middleware/focus';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport { create, renderer, tsx } from '@dojo/framework/core/vdom';\nimport global from '@dojo/framework/shim/global';\nimport { Keys } from '../common/util';\nimport theme from '../middleware/theme';\nimport * as listItemCss from '../theme/default/list-item.m.css';\nimport * as menuItemCss from '../theme/default/menu-item.m.css';\nimport * as css from '../theme/default/list.m.css';\nimport * as fixedCss from './list.m.css';\nimport { createDataMiddleware } from '@dojo/framework/core/middleware/data';\nimport LoadingIndicator from '../loading-indicator';\nimport { throttle } from '@dojo/framework/core/util';\n\nexport interface MenuItemProperties {\n\t/** Callback used when the item is clicked */\n\tonSelect(): void;\n\t/** Property to set the active state of the item, indicates it's the current keyboard / mouse navigation target */\n\tactive?: boolean;\n\t/** Callback used when the item wants to request it be made active, to example on pointer move */\n\tonRequestActive(): void;\n\t/** Property to set the disabled state of the item */\n\tdisabled?: boolean;\n\t/** The id to apply to this widget top level for a11y */\n\twidgetId: string;\n}\n\nconst menuItemFactory = create({ theme }).properties<MenuItemProperties>();\n\nexport const MenuItem = menuItemFactory(function MenuItem({\n\tproperties,\n\tchildren,\n\tmiddleware: { theme }\n}) {\n\tconst { onSelect, active = false, onRequestActive, disabled = false, widgetId } = properties();\n\n\tconst themedCss = theme.classes(menuItemCss);\n\n\tfunction select() {\n\t\t!disabled && onSelect();\n\t}\n\n\tfunction requestActive() {\n\t\t!disabled && !active && onRequestActive();\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tid={widgetId}\n\t\t\tkey=\"root\"\n\t\t\tonpointermove={throttle(() => {\n\t\t\t\trequestActive();\n\t\t\t}, 500)}\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tthemedCss.root,\n\t\t\t\tactive && themedCss.active,\n\t\t\t\tdisabled && themedCss.disabled\n\t\t\t]}\n\t\t\tonpointerdown={() => {\n\t\t\t\trequestActive();\n\t\t\t\tselect();\n\t\t\t}}\n\t\t\trole=\"menuitem\"\n\t\t\taria-disabled={disabled}\n\t\t>\n\t\t\t{children()}\n\t\t</div>\n\t);\n});\n\nexport interface ListItemProperties {\n\t/** Callback used when the item is clicked */\n\tonSelect(): void;\n\t/** Property to set the selected state of the item */\n\tselected?: boolean;\n\t/** Property to set the active state of the item, indicates it's the current keyboard / mouse navigation target */\n\tactive?: boolean;\n\t/** Callback used when the item wants to request it be made active, to example on pointer move */\n\tonRequestActive(): void;\n\t/** Property to set the disabled state of the item */\n\tdisabled?: boolean;\n\t/** The id to apply to this widget top level for a11y */\n\twidgetId: string;\n}\n\nconst listItemFactory = create({ theme }).properties<ListItemProperties>();\n\nexport const ListItem = listItemFactory(function ListItem({\n\tproperties,\n\tchildren,\n\tmiddleware: { theme }\n}) {\n\tconst {\n\t\tonSelect,\n\t\tactive = false,\n\t\tonRequestActive,\n\t\tselected = false,\n\t\tdisabled = false,\n\t\twidgetId\n\t} = properties();\n\n\tconst classes = theme.classes(listItemCss);\n\n\tfunction select() {\n\t\t!disabled && onSelect();\n\t}\n\n\tfunction requestActive() {\n\t\t!disabled && !active && onRequestActive();\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tid={widgetId}\n\t\t\tkey=\"root\"\n\t\t\tonpointermove={throttle(() => {\n\t\t\t\trequestActive();\n\t\t\t}, 500)}\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tclasses.root,\n\t\t\t\tselected && classes.selected,\n\t\t\t\tactive && classes.active,\n\t\t\t\tdisabled && classes.disabled\n\t\t\t]}\n\t\t\tonpointerdown={() => {\n\t\t\t\trequestActive();\n\t\t\t\tselect();\n\t\t\t}}\n\t\t\trole=\"option\"\n\t\t\taria-disabled={disabled}\n\t\t\taria-selected={selected}\n\t\t>\n\t\t\t{children()}\n\t\t</div>\n\t);\n});\n\nexport type ListOption = { value: string; label?: string; disabled?: boolean; divider?: boolean };\n\nexport const defaultTransform = {\n\tvalue: ['value'],\n\tlabel: ['label'],\n\tdivider: ['divider'],\n\tdisabled: ['disabled']\n};\n\nexport interface ListProperties {\n\t/** The initial selected value */\n\tinitialValue?: string;\n\t/** Controlled value property */\n\tvalue?: string;\n\t/** Callback called when user selects a value */\n\tonValue(value: string): void;\n\t/** Called to request that the menu be closed */\n\tonRequestClose?(): void;\n\t/** Optional callback, when passed, the widget will no longer control it's own active index / keyboard navigation */\n\tonActiveIndexChange?(index: number): void;\n\t/** Optional property to set the activeIndex when it is being controlled externally */\n\tactiveIndex?: number;\n\t/** Determines if the widget can be focused or not. If the active index is controlled from elsewhere you may wish to stop the menu being focused and receiving keyboard events */\n\tfocusable?: boolean;\n\t/** Callback called when menu root is focused */\n\tonFocus?(): void;\n\t/** Callback called when menu root is blurred */\n\tonBlur?(): void;\n\t/** Property to determine how many items to render. Not passing a number will render all results */\n\titemsInView?: number;\n\t/** Property to determine if this list is being used as a menu, changes a11y and item type */\n\tmenu?: boolean;\n\t/** The id to be applied to the root of this widget, if not passed, one will be generated for a11y reasons */\n\twidgetId?: string;\n\t/** Callback to determine if a list item is disabled. If not provided, ListOption.disabled will be used */\n\tdisabled?: (item: ListOption) => boolean;\n}\n\nexport interface ListChildren {\n\t/** Custom renderer for item contents */\n\t(\n\t\titem: ItemRendererProperties,\n\t\tproperties: ListItemProperties & MenuItemProperties\n\t): RenderResult;\n}\n\nexport interface ItemRendererProperties {\n\tactive: boolean;\n\tdisabled: boolean;\n\tlabel?: string;\n\tselected: boolean;\n\tvalue: string;\n}\n\ninterface ListICache {\n\tactiveIndex: number;\n\tinitial: string;\n\tinputText: string;\n\titemHeight: number;\n\titemsInView: number;\n\tmenuHeight: number;\n\tresetInputTextTimer: any;\n\tvalue: string;\n\tscrollTop: number;\n\tpreviousActiveIndex: number;\n}\n\nconst offscreenHeight = (dnode: RenderResult) => {\n\tconst r = renderer(() => dnode);\n\tconst div = global.document.createElement('div');\n\tdiv.style.position = 'absolute';\n\tglobal.document.body.appendChild(div);\n\tr.mount({ domNode: div, sync: true });\n\tconst dimensions = div.getBoundingClientRect();\n\tglobal.document.body.removeChild(div);\n\treturn dimensions.height;\n};\n\nconst factory = create({\n\ticache: createICacheMiddleware<ListICache>(),\n\tfocus,\n\ttheme,\n\tdata: createDataMiddleware<ListOption>()\n})\n\t.properties<ListProperties>()\n\t.children<ListChildren | undefined>();\n\nexport const List = factory(function List({\n\tchildren,\n\tproperties,\n\tid,\n\tmiddleware: { icache, focus, theme, data }\n}) {\n\tconst {\n\t\tactiveIndex,\n\t\tfocusable = true,\n\t\tinitialValue,\n\t\titemsInView = 10,\n\t\tmenu = false,\n\t\tonActiveIndexChange,\n\t\tonBlur,\n\t\tonFocus,\n\t\tonRequestClose,\n\t\tonValue,\n\t\twidgetId,\n\t\ttheme: themeProp\n\t} = properties();\n\tconst [itemRenderer] = children();\n\n\tconst { get, getOrRead, getOptions, setOptions, getTotal, isLoading } = data();\n\n\tfunction setActiveIndex(index: number) {\n\t\tif (onActiveIndexChange) {\n\t\t\tonActiveIndexChange(index);\n\t\t} else {\n\t\t\ticache.set('activeIndex', index);\n\t\t}\n\t}\n\n\tfunction setValue(value: string) {\n\t\ticache.set('value', value);\n\t\tonValue(value);\n\t}\n\n\tfunction onKeyDown(event: KeyboardEvent, total: number) {\n\t\tconst { disabled } = properties();\n\n\t\tevent.stopPropagation();\n\n\t\tswitch (event.which) {\n\t\t\tcase Keys.Enter:\n\t\t\tcase Keys.Space:\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif (activeItem) {\n\t\t\t\t\tconst itemDisabled = disabled ? disabled(activeItem) : activeItem.disabled;\n\n\t\t\t\t\tif (!itemDisabled) {\n\t\t\t\t\t\tsetValue(activeItem.value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Down:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (event.metaKey || event.ctrlKey) {\n\t\t\t\t\tsetActiveIndex(total - 1);\n\t\t\t\t} else {\n\t\t\t\t\tsetActiveIndex((computedActiveIndex + 1) % total);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Up:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (event.metaKey || event.ctrlKey) {\n\t\t\t\t\tsetActiveIndex(0);\n\t\t\t\t} else {\n\t\t\t\t\tsetActiveIndex((computedActiveIndex - 1 + total) % total);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Escape:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tonRequestClose && onRequestClose();\n\t\t\t\tbreak;\n\t\t\tcase Keys.Home:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetActiveIndex(0);\n\t\t\t\tbreak;\n\t\t\tcase Keys.End:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetActiveIndex(total - 1);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (event.metaKey || event.ctrlKey) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst newIndex = getComputedIndexFromInput(event.key);\n\t\t\t\tif (newIndex !== undefined) {\n\t\t\t\t\tsetActiveIndex(newIndex);\n\t\t\t\t}\n\t\t}\n\t}\n\n\tfunction getComputedIndexFromInput(key: string) {\n\t\tconst existingTimer = icache.get('resetInputTextTimer');\n\t\tlet inputText = icache.getOrSet('inputText', '') + `${key}`;\n\t\texistingTimer && clearTimeout(existingTimer);\n\n\t\tconst resetTextTimeout = setTimeout(() => {\n\t\t\ticache.set('inputText', '');\n\t\t}, 800);\n\n\t\ticache.set('resetInputTextTimer', resetTextTimeout);\n\t\ticache.set('inputText', inputText);\n\n\t\tconst allItems = get({ query: getOptions().query }) as ListOption[];\n\t\tlet foundIndex: number | undefined = undefined;\n\n\t\tconst { disabled } = properties();\n\n\t\tallItems.some((option, index) => {\n\t\t\tconst { disabled: optionDisabled, value, label } = option;\n\t\t\tconst itemDisabled = disabled ? disabled(option) : optionDisabled;\n\n\t\t\tconst match =\n\t\t\t\t!itemDisabled &&\n\t\t\t\t(label || value).toLowerCase().indexOf(inputText.toLowerCase()) === 0;\n\t\t\tif (match) {\n\t\t\t\tfoundIndex = index;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\treturn foundIndex;\n\t}\n\n\tfunction renderItems(start: number, count: number) {\n\t\tconst renderedItems = [];\n\t\tconst pages = [];\n\t\tconst loading = [];\n\t\tgetOrRead(getOptions());\n\t\tconst total = getTotal(getOptions());\n\t\tif (total) {\n\t\t\tfor (let i = 0; i < Math.min(total - start, count); i++) {\n\t\t\t\tconst index = i + startNode;\n\t\t\t\tconst page = Math.floor(index / count) + 1;\n\t\t\t\tif (!pages[page]) {\n\t\t\t\t\tconst pageOptions = {\n\t\t\t\t\t\t...getOptions(),\n\t\t\t\t\t\tpageNumber: page\n\t\t\t\t\t};\n\t\t\t\t\tpages[page] = getOrRead(pageOptions) || [];\n\t\t\t\t\tloading[page] = isLoading(pageOptions);\n\t\t\t\t}\n\t\t\t\tconst indexWithinPage = index - (page - 1) * count;\n\t\t\t\tconst menuOption = pages[page][indexWithinPage];\n\t\t\t\tconst pageIsLoading = loading[page];\n\t\t\t\trenderedItems[i] = pageIsLoading\n\t\t\t\t\t? renderPlaceholder(index)\n\t\t\t\t\t: renderItem(menuOption, index);\n\t\t\t}\n\t\t}\n\n\t\treturn renderedItems;\n\t}\n\n\tfunction renderPlaceholder(index: number) {\n\t\tconst itemProps = {\n\t\t\twidgetId: `${idBase}-item-${index}`,\n\t\t\tkey: `item-${index}`,\n\t\t\tonSelect: () => {},\n\t\t\tactive: false,\n\t\t\tonRequestActive: () => {\n\t\t\t\tsetActiveIndex(index);\n\t\t\t},\n\t\t\tdisabled: true\n\t\t};\n\t\treturn menu ? (\n\t\t\t<MenuItem\n\t\t\t\t{...itemProps}\n\t\t\t\ttheme={theme.compose(\n\t\t\t\t\tmenuItemCss,\n\t\t\t\t\tcss,\n\t\t\t\t\t'item'\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<LoadingIndicator />\n\t\t\t</MenuItem>\n\t\t) : (\n\t\t\t<ListItem\n\t\t\t\t{...itemProps}\n\t\t\t\tselected={false}\n\t\t\t\ttheme={theme.compose(\n\t\t\t\t\tlistItemCss,\n\t\t\t\t\tcss,\n\t\t\t\t\t'item'\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<LoadingIndicator />\n\t\t\t</ListItem>\n\t\t);\n\t}\n\n\tfunction renderItem(data: ListOption, index: number) {\n\t\tconst { disabled } = properties();\n\t\tconst { value, label, divider, disabled: optionDisabled = false } = data;\n\t\tconst itemDisabled = disabled ? disabled(data) : optionDisabled;\n\t\tconst selected = value === selectedValue;\n\t\tconst active = index === computedActiveIndex;\n\t\tif (active) {\n\t\t\tactiveItem = data;\n\t\t}\n\t\tconst itemProps = {\n\t\t\twidgetId: `${idBase}-item-${index}`,\n\t\t\tkey: `item-${index}`,\n\t\t\tonSelect: () => {\n\t\t\t\tsetValue(value);\n\t\t\t},\n\t\t\tactive,\n\t\t\tonRequestActive: () => {\n\t\t\t\tsetActiveIndex(index);\n\t\t\t},\n\t\t\tdisabled: itemDisabled\n\t\t};\n\n\t\tlet item: RenderResult;\n\n\t\tif (itemRenderer) {\n\t\t\titem = itemRenderer(\n\t\t\t\t{\n\t\t\t\t\tvalue,\n\t\t\t\t\tlabel,\n\t\t\t\t\tdisabled: itemDisabled,\n\t\t\t\t\tactive,\n\t\t\t\t\tselected\n\t\t\t\t},\n\t\t\t\titemProps\n\t\t\t);\n\t\t} else {\n\t\t\tconst children = label || value;\n\t\t\titem = menu ? (\n\t\t\t\t<MenuItem\n\t\t\t\t\t{...itemProps}\n\t\t\t\t\ttheme={theme.compose(\n\t\t\t\t\t\tmenuItemCss,\n\t\t\t\t\t\tcss,\n\t\t\t\t\t\t'item'\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</MenuItem>\n\t\t\t) : (\n\t\t\t\t<ListItem\n\t\t\t\t\t{...itemProps}\n\t\t\t\t\tselected={selected}\n\t\t\t\t\ttheme={theme.compose(\n\t\t\t\t\t\tlistItemCss,\n\t\t\t\t\t\tcss,\n\t\t\t\t\t\t'item'\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</ListItem>\n\t\t\t);\n\t\t}\n\n\t\treturn divider ? [item, <hr classes={themedCss.divider} />] : item;\n\t}\n\n\tlet { value: selectedValue } = properties();\n\n\tif (selectedValue === undefined) {\n\t\tif (initialValue !== undefined && initialValue !== icache.get('initial')) {\n\t\t\ticache.set('initial', initialValue);\n\t\t\ticache.set('value', initialValue);\n\t\t}\n\n\t\tselectedValue = icache.get('value');\n\t}\n\n\tif (itemsInView !== icache.get('itemsInView')) {\n\t\ticache.set('itemsInView', itemsInView);\n\n\t\tconst offscreenItemProps = {\n\t\t\tselected: false,\n\t\t\tonSelect: () => {},\n\t\t\tactive: false,\n\t\t\tonRequestActive: () => {},\n\t\t\tonActive: () => {},\n\t\t\tscrollIntoView: false,\n\t\t\twidgetId: 'offcreen',\n\t\t\ttheme: themeProp\n\t\t};\n\n\t\tconst offscreenMenuItem = itemRenderer ? (\n\t\t\titemRenderer(\n\t\t\t\t{\n\t\t\t\t\tselected: false,\n\t\t\t\t\tactive: false,\n\t\t\t\t\tvalue: 'offscreen',\n\t\t\t\t\tdisabled: false\n\t\t\t\t},\n\t\t\t\toffscreenItemProps\n\t\t\t)\n\t\t) : menu ? (\n\t\t\t<MenuItem {...offscreenItemProps}>offscreen</MenuItem>\n\t\t) : (\n\t\t\t<ListItem {...offscreenItemProps}>offscreen</ListItem>\n\t\t);\n\n\t\tconst itemHeight = icache.getOrSet('itemHeight', offscreenHeight(offscreenMenuItem));\n\n\t\titemHeight && icache.set('menuHeight', itemsInView * itemHeight);\n\t}\n\n\tconst nodePadding = Math.min(itemsInView, 20);\n\tconst menuHeight = icache.get('menuHeight');\n\tconst idBase = widgetId || `menu-${id}`;\n\tconst rootStyles = menuHeight ? { maxHeight: `${menuHeight}px` } : {};\n\tconst shouldFocus = focus.shouldFocus();\n\tconst themedCss = theme.classes(css);\n\tconst itemHeight = icache.getOrSet('itemHeight', 0);\n\tlet scrollTop = icache.getOrSet('scrollTop', 0);\n\n\tconst previousActiveIndex = icache.get('previousActiveIndex');\n\tconst computedActiveIndex =\n\t\tactiveIndex === undefined ? icache.getOrSet('activeIndex', 0) : activeIndex;\n\n\tlet activeItem: ListOption | undefined = undefined;\n\n\tif (computedActiveIndex !== previousActiveIndex) {\n\t\tconst visibleStartIndex = Math.floor(scrollTop / itemHeight);\n\t\tconst visibleEndIndex = visibleStartIndex + itemsInView - 1;\n\t\tif (computedActiveIndex < visibleStartIndex) {\n\t\t\tscrollTop = computedActiveIndex * itemHeight;\n\t\t} else if (computedActiveIndex > visibleEndIndex) {\n\t\t\tscrollTop = Math.max(computedActiveIndex + 1 - itemsInView, 0) * itemHeight;\n\t\t}\n\n\t\tif (icache.get('scrollTop') !== scrollTop) {\n\t\t\ticache.set('scrollTop', scrollTop);\n\t\t}\n\n\t\ticache.set('previousActiveIndex', computedActiveIndex);\n\t}\n\n\tconst startNode = Math.max(0, Math.floor(scrollTop / itemHeight) - nodePadding);\n\tconst offsetY = startNode * itemHeight;\n\n\tconst renderedItemsCount = itemsInView + 2 * nodePadding;\n\n\tif (!getOptions().pageNumber || !getOptions().pageSize) {\n\t\tconst { pageSize = renderedItemsCount, pageNumber = 1, query } = getOptions();\n\t\tsetOptions({\n\t\t\tpageNumber,\n\t\t\tpageSize,\n\t\t\tquery\n\t\t});\n\t}\n\n\tconst items = renderItems(startNode, renderedItemsCount);\n\tconst total = getTotal(getOptions());\n\n\tif (total === undefined) {\n\t\treturn;\n\t}\n\n\tconst totalContentHeight = total * itemHeight;\n\n\treturn (\n\t\t<div\n\t\t\tkey=\"root\"\n\t\t\tclasses={[theme.variant(), themedCss.root, fixedCss.root]}\n\t\t\ttabIndex={focusable ? 0 : -1}\n\t\t\tonkeydown={(e) => {\n\t\t\t\tonKeyDown(e, total);\n\t\t\t}}\n\t\t\tfocus={() => shouldFocus}\n\t\t\tonfocus={onFocus}\n\t\t\tonpointerdown={focusable ? undefined : (event) => event.preventDefault()}\n\t\t\tonblur={onBlur}\n\t\t\tscrollTop={scrollTop}\n\t\t\tonscroll={(e) => {\n\t\t\t\tconst newScrollTop = (e.target as HTMLElement).scrollTop;\n\t\t\t\tif (scrollTop !== newScrollTop) {\n\t\t\t\t\ticache.set('scrollTop', newScrollTop);\n\t\t\t\t}\n\t\t\t}}\n\t\t\tstyles={rootStyles}\n\t\t\trole={menu ? 'menu' : 'listbox'}\n\t\t\taria-orientation=\"vertical\"\n\t\t\taria-activedescendant={`${idBase}-item-${computedActiveIndex}`}\n\t\t\tid={idBase}\n\t\t>\n\t\t\t<div\n\t\t\t\tclasses={fixedCss.wrapper}\n\t\t\t\tstyles={{\n\t\t\t\t\theight: `${totalContentHeight}px`\n\t\t\t\t}}\n\t\t\t\tkey=\"wrapper\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclasses={fixedCss.transformer}\n\t\t\t\t\tstyles={{\n\t\t\t\t\t\ttransform: `translateY(${offsetY}px)`\n\t\t\t\t\t}}\n\t\t\t\t\tkey=\"transformer\"\n\t\t\t\t>\n\t\t\t\t\t{items}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default List;\n","import { create, tsx } from '@dojo/framework/core/vdom';\nimport focus from '@dojo/framework/core/middleware/focus';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\nimport Popup from '../popup';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\n\nimport * as css from '../theme/default/context-popup.m.css';\n\nexport interface ContextPopupProperties {\n\tonClose?(): void;\n\tonOpen?(): void;\n}\n\nexport interface ContextPopupChildren {\n\ttrigger: RenderResult;\n\tcontent: (callbacks: { close(): void; shouldFocus(): boolean }) => RenderResult;\n}\n\ninterface ContextIcache {\n\tx: number;\n\ty: number;\n\topen: boolean;\n}\n\nconst icache = createICacheMiddleware<ContextIcache>();\n\nconst factory = create({ icache, focus })\n\t.properties<ContextPopupProperties>()\n\t.children<ContextPopupChildren>();\n\nconst CursorWidth = 2;\nconst CursorHeight = 4;\n\nexport const ContextPopup = factory(function({\n\tproperties,\n\tchildren,\n\tmiddleware: { icache, focus }\n}) {\n\tconst x = icache.getOrSet('x', 0);\n\tconst y = icache.getOrSet('y', 0);\n\n\tconst { trigger, content } = children()[0];\n\tconst close = () => {\n\t\tconst { onClose } = properties();\n\t\ticache.set('open', false);\n\t\tonClose && onClose();\n\t};\n\n\treturn (\n\t\t<virtual>\n\t\t\t<div\n\t\t\t\tclasses={css.trigger}\n\t\t\t\tkey=\"trigger\"\n\t\t\t\toncontextmenu={(event: MouseEvent) => {\n\t\t\t\t\tconst { onOpen } = properties();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tfocus.focus();\n\t\t\t\t\ticache.set('x', event.pageX - CursorWidth);\n\t\t\t\t\ticache.set('y', event.pageY - CursorHeight);\n\t\t\t\t\ticache.set('open', true);\n\t\t\t\t\tonOpen && onOpen();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{trigger}\n\t\t\t</div>\n\t\t\t<Popup\n\t\t\t\tkey=\"popup\"\n\t\t\t\tx={x}\n\t\t\t\tyTop={y}\n\t\t\t\tyBottom={document.documentElement.scrollTop + document.documentElement.clientHeight}\n\t\t\t\tonClose={close}\n\t\t\t\tposition=\"below\"\n\t\t\t\topen={icache.get('open')}\n\t\t\t>\n\t\t\t\t<div>{content({ close, shouldFocus: focus.shouldFocus })}</div>\n\t\t\t</Popup>\n\t\t</virtual>\n\t);\n});\n\nexport default ContextPopup;\n","import { create, tsx } from '@dojo/framework/core/vdom';\nimport theme from '../middleware/theme';\nimport List, { ListOption, defaultTransform as listTransform } from '../list/index';\nimport * as menuCss from '../theme/default/list.m.css';\nimport * as css from '../theme/default/context-menu.m.css';\nimport ContextPopup from '../context-popup';\nimport { createDataMiddleware } from '@dojo/framework/core/middleware/data';\n\nexport interface ContextMenuProperties {\n\t/* A callback that will be called with the value of whatever item is selected */\n\tonSelect(value: string): void;\n}\n\nconst factory = create({ theme, data: createDataMiddleware<ListOption>() }).properties<\n\tContextMenuProperties\n>();\n\nexport const defaultTransform = listTransform;\n\nexport const ContextMenu = factory(function({ properties, children, middleware: { theme } }) {\n\tconst { resource, transform, onSelect } = properties();\n\treturn (\n\t\t<ContextPopup>\n\t\t\t{{\n\t\t\t\ttrigger: children(),\n\t\t\t\tcontent: ({ close, shouldFocus }) => (\n\t\t\t\t\t<List\n\t\t\t\t\t\tkey=\"menu\"\n\t\t\t\t\t\tfocus={shouldFocus}\n\t\t\t\t\t\ttheme={theme.compose(\n\t\t\t\t\t\t\tmenuCss,\n\t\t\t\t\t\t\tcss,\n\t\t\t\t\t\t\t'menu'\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tmenu\n\t\t\t\t\t\tresource={resource}\n\t\t\t\t\t\ttransform={transform}\n\t\t\t\t\t\tonBlur={close}\n\t\t\t\t\t\tonRequestClose={close}\n\t\t\t\t\t\tonValue={(value) => {\n\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t\tonSelect(value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}}\n\t\t</ContextPopup>\n\t);\n});\n\nexport default ContextMenu;\n","import { create } from '@dojo/framework/core/vdom';\nimport coreTheme, {\n\tThemeProperties as CoreThemeProperties\n} from '@dojo/framework/core/middleware/theme';\nimport { ClassNames, Theme } from '@dojo/framework/core/mixins/Themed';\nimport { ThemeWithVariant } from '@dojo/framework/core/interfaces';\n\nconst factory = create({ coreTheme });\nexport const THEME_KEY = ' _key';\n\nfunction uppercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toUpperCase()}${value.slice(1)}`;\n}\n\nfunction lowercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toLowerCase()}${value.slice(1)}`;\n}\n\nfunction isThemeWithVariant(theme: any): theme is ThemeWithVariant {\n\treturn theme && theme.hasOwnProperty('variant');\n}\n\nexport interface ThemeProperties extends CoreThemeProperties {}\n\nexport const theme = factory(function({ middleware: { coreTheme }, properties }) {\n\treturn {\n\t\tcompose: <T extends ClassNames, B extends ClassNames>(\n\t\t\tbaseCss: B,\n\t\t\tcss: T,\n\t\t\tprefix?: string\n\t\t): Theme | ThemeWithVariant => {\n\t\t\tconst theme = properties().theme;\n\t\t\tconst baseKey = baseCss[THEME_KEY];\n\t\t\tconst variantKey = css[THEME_KEY];\n\t\t\tconst virtualCss = Object.keys(baseCss).reduce(\n\t\t\t\t(virtualCss, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn virtualCss;\n\t\t\t\t\t}\n\t\t\t\t\tif (prefix && !virtualCss[`${prefix}${uppercaseFirstChar(key)}`]) {\n\t\t\t\t\t\tvirtualCss[`${prefix}${uppercaseFirstChar(key)}`] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\tif (!css[key]) {\n\t\t\t\t\t\tvirtualCss[key] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn virtualCss;\n\t\t\t\t},\n\t\t\t\t{ [THEME_KEY]: variantKey } as ClassNames\n\t\t\t);\n\t\t\tconst virtualTheme = coreTheme.classes(virtualCss);\n\t\t\tconst variantTheme = coreTheme.classes(css);\n\t\t\tlet baseTheme = coreTheme.classes(baseCss);\n\t\t\tif (prefix) {\n\t\t\t\tconst prefixedCss = Object.keys({ ...virtualTheme, ...variantTheme }).reduce(\n\t\t\t\t\t(prefixCss, key) => {\n\t\t\t\t\t\tif (key.indexOf(prefix) === 0 && key !== prefix) {\n\t\t\t\t\t\t\tconst classKey = lowercaseFirstChar(key.replace(prefix, ''));\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!variantTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key].trim()\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = `${baseTheme[classKey]} ${virtualTheme[\n\t\t\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\t\t].trim()}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = variantTheme[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prefixCss;\n\t\t\t\t\t},\n\t\t\t\t\t{} as ClassNames\n\t\t\t\t);\n\t\t\t\tbaseTheme = { ...baseTheme, ...prefixedCss };\n\n\t\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariant: theme.variant\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...theme,\n\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst constructedTheme = Object.keys(baseTheme).reduce(\n\t\t\t\t(theme, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn theme;\n\t\t\t\t\t}\n\t\t\t\t\tconst variantComposesClass = variantTheme[key] && variantTheme[key].trim();\n\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\ttheme[key] = variantComposesClass;\n\t\t\t\t\t} else if (virtualTheme[key] && virtualTheme[key].trim()) {\n\t\t\t\t\t\ttheme[key] = `${theme[key]} ${virtualTheme[key].trim()}`;\n\t\t\t\t\t}\n\t\t\t\t\treturn theme;\n\t\t\t\t},\n\t\t\t\t{ ...baseTheme } as ClassNames\n\t\t\t);\n\n\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\treturn {\n\t\t\t\t\ttheme: {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t[baseKey]: constructedTheme\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t},\n\t\t\t\t\tvariant: theme.variant\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...theme,\n\t\t\t\t[baseKey]: constructedTheme\n\t\t\t};\n\t\t},\n\t\t...coreTheme\n\t};\n});\n\nexport default theme;\n","interface AriaPropertyObject {\n\t[key: string]: string | null;\n}\n\nexport enum Keys {\n\tDown = 40,\n\tEnd = 35,\n\tEnter = 13,\n\tEscape = 27,\n\tHome = 36,\n\tLeft = 37,\n\tPageDown = 34,\n\tPageUp = 33,\n\tRight = 39,\n\tSpace = 32,\n\tTab = 9,\n\tUp = 38\n}\n\nexport function formatAriaProperties(aria: AriaPropertyObject): AriaPropertyObject {\n\tconst formattedAria = Object.keys(aria).reduce((a: AriaPropertyObject, key: string) => {\n\t\ta[`aria-${key.toLowerCase()}`] = aria[key];\n\t\treturn a;\n\t}, {});\n\treturn formattedAria;\n}\n","import { create, destroy } from '@dojo/framework/core/vdom';\nimport global from '@dojo/framework/shim/global';\n\nconst factory = create({ destroy });\nconst bodyStyle = global.document.body.style;\n\nexport const bodyScroll = factory(function bodyScroll({ middleware: { destroy } }) {\n\tlet disabled = false;\n\tlet previousOverflow: string | undefined = undefined;\n\n\tconst enableScroll = () => {\n\t\tif (!disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (previousOverflow) {\n\t\t\tbodyStyle.setProperty('overflow', previousOverflow);\n\t\t} else {\n\t\t\tbodyStyle.removeProperty('overflow');\n\t\t}\n\t\tdisabled = false;\n\t\tpreviousOverflow = undefined;\n\t};\n\n\tconst disableScroll = () => {\n\t\tif (disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tdisabled = true;\n\t\tpreviousOverflow = bodyStyle.getPropertyValue('overflow');\n\t\tbodyStyle.setProperty('overflow', 'hidden');\n\t};\n\n\tdestroy(() => {\n\t\tdisabled && enableScroll();\n\t});\n\n\treturn (enable: boolean) => {\n\t\tenable ? enableScroll() : disableScroll();\n\t};\n});\n\nexport default bodyScroll;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/popup\",\"underlayVisible\":\"popup-m__underlayVisible__1Cxv3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/popup\",\"root\":\"popup-m__root__3WJlO\",\"underlay\":\"popup-m__underlay__2CC_p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/list\",\"root\":\"list-m__root__SEwTU\",\"items\":\"list-m__items__1mYDz\",\"divider\":\"list-m__divider__3aqPc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/loading-indicator\",\"root\":\"loading-indicator-m__root__3zBTf\",\"buffer\":\"loading-indicator-m__buffer__qJrL-\",\"bar\":\"loading-indicator-m__bar__2o6JH\",\"primary\":\"loading-indicator-m__primary__SBqVC\",\"inner\":\"loading-indicator-m__inner__212NS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/list-item\",\"root\":\"list-item-m__root__o0V59\",\"selected\":\"list-item-m__selected__1uxna\",\"active\":\"list-item-m__active__SBagO\",\"disabled\":\"list-item-m__disabled__18npQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/menu-item\",\"root\":\"menu-item-m__root__1LkPf\",\"active\":\"menu-item-m__active__3K8Hl\",\"disabled\":\"menu-item-m__disabled__20doE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/list\",\"wrapper\":\"list-m__wrapper__tXBYZ\",\"transformer\":\"list-m__transformer__3altK\",\"root\":\"list-m__root__1z7LC\"};"],"sourceRoot":""}