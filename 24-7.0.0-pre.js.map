{"version":3,"sources":["webpack:///./src/theme/default/calendar.m.css","webpack:///./src/icon/index.tsx","webpack:///./src/calendar/date-utils.tsx","webpack:///./src/calendar/nls/Calendar.tsx","webpack:///./src/calendar/index.tsx","webpack:///./src/middleware/theme.tsx","webpack:///./src/common/util.ts","webpack:///./src/common/styles/base.m.css","webpack:///./src/theme/default/icon.m.css","webpack:///./src/common/nls/common.ts"],"names":["module","exports"," _key","root","inactiveDate","outOfRange","selectedDate","todayDate","date","dateGrid","abbr","calendarPagingIcon","weekday","datePicker","topMatter","monthTrigger","yearTrigger","controls","previous","next","monthGrid","monthFields","yearGrid","yearFields","monthRadio","yearRadio","monthRadioChecked","yearRadioChecked","monthRadioInput","monthRadioLabel","yearRadioInput","yearRadioLabel","monthTriggerActive","yearTriggerActive","__webpack_require__","r","__webpack_exports__","d","Icon","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_0__","_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_common_util__WEBPACK_IMPORTED_MODULE_2__","_theme_default_icon_m_css__WEBPACK_IMPORTED_MODULE_3__","_common_styles_base_m_css__WEBPACK_IMPORTED_MODULE_4__","Object","theme","properties","factory","middleware","aria","hidden","type","altText","classes","assign","variant","icon","monthInMin","year","month","minDate","Date","getFullYear","getMonth","monthInMax","maxDate","stripTime","getDate","isOutOfDateRange","dateObj","min","max","Boolean","toDate","FirstDayOfWeek","nls_Calendar","locales","messages","chooseMonth","chooseYear","previousMonth","nextMonth","previousYears","nextYears","calendar_CalendarCell","calendar_DatePicker","calendar_Calendar","DEFAULT_MONTHS","short","long","DEFAULT_WEEKDAYS","Paging","Controls","BASE_YEAR","vdom","middleware_theme","themeCss","calendar_m","callFocus","focusable","selected","onFocusCalled","disabled","today","key","focus","role","aria-selected","tabIndex","onclick","event","stopPropagation","onClick","onkeydown","onKeyDown","which","preventDefault","middleware_focus","icache","middleware_icache","id","labelId","labels","keyWithFocus","get","monthPopupOpen","getOrSet","yearPopupOpen","yearPage","closeMonthPopup","onPopupChange","set","getPopupState","closeYearPopup","getMonthInputKey","getYearInputKey","onMonthButtonClick","openMonthPopup","onMonthRadioChange","onRequestMonthChange","parseInt","target","value","onPopupKeyDown","util","Escape","Enter","Space","onYearButtonClick","openYearPopup","onYearRadioChange","onRequestYearChange","newYear","monthInMinMax","yearInMinMax","minYear","maxYear","renderControlsTrigger","monthNames","content","open","aria-controls","aria-expanded","aria-haspopup","shouldFocus","undefined","renderPagingButtonContent","iconType","labelText","compose","icon_m","base_m","aria-live","aria-atomic","renderMonthLabel","aria-hidden","aria-labelledby","map","i","for","onmouseup","checked","name","onchange","title","renderMonthRadios","radios","yearLimits","yearRange","offset","first","last","getYearRange","push","renderYearRadios","tabindex","i18n","middleware_i18n","children","commonMessages","localize","common","initialValue","weekdayNames","getWeekdays","firstDayOfWeek","monthLabel","weekdayCell","defaultDate","initialYear","initialMonth","existingInitialValue","existingInitialMonth","existingInitialYear","callDateFocus","focusedDay","monthLabelId","popupOpen","getMonthYear","weekdayOrder","weekdays","order","day","renderWeekdayCell","onValueChange","newValue","onValue","onMonthChange","newMonth","onMonth","onYearChange","onYear","getMonthLength","getMonths","goToDate","currentMonthLength","previousMonthLength","ensureDayIsInMinMax","updatedDay","onMonthDecrement","onMonthIncrement","onDateClick","onDateFocusCalled","onDateKeyDown","Up","Down","Left","Right","PageUp","PageDown","newDate","update","renderDateCell","index","currentMonth","requestMonth","requestYear","renderDatePicker","cellspacing","cellpadding","newDay","currentMonthStartDay","getDay","initialWeekday","todayString","toDateString","isSelectedDay","isToday","days","dateString","dayIndex","isCurrentMonth","cellMonth","weeks","week","renderDateGrid","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","coreTheme","uppercaseFirstChar","charAt","toUpperCase","slice","isThemeWithVariant","hasOwnProperty","baseCss","css","prefix","baseKey","variantKey","virtualCss","keys","reduce","virtualTheme","variantTheme","baseTheme","prefixedCss","prefixCss","indexOf","classKey","toLowerCase","lowercaseFirstChar","replace","trim","[object Object]","variants","constructedTheme","variantComposesClass","Keys","formatAriaProperties","a","visuallyHidden","clockIcon","downIcon","leftIcon","rightIcon","closeIcon","plusIcon","minusIcon","checkIcon","upIcon","upAltIcon","downAltIcon","searchIcon","barsIcon","settingsIcon","alertIcon","helpIcon","infoIcon","cancelIcon","checkedBoxIcon","phoneIcon","editIcon","dateIcon","linkIcon","locationIcon","secureIcon","mailIcon","eyeIcon","eyeSlashIcon","starIcon","sunShort","monShort","tueShort","wedShort","thuShort","friShort","satShort","sunday","monday","tuesday","wednesday","thursday","friday","saturday","janShort","febShort","marShort","aprShort","mayShort","junShort","julShort","augShort","sepShort","octShort","novShort","decShort","january","february","march","april","may","june","july","august","september","october","november","december","clear","close"],"mappings":"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","file":"24-7.0.0-pre.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/calendar\",\"root\":\"calendar-m__root__2PWfJ\",\"inactiveDate\":\"calendar-m__inactiveDate__3ztj_\",\"outOfRange\":\"calendar-m__outOfRange__3V2nr\",\"selectedDate\":\"calendar-m__selectedDate__3DjDH\",\"todayDate\":\"calendar-m__todayDate__2JgB6\",\"date\":\"calendar-m__date__2BSNU\",\"dateGrid\":\"calendar-m__dateGrid__18TMz\",\"abbr\":\"calendar-m__abbr__1UkyF\",\"calendarPagingIcon\":\"calendar-m__calendarPagingIcon__2Vf3_ icon-m__icon__UdYI1\",\"weekday\":\"calendar-m__weekday__1BqUJ\",\"datePicker\":\"calendar-m__datePicker__26API\",\"topMatter\":\"calendar-m__topMatter__pkLaG\",\"monthTrigger\":\"calendar-m__monthTrigger__2TIFF\",\"yearTrigger\":\"calendar-m__yearTrigger__1Ncvy\",\"controls\":\"calendar-m__controls__2QndC\",\"previous\":\"calendar-m__previous__Sda94\",\"next\":\"calendar-m__next__1ZrT-\",\"monthGrid\":\"calendar-m__monthGrid__AsQh9\",\"monthFields\":\"calendar-m__monthFields__3jSvj\",\"yearGrid\":\"calendar-m__yearGrid__3D4zj\",\"yearFields\":\"calendar-m__yearFields__1ZaCi\",\"monthRadio\":\"calendar-m__monthRadio__1yo29\",\"yearRadio\":\"calendar-m__yearRadio__2OXzJ\",\"monthRadioChecked\":\"calendar-m__monthRadioChecked__wC4nH\",\"yearRadioChecked\":\"calendar-m__yearRadioChecked__1S2Fu\",\"monthRadioInput\":\"calendar-m__monthRadioInput__16Qsz\",\"monthRadioLabel\":\"calendar-m__monthRadioLabel__3T97i\",\"yearRadioInput\":\"calendar-m__yearRadioInput__3Rocl\",\"yearRadioLabel\":\"calendar-m__yearRadioLabel__3lT9x\",\"monthTriggerActive\":\"calendar-m__monthTriggerActive__39rp6\",\"yearTriggerActive\":\"calendar-m__yearTriggerActive__3tjvb\"};","import { create, tsx } from '@dojo/framework/core/vdom';\nimport theme from '../middleware/theme';\nimport { formatAriaProperties } from '../common/util';\nimport * as css from '../theme/default/icon.m.css';\nimport * as baseCss from '../common/styles/base.m.css';\n\nexport type IconType = keyof typeof css;\n\nexport interface IconProperties {\n\t/** An optional, visually hidden label for the icon */\n\taltText?: string;\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** Icon type, e.g. downIcon, searchIcon, etc. */\n\ttype: IconType;\n}\n\nconst factory = create({ theme }).properties<IconProperties>();\n\nexport const Icon = factory(function Icon({ properties, middleware: { theme } }) {\n\tconst {\n\t\taria = {\n\t\t\thidden: 'true'\n\t\t},\n\t\ttype,\n\t\taltText\n\t} = properties();\n\n\tconst classes = theme.classes(css);\n\n\treturn (\n\t\t<virtual>\n\t\t\t<i\n\t\t\t\tclasses={[theme.variant(), classes.icon, classes[type]]}\n\t\t\t\t{...formatAriaProperties(aria)}\n\t\t\t/>\n\t\t\t{altText ? <span classes={baseCss.visuallyHidden}>{altText}</span> : null}\n\t\t</virtual>\n\t);\n});\n\nexport default Icon;\n","export type ParseableDate = string | number | Date | null | undefined;\n\nexport function monthInMin(year: number, month: number, minDate?: Date) {\n\tif (minDate) {\n\t\treturn new Date(year, month, 1) >= new Date(minDate.getFullYear(), minDate.getMonth(), 1);\n\t}\n\treturn true;\n}\n\nexport function monthInMax(year: number, month: number, maxDate?: Date) {\n\tif (maxDate) {\n\t\tconst thisMonth = new Date(year, month, 1);\n\t\tconst max = new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n\t\treturn thisMonth <= max;\n\t}\n\treturn true;\n}\n\nfunction stripTime(date: Date) {\n\treturn new Date(date.getFullYear(), date.getMonth(), date.getDate());\n}\n\nexport function isOutOfDateRange(dateObj: Date, min?: Date, max?: Date) {\n\treturn Boolean((min && dateObj < stripTime(min)) || (max && stripTime(dateObj) > max));\n}\n\nexport function toDate(d: ParseableDate) {\n\tif (d instanceof Date) {\n\t\treturn d;\n\t}\n\n\tif (typeof d === 'string' || typeof d === 'number') {\n\t\treturn new Date(d);\n\t}\n\n\treturn new Date();\n}\n","const locales = {};\n\nconst messages = {\n\tchooseMonth: 'Choose Month',\n\tchooseYear: 'Choose Year',\n\tpreviousMonth: 'Previous Month',\n\tnextMonth: 'Next Month',\n\tpreviousYears: 'Earlier years',\n\tnextYears: 'Later years'\n};\n\nexport default { locales, messages };\n","import { tsx, create } from '@dojo/framework/core/vdom';\nimport { DNode, RenderResult } from '@dojo/framework/core/interfaces';\nimport commonBundle from '../common/nls/common';\nimport { formatAriaProperties, Keys } from '../common/util';\nimport { monthInMin, monthInMax, isOutOfDateRange, toDate } from './date-utils';\nimport Icon from '../icon/index';\nimport calendarBundle from './nls/Calendar';\nimport * as css from '../theme/default/calendar.m.css';\nimport * as baseCss from '../common/styles/base.m.css';\nimport * as iconCss from '../theme/default/icon.m.css';\n\nimport theme from '../middleware/theme';\nimport icache, { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport focus from '@dojo/framework/core/middleware/focus';\nimport i18n from '@dojo/framework/core/middleware/i18n';\n\nexport type CalendarMessages = typeof calendarBundle.messages;\n\nexport enum FirstDayOfWeek {\n\tsunday = 0,\n\tmonday = 1,\n\ttuesday = 2,\n\twednesday = 3,\n\tthursday = 4,\n\tfriday = 5,\n\tsaturday = 6\n}\n\nexport interface CalendarProperties {\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** Customize or internationalize accessible text for the Calendar widget */\n\tlabels?: CalendarMessages;\n\t/** Set the latest date the calendar will display (it will show the whole month but not allow later selections) */\n\tmaxDate?: Date;\n\t/** Set the earliest date the calendar will display (it will show the whole month but not allow previous selections) */\n\tminDate?: Date;\n\t/** Customize or internationalize full month names and abbreviations */\n\tmonthNames?: { short: string; long: string }[];\n\t/** Customize or internationalize weekday names and abbreviations */\n\tweekdayNames?: { short: string; long: string }[];\n\t/** Configure the first day of the calendar week, defaults to 0 (sunday) */\n\tfirstDayOfWeek?: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n\t/** The initial value */\n\tinitialValue?: Date;\n\t/** A controlled date value */\n\tvalue?: Date;\n\t/** Function called when the user selects a date */\n\tonValue?: (value: Date) => void;\n\t/** The initial month to display */\n\tinitialMonth?: number;\n\t/** A controlled month value */\n\tmonth?: number;\n\t/** Function called when the month changes */\n\tonMonth?(month: number): void;\n\t/** The initial year to display */\n\tinitialYear?: number;\n\t/** A controlled year value */\n\tyear?: number;\n\t/** Function called when the year changes */\n\tonYear?(year: number): void;\n}\n\nexport interface CalendarIcache {\n\tvalue: Date;\n\tinitialValue: Date;\n\tinitialMonth: number;\n\tmonth: number;\n\tinitialYear: number;\n\tyear: number;\n\tcallDateFocus?: boolean;\n\tfocusedDay: number;\n\tmonthLabelId: string;\n\tpopupOpen?: boolean;\n}\n\nexport interface CalendarChildren {\n\t/** Format the displayed current month and year */\n\tmonthLabel?: (month: number, year: number) => RenderResult;\n\t/** Format the weekday column headers */\n\tweekdayCell?: (day: { short: string; long: string }) => RenderResult;\n}\n\ninterface ShortLong<T> {\n\tshort: keyof T;\n\tlong: keyof T;\n}\n\nconst DEFAULT_MONTHS: ShortLong<typeof commonBundle.messages>[] = [\n\t{ short: 'janShort', long: 'january' },\n\t{ short: 'febShort', long: 'february' },\n\t{ short: 'marShort', long: 'march' },\n\t{ short: 'aprShort', long: 'april' },\n\t{ short: 'mayShort', long: 'may' },\n\t{ short: 'junShort', long: 'june' },\n\t{ short: 'julShort', long: 'july' },\n\t{ short: 'augShort', long: 'august' },\n\t{ short: 'sepShort', long: 'september' },\n\t{ short: 'octShort', long: 'october' },\n\t{ short: 'novShort', long: 'november' },\n\t{ short: 'decShort', long: 'december' }\n];\n\nconst DEFAULT_WEEKDAYS: ShortLong<typeof commonBundle.messages>[] = [\n\t{ short: 'sunShort', long: 'sunday' },\n\t{ short: 'monShort', long: 'monday' },\n\t{ short: 'tueShort', long: 'tuesday' },\n\t{ short: 'wedShort', long: 'wednesday' },\n\t{ short: 'thuShort', long: 'thursday' },\n\t{ short: 'friShort', long: 'friday' },\n\t{ short: 'satShort', long: 'saturday' }\n];\n\ninterface CalendarCellProperties {\n\t/** Used to immediately call focus on the cell */\n\tcallFocus?: boolean;\n\t/** The set date value */\n\tdate: number;\n\t/** Whether the date is in the displayed month */\n\tdisabled?: boolean;\n\t/** Whether the date can receive tab focus */\n\tfocusable?: boolean;\n\t/** Handler for the click event */\n\tonClick?(date: number, disabled: boolean): void;\n\t/** Handler for when the cell receives focus */\n\tonFocusCalled?(): void;\n\t/** Handler for the key down event */\n\tonKeyDown?(key: number, preventDefault: () => void): void;\n\t/** if the date is outside the min/max */\n\toutOfRange?: boolean;\n\t/** if the date is currently selected */\n\tselected?: boolean;\n\t/** if the date the same as the current day */\n\ttoday?: boolean;\n}\n\n/**\n * Enum for next/previous buttons\n */\nenum Paging {\n\tnext = 'next',\n\tprevious = 'previous'\n}\n\n/**\n * Enum for month or year controls\n */\nenum Controls {\n\tmonth = 'month',\n\tyear = 'year'\n}\n\ninterface DatePickerProperties {\n\t/** Id to reference label containing current month and year */\n\tlabelId?: string;\n\t/** Customize or internationalize accessible helper text */\n\tlabels: typeof calendarBundle.messages;\n\t/** Maximum date to be picked */\n\tmaxDate?: Date;\n\t/** Minimum date to be picked */\n\tminDate?: Date;\n\t/** Currently displayed month (zero-based) */\n\tmonth: number;\n\t/** Array of full and abbreviated month names */\n\tmonthNames: { short: string; long: string }[];\n\t/** Handles when a user action occurs that triggers a change in the month or year popup state */\n\tonPopupChange?(open: boolean): void;\n\t/** Handles when a month should change (month is zero-based) */\n\tonRequestMonthChange?(month: number): void;\n\t/** Handles when a year should change */\n\tonRequestYearChange?(year: number): void;\n\t/** Formats the displayed current month and year */\n\trenderMonthLabel?(month: number, year: number): RenderResult;\n\t/** Currently displayed year */\n\tyear: number;\n\t/** Number of years to display in a single page of the year popup */\n\tyearRange?: number;\n}\n\nconst BASE_YEAR = 2000;\n\nexport const CalendarCell = create({ theme }).properties<CalendarCellProperties>()(\n\tfunction CalendarCell({ middleware: { theme }, properties }) {\n\t\tconst themeCss = theme.classes(css);\n\t\tconst {\n\t\t\tcallFocus,\n\t\t\tdate,\n\t\t\tfocusable = false,\n\t\t\tselected = false,\n\t\t\tonFocusCalled,\n\t\t\tdisabled = false,\n\t\t\toutOfRange = false,\n\t\t\ttoday = false\n\t\t} = properties();\n\n\t\tfunction onClick(event: MouseEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\tconst { date, disabled = false, onClick } = properties();\n\t\t\tonClick && onClick(date, disabled);\n\t\t}\n\n\t\tfunction onKeyDown(event: KeyboardEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\tconst { onKeyDown } = properties();\n\t\t\tonKeyDown &&\n\t\t\t\tonKeyDown(event.which, () => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t});\n\t\t}\n\n\t\tif (callFocus) {\n\t\t\tonFocusCalled && onFocusCalled();\n\t\t}\n\n\t\treturn (\n\t\t\t<td\n\t\t\t\tkey=\"root\"\n\t\t\t\tfocus={callFocus}\n\t\t\t\trole=\"gridcell\"\n\t\t\t\taria-selected={`${selected}`}\n\t\t\t\ttabIndex={focusable ? 0 : -1}\n\t\t\t\tclasses={[\n\t\t\t\t\tthemeCss.date,\n\t\t\t\t\tdisabled || outOfRange ? themeCss.inactiveDate : null,\n\t\t\t\t\toutOfRange ? themeCss.outOfRange : null,\n\t\t\t\t\tselected ? themeCss.selectedDate : null,\n\t\t\t\t\ttoday ? themeCss.todayDate : null\n\t\t\t\t]}\n\t\t\t\tonclick={onClick}\n\t\t\t\tonkeydown={onKeyDown}\n\t\t\t>\n\t\t\t\t<span>{`${date}`}</span>\n\t\t\t</td>\n\t\t);\n\t}\n);\n\nexport const DatePicker = create({ theme, focus, icache }).properties<DatePickerProperties>()(\n\tfunction DatePicker({ middleware: { theme, focus, icache }, properties, id }) {\n\t\tconst themeCss = theme.classes(css);\n\t\tconst { labelId = `${id}_label`, labels, month, year } = properties();\n\t\tconst keyWithFocus = icache.get<string>('keyWithFocus');\n\t\tconst monthPopupOpen = icache.getOrSet('monthPopupOpen', false);\n\t\tconst yearPopupOpen = icache.getOrSet('yearPopupOpen', false);\n\t\tconst yearPage = icache.getOrSet('yearPage', 0);\n\n\t\tfunction closeMonthPopup(event?: MouseEvent) {\n\t\t\tif (event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t\tconst { onPopupChange } = properties();\n\t\t\ticache.set('keyWithFocus', 'month-button');\n\t\t\ticache.set('monthPopupOpen', false);\n\t\t\tfocus.focus();\n\t\t\tonPopupChange && onPopupChange(getPopupState());\n\t\t}\n\n\t\tfunction closeYearPopup(event?: MouseEvent) {\n\t\t\tif (event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t\tconst { onPopupChange } = properties();\n\t\t\ticache.set('yearPopupOpen', false);\n\t\t\ticache.set('keyWithFocus', 'year-button');\n\t\t\tfocus.focus();\n\t\t\tonPopupChange && onPopupChange(getPopupState());\n\t\t}\n\n\t\tfunction getMonthInputKey(month: number): string {\n\t\t\treturn `${id}_month_input_${month}`;\n\t\t}\n\n\t\tfunction getPopupState() {\n\t\t\tconst monthPopupOpen = icache.get('monthPopupOpen');\n\t\t\tconst yearPopupOpen = icache.get('yearPopupOpen');\n\t\t\treturn !!monthPopupOpen || !!yearPopupOpen;\n\t\t}\n\n\t\tfunction getYearInputKey(year: number): string {\n\t\t\treturn `${id}_year_input_${year}`;\n\t\t}\n\n\t\tfunction getYearRange() {\n\t\t\tconst { year, yearRange = 20 } = properties();\n\t\t\tconst offset = ((year - BASE_YEAR) % yearRange) - yearRange * yearPage;\n\n\t\t\tif (year >= BASE_YEAR) {\n\t\t\t\treturn { first: year - offset, last: year + yearRange - offset };\n\t\t\t} else {\n\t\t\t\treturn { first: year - (yearRange + offset), last: year - offset };\n\t\t\t}\n\t\t}\n\n\t\tfunction onMonthButtonClick(event: MouseEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\tmonthPopupOpen ? closeMonthPopup() : openMonthPopup();\n\t\t}\n\n\t\tfunction onMonthRadioChange(event: Event) {\n\t\t\tevent.stopPropagation();\n\t\t\tconst { onRequestMonthChange } = properties();\n\t\t\tonRequestMonthChange &&\n\t\t\t\tonRequestMonthChange(parseInt((event.target as HTMLInputElement).value, 10));\n\t\t}\n\n\t\tfunction onPopupKeyDown(event: KeyboardEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\t// close popup on escape, or if a value is selected with enter/space\n\t\t\tif (\n\t\t\t\tevent.which === Keys.Escape ||\n\t\t\t\tevent.which === Keys.Enter ||\n\t\t\t\tevent.which === Keys.Space\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tmonthPopupOpen && closeMonthPopup();\n\t\t\t\tyearPopupOpen && closeYearPopup();\n\t\t\t}\n\t\t}\n\n\t\tfunction onYearButtonClick(event: MouseEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\tyearPopupOpen ? closeYearPopup() : openYearPopup();\n\t\t}\n\n\t\tfunction onYearPageDown(event: MouseEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\ticache.set('yearPage', yearPage - 1);\n\t\t}\n\n\t\tfunction onYearPageUp(event: MouseEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\ticache.set('yearPage', yearPage + 1);\n\t\t}\n\n\t\tfunction onYearRadioChange(event: Event) {\n\t\t\tevent.stopPropagation();\n\t\t\tconst {\n\t\t\t\tonRequestYearChange,\n\t\t\t\tmonth,\n\t\t\t\tminDate,\n\t\t\t\tmaxDate,\n\t\t\t\tonRequestMonthChange\n\t\t\t} = properties();\n\t\t\tconst newYear = parseInt((event.target as HTMLInputElement).value, 10);\n\t\t\tif (!monthInMinMax(newYear, month)) {\n\t\t\t\t// we know the year is valid but the month is out of range\n\t\t\t\tif (minDate && newYear === minDate.getFullYear()) {\n\t\t\t\t\tonRequestMonthChange && onRequestMonthChange(minDate.getMonth());\n\t\t\t\t} else if (maxDate && newYear === maxDate.getFullYear()) {\n\t\t\t\t\tonRequestMonthChange && onRequestMonthChange(maxDate.getMonth());\n\t\t\t\t}\n\t\t\t}\n\t\t\ticache.set('yearPage', 0);\n\t\t\tonRequestYearChange && onRequestYearChange(newYear);\n\t\t}\n\n\t\tfunction openMonthPopup() {\n\t\t\tconst { month, onPopupChange } = properties();\n\t\t\ticache.set('monthPopupOpen', true);\n\t\t\ticache.set('yearPopupOpen', false);\n\t\t\ticache.set('keyWithFocus', getMonthInputKey(month));\n\t\t\tfocus.focus();\n\t\t\tonPopupChange && onPopupChange(getPopupState());\n\t\t}\n\n\t\tfunction openYearPopup() {\n\t\t\tconst { year, onPopupChange } = properties();\n\t\t\ticache.set('yearPopupOpen', true);\n\t\t\ticache.set('monthPopupOpen', false);\n\t\t\ticache.set('keyWithFocus', getYearInputKey(year));\n\t\t\tfocus.focus();\n\t\t\tonPopupChange && onPopupChange(getPopupState());\n\t\t}\n\n\t\tfunction monthInMinMax(year: number, month: number) {\n\t\t\tlet { minDate, maxDate } = properties();\n\n\t\t\treturn monthInMin(year, month, minDate) && monthInMax(year, month, maxDate);\n\t\t}\n\n\t\tfunction yearInMinMax(year: number) {\n\t\t\tconst { minDate, maxDate } = properties();\n\t\t\tconst minYear = minDate ? minDate.getFullYear() : year;\n\t\t\tconst maxYear = maxDate ? maxDate.getFullYear() : year;\n\t\t\treturn year >= minYear && year <= maxYear;\n\t\t}\n\n\t\tfunction renderControlsTrigger(type: Controls) {\n\t\t\tconst { month, monthNames, year } = properties();\n\n\t\t\tconst content = type === Controls.month ? monthNames[month].long : `${year}`;\n\t\t\tconst open = type === Controls.month ? monthPopupOpen : yearPopupOpen;\n\t\t\tconst onclick = type === Controls.month ? onMonthButtonClick : onYearButtonClick;\n\t\t\tconst key = `${type}-button`;\n\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tkey={key}\n\t\t\t\t\taria-controls={`${id}_${type}_dialog`}\n\t\t\t\t\taria-expanded={`${open}`}\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\tid={`${id}_${type}_button`}\n\t\t\t\t\tclasses={[\n\t\t\t\t\t\t(themeCss as any)[`${type}Trigger`],\n\t\t\t\t\t\topen ? (themeCss as any)[`${type}TriggerActive`] : null\n\t\t\t\t\t]}\n\t\t\t\t\tfocus={keyWithFocus === key ? focus.shouldFocus : undefined}\n\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonclick={onclick}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\n\t\tfunction renderMonthLabel(month: number, year: number) {\n\t\t\tconst { monthNames, renderMonthLabel } = properties();\n\t\t\treturn renderMonthLabel\n\t\t\t\t? renderMonthLabel(month, year)\n\t\t\t\t: `${monthNames[month].long} ${year}`;\n\t\t}\n\n\t\tfunction renderMonthRadios() {\n\t\t\tconst { year, month, monthNames } = properties();\n\t\t\treturn monthNames.map(({ short, long }, i) => {\n\t\t\t\tconst key = getMonthInputKey(i);\n\t\t\t\treturn (\n\t\t\t\t\t<label\n\t\t\t\t\t\tkey={`${id}_month_radios_${i}`}\n\t\t\t\t\t\tclasses={[\n\t\t\t\t\t\t\tthemeCss.monthRadio,\n\t\t\t\t\t\t\ti === month ? themeCss.monthRadioChecked : null\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tfor={getMonthInputKey(i)}\n\t\t\t\t\t\tonmouseup={closeMonthPopup}\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tchecked={i === month}\n\t\t\t\t\t\t\tclasses={themeCss.monthRadioInput}\n\t\t\t\t\t\t\tid={key}\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\tname={`${id}_month_radios`}\n\t\t\t\t\t\t\tfocus={keyWithFocus === key ? focus.shouldFocus : undefined}\n\t\t\t\t\t\t\ttabIndex={monthPopupOpen ? 0 : -1}\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tvalue={`${i}`}\n\t\t\t\t\t\t\tdisabled={!monthInMinMax(year, i)}\n\t\t\t\t\t\t\tonchange={onMonthRadioChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<abbr classes={themeCss.monthRadioLabel} title={long}>\n\t\t\t\t\t\t\t{short}\n\t\t\t\t\t\t</abbr>\n\t\t\t\t\t</label>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\tfunction renderPagingButtonContent(type: Paging) {\n\t\t\tconst { labels, classes } = properties();\n\t\t\tconst iconType = type === Paging.next ? 'rightIcon' : 'leftIcon';\n\t\t\tconst labelText = type === Paging.next ? labels.nextYears : labels.previousYears;\n\n\t\t\treturn [\n\t\t\t\t<Icon\n\t\t\t\t\ttype={iconType}\n\t\t\t\t\ttheme={theme.compose(\n\t\t\t\t\t\ticonCss,\n\t\t\t\t\t\tcss,\n\t\t\t\t\t\t'datePickerPaging'\n\t\t\t\t\t)}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t/>,\n\t\t\t\t<span classes={baseCss.visuallyHidden}>{labelText}</span>\n\t\t\t];\n\t\t}\n\n\t\tfunction renderYearRadios() {\n\t\t\tconst { year } = properties();\n\t\t\tconst radios = [];\n\n\t\t\tconst yearLimits = getYearRange();\n\t\t\tfor (let i = yearLimits.first; i < yearLimits.last; i++) {\n\t\t\t\tconst key = getYearInputKey(i);\n\t\t\t\tradios.push(\n\t\t\t\t\t<label\n\t\t\t\t\t\tkey={`${id}_year_radios_${i}`}\n\t\t\t\t\t\tclasses={[\n\t\t\t\t\t\t\tthemeCss.yearRadio,\n\t\t\t\t\t\t\ti === year ? themeCss.yearRadioChecked : null\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tfor={getYearInputKey(i)}\n\t\t\t\t\t\tonmouseup={closeYearPopup}\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tchecked={i === year}\n\t\t\t\t\t\t\tclasses={themeCss.yearRadioInput}\n\t\t\t\t\t\t\tid={key}\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\tname={`${id}_year_radios`}\n\t\t\t\t\t\t\tfocus={keyWithFocus === key ? focus.shouldFocus : undefined}\n\t\t\t\t\t\t\ttabIndex={yearPopupOpen ? 0 : -1}\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tvalue={`${i}`}\n\t\t\t\t\t\t\tdisabled={!yearInMinMax(i)}\n\t\t\t\t\t\t\tonchange={onYearRadioChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<abbr classes={themeCss.yearRadioLabel}>{`${i}`}</abbr>\n\t\t\t\t\t</label>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn radios;\n\t\t}\n\n\t\treturn (\n\t\t\t<div classes={themeCss.datePicker}>\n\t\t\t\t<div classes={themeCss.topMatter} role=\"menubar\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tid={labelId}\n\t\t\t\t\t\tclasses={[baseCss.visuallyHidden]}\n\t\t\t\t\t\taria-live=\"polite\"\n\t\t\t\t\t\taria-atomic=\"false\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderMonthLabel(month, year)}\n\t\t\t\t\t</label>\n\t\t\t\t\t{renderControlsTrigger(Controls.month)}\n\t\t\t\t\t{renderControlsTrigger(Controls.year)}\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tkey=\"month-grid\"\n\t\t\t\t\taria-hidden={`${!monthPopupOpen}`}\n\t\t\t\t\taria-labelledby={`${id}_month_button`}\n\t\t\t\t\tclasses={[themeCss.monthGrid, !monthPopupOpen ? baseCss.visuallyHidden : null]}\n\t\t\t\t\tid={`${id}_month_dialog`}\n\t\t\t\t\trole=\"dialog\"\n\t\t\t\t>\n\t\t\t\t\t<fieldset classes={themeCss.monthFields} onkeydown={onPopupKeyDown}>\n\t\t\t\t\t\t<legend classes={baseCss.visuallyHidden}>{labels.chooseMonth}</legend>\n\t\t\t\t\t\t{renderMonthRadios()}\n\t\t\t\t\t</fieldset>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tkey=\"year-grid\"\n\t\t\t\t\taria-hidden={`${!yearPopupOpen}`}\n\t\t\t\t\taria-labelledby={`${id}_year_button`}\n\t\t\t\t\tclasses={[themeCss.yearGrid, !yearPopupOpen ? baseCss.visuallyHidden : null]}\n\t\t\t\t\tid={`${id}_year_dialog`}\n\t\t\t\t\trole=\"dialog\"\n\t\t\t\t>\n\t\t\t\t\t<fieldset classes={themeCss.yearFields} onkeydown={onPopupKeyDown}>\n\t\t\t\t\t\t<legend classes={[baseCss.visuallyHidden]}>{labels.chooseYear}</legend>\n\t\t\t\t\t\t{...renderYearRadios()}\n\t\t\t\t\t</fieldset>\n\t\t\t\t</div>\n\t\t\t\t<div classes={themeCss.controls}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclasses={themeCss.previous}\n\t\t\t\t\t\ttabindex={yearPopupOpen ? 0 : -1}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonclick={onYearPageDown}\n\t\t\t\t\t\tdisabled={!yearInMinMax(year - 1)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{...renderPagingButtonContent(Paging.previous)}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclasses={themeCss.next}\n\t\t\t\t\t\ttabindex={yearPopupOpen ? 0 : -1}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonclick={onYearPageUp}\n\t\t\t\t\t\tdisabled={!yearInMinMax(year + 1)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderPagingButtonContent(Paging.next)}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n);\n\nconst factory = create({\n\ticache: createICacheMiddleware<CalendarIcache>(),\n\ti18n,\n\ttheme,\n\tfocus\n})\n\t.properties<CalendarProperties>()\n\t.children<CalendarChildren | undefined>();\n\nexport const Calendar = factory(function Calendar({\n\tmiddleware: { icache, i18n, theme, focus },\n\tproperties,\n\tid,\n\tchildren\n}) {\n\tconst themeCss = theme.classes(css);\n\tconst { messages: commonMessages } = i18n.localize(commonBundle);\n\n\tconst {\n\t\tlabels = i18n.localize(calendarBundle).messages,\n\t\taria = {},\n\t\tminDate,\n\t\tmaxDate,\n\t\tinitialValue,\n\t\tweekdayNames = getWeekdays(commonMessages),\n\t\tfirstDayOfWeek = 0\n\t} = properties();\n\n\tlet { value, month, year } = properties();\n\tconst { monthLabel, weekdayCell } = children()[0] || ({} as CalendarChildren);\n\tconst defaultDate = initialValue || new Date();\n\tconst {\n\t\tinitialYear = defaultDate.getFullYear(),\n\t\tinitialMonth = defaultDate.getMonth()\n\t} = properties();\n\n\tconst existingInitialValue = icache.get('initialValue');\n\tconst existingInitialMonth = icache.get('initialMonth');\n\tconst existingInitialYear = icache.get('initialYear');\n\tconst callDateFocus = icache.getOrSet('callDateFocus', false);\n\tconst focusedDay = icache.getOrSet('focusedDay', 1);\n\tconst monthLabelId = icache.getOrSet('monthLabelId', id);\n\tconst popupOpen = icache.getOrSet('popupOpen', false);\n\tconst shouldFocus = focus.shouldFocus();\n\tif (!value) {\n\t\tvalue = icache.get('value') || new Date();\n\n\t\tif (!initialValue && !existingInitialValue) {\n\t\t\tvalue = toDate(defaultDate);\n\n\t\t\tif (isOutOfDateRange(value, minDate, maxDate)) {\n\t\t\t\tvalue = toDate(maxDate);\n\t\t\t}\n\n\t\t\ticache.set('initialValue', value);\n\t\t\ticache.set('value', value);\n\t\t}\n\n\t\tif (initialValue && initialValue !== existingInitialValue) {\n\t\t\tvalue = toDate(initialValue);\n\n\t\t\ticache.set('initialValue', toDate(initialValue));\n\t\t\ticache.set('value', value);\n\t\t}\n\t}\n\n\tif (typeof month === 'undefined') {\n\t\tif (initialMonth !== existingInitialMonth) {\n\t\t\ticache.set('initialMonth', initialMonth);\n\t\t\ticache.set('month', initialMonth);\n\t\t}\n\t}\n\n\tif (typeof year === 'undefined') {\n\t\tif (initialYear !== existingInitialYear) {\n\t\t\ticache.set('initialYear', initialYear);\n\t\t\ticache.set('year', initialYear);\n\t\t}\n\t}\n\n\t({ month, year } = getMonthYear());\n\n\tlet weekdayOrder: number[] = [];\n\tfor (let i = firstDayOfWeek; i < firstDayOfWeek + 7; i++) {\n\t\tweekdayOrder.push(i > 6 ? i - 7 : i);\n\t}\n\n\tconst weekdays = weekdayOrder.map((order) => (\n\t\t<th role=\"columnheader\" classes={themeCss.weekday}>\n\t\t\t{renderWeekdayCell(weekdayNames[order])}\n\t\t</th>\n\t));\n\n\tfunction onValueChange(newValue: Date) {\n\t\tconst { onValue } = properties();\n\t\ticache.set('value', newValue);\n\t\tonValue && onValue(newValue);\n\t}\n\n\tfunction onMonthChange(newMonth: number) {\n\t\tconst { onMonth } = properties();\n\t\ticache.set('month', newMonth);\n\t\tonMonth && onMonth(newMonth);\n\t}\n\n\tfunction onYearChange(newYear: number) {\n\t\tconst { onYear } = properties();\n\t\ticache.set('year', newYear);\n\t\tonYear && onYear(newYear);\n\t}\n\n\tfunction getMonthLength(month: number, year: number) {\n\t\tconst lastDate = new Date(year, month + 1, 0);\n\t\treturn lastDate.getDate();\n\t}\n\n\tfunction getMonths(commonMessages: typeof commonBundle.messages) {\n\t\treturn DEFAULT_MONTHS.map((month) => ({\n\t\t\tshort: commonMessages[month.short],\n\t\t\tlong: commonMessages[month.long]\n\t\t}));\n\t}\n\n\tfunction getMonthYear() {\n\t\tlet { month, year, value } = properties();\n\t\tconst selectedDate = value || icache.getOrSet('value', new Date());\n\t\tmonth = typeof month === 'number' ? month : icache.get('month');\n\t\tyear = typeof year === 'number' ? year : icache.get('year');\n\t\treturn {\n\t\t\tmonth: typeof month === 'number' ? month : selectedDate.getMonth(),\n\t\t\tyear: typeof year === 'number' ? year : selectedDate.getFullYear()\n\t\t};\n\t}\n\n\tfunction getWeekdays(commonMessages: typeof commonBundle.messages) {\n\t\treturn DEFAULT_WEEKDAYS.map((weekday) => ({\n\t\t\tshort: commonMessages[weekday.short],\n\t\t\tlong: commonMessages[weekday.long]\n\t\t}));\n\t}\n\n\tfunction goToDate(day: number) {\n\t\tconst { month, year } = getMonthYear();\n\t\tconst currentMonthLength = getMonthLength(month, year);\n\t\tconst previousMonthLength = getMonthLength(month - 1, year);\n\n\t\tensureDayIsInMinMax(new Date(year, month, day), (updatedDay) => (day = updatedDay));\n\n\t\tif (day < 1) {\n\t\t\tonMonthDecrement();\n\t\t\tday += previousMonthLength;\n\t\t} else if (day > currentMonthLength) {\n\t\t\tonMonthIncrement();\n\t\t\tday -= currentMonthLength;\n\t\t}\n\n\t\ticache.set('focusedDay', day);\n\t\ticache.set('callDateFocus', true);\n\t}\n\n\tfunction onDateClick(date: number, disabled: boolean) {\n\t\tlet { month, year } = getMonthYear();\n\n\t\tif (disabled) {\n\t\t\t({ month, year } = date < 15 ? onMonthIncrement() : onMonthDecrement());\n\t\t\ticache.set('callDateFocus', true);\n\t\t}\n\t\ticache.set('focusedDay', date);\n\t\tconst dateValue = new Date(year, month, date);\n\t\tonValueChange(dateValue);\n\t}\n\n\tfunction onDateFocusCalled() {\n\t\ticache.set('callDateFocus', false);\n\t}\n\n\tfunction onDateKeyDown(key: number, preventDefault: () => void) {\n\t\tconst { month, year } = getMonthYear();\n\t\tswitch (key) {\n\t\t\tcase Keys.Up:\n\t\t\t\tpreventDefault();\n\t\t\t\tgoToDate(focusedDay - 7);\n\t\t\t\tbreak;\n\t\t\tcase Keys.Down:\n\t\t\t\tpreventDefault();\n\t\t\t\tgoToDate(focusedDay + 7);\n\t\t\t\tbreak;\n\t\t\tcase Keys.Left:\n\t\t\t\tpreventDefault();\n\t\t\t\tgoToDate(focusedDay - 1);\n\t\t\t\tbreak;\n\t\t\tcase Keys.Right:\n\t\t\t\tpreventDefault();\n\t\t\t\tgoToDate(focusedDay + 1);\n\t\t\t\tbreak;\n\t\t\tcase Keys.PageUp:\n\t\t\t\tpreventDefault();\n\t\t\t\tgoToDate(1);\n\t\t\t\tbreak;\n\t\t\tcase Keys.PageDown:\n\t\t\t\tpreventDefault();\n\t\t\t\tconst monthLength = getMonthLength(month, year);\n\t\t\t\tgoToDate(monthLength);\n\t\t\t\tbreak;\n\t\t\tcase Keys.Enter:\n\t\t\tcase Keys.Space:\n\t\t\t\tonValueChange(new Date(year, month, focusedDay));\n\t\t}\n\t}\n\n\tfunction onMonthDecrement() {\n\t\tconst { month, year } = getMonthYear();\n\n\t\tconst newYear = month === 0 ? year - 1 : year;\n\t\tconst newMonth = month === 0 ? 11 : month - 1;\n\n\t\tonMonthChange(newMonth);\n\t\tif (newYear !== year) {\n\t\t\tonYearChange(newYear);\n\t\t}\n\n\t\treturn { month: newMonth, year: newYear };\n\t}\n\n\tfunction onMonthIncrement() {\n\t\tconst { month, year } = getMonthYear();\n\n\t\tconst newYear = month === 11 ? year + 1 : year;\n\t\tconst newMonth = month === 11 ? 0 : month + 1;\n\t\tonMonthChange(newMonth);\n\t\tif (newYear !== year) {\n\t\t\tonYearChange(newYear);\n\t\t}\n\t\treturn { month: newMonth, year: newYear };\n\t}\n\n\tfunction onMonthPageDown(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tonMonthDecrement();\n\t}\n\n\tfunction onMonthPageUp(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tonMonthIncrement();\n\t}\n\n\tfunction ensureDayIsInMinMax(newDate: Date, update: (day: number) => void) {\n\t\tconst { minDate, maxDate } = properties();\n\n\t\tif (minDate && newDate < minDate) {\n\t\t\tupdate(minDate.getDate());\n\t\t} else if (maxDate && newDate > maxDate) {\n\t\t\tupdate(maxDate.getDate());\n\t\t}\n\t}\n\n\tfunction renderDateGrid(selectedDate?: Date) {\n\t\tconst { month, year } = getMonthYear();\n\t\tconst { firstDayOfWeek = 0 } = properties();\n\n\t\tensureDayIsInMinMax(new Date(year, month, focusedDay), (newDay) =>\n\t\t\ticache.set('focusedDay', newDay)\n\t\t);\n\t\tconst currentMonthLength = getMonthLength(month, year);\n\t\tconst previousMonthLength = getMonthLength(month - 1, year);\n\t\tconst currentMonthStartDay = new Date(year, month, 1).getDay();\n\t\tconst initialWeekday =\n\t\t\tcurrentMonthStartDay - firstDayOfWeek < 0\n\t\t\t\t? currentMonthStartDay - firstDayOfWeek + 7\n\t\t\t\t: currentMonthStartDay - firstDayOfWeek;\n\t\tconst todayString = new Date().toDateString();\n\n\t\tlet dayIndex = 0;\n\t\tlet isCurrentMonth = currentMonthStartDay === firstDayOfWeek;\n\t\tlet cellMonth = isCurrentMonth ? month : month - 1;\n\t\tlet date = isCurrentMonth ? 0 : previousMonthLength - initialWeekday;\n\t\tlet isSelectedDay: boolean;\n\t\tlet isToday: boolean;\n\t\tlet weeks: DNode[] = [];\n\t\tlet days: DNode[];\n\t\tlet dateObj: Date;\n\t\tlet dateString: string;\n\t\tlet weekday: number;\n\n\t\tfor (let week = 0; week < 6; week++) {\n\t\t\tdays = [];\n\n\t\t\tfor (weekday = 0; weekday < 7; weekday++) {\n\t\t\t\t// find the next date\n\t\t\t\t// if we've reached the end of the previous month, reset to 1\n\t\t\t\tif (date > dayIndex && date >= previousMonthLength) {\n\t\t\t\t\tdate = 1;\n\t\t\t\t\tcellMonth++;\n\t\t\t\t}\n\t\t\t\t// if we've reached the end of the current month, reset to 1\n\t\t\t\telse if (date <= dayIndex && date >= currentMonthLength) {\n\t\t\t\t\tdate = 1;\n\t\t\t\t\tcellMonth++;\n\t\t\t\t} else {\n\t\t\t\t\tdate++;\n\t\t\t\t}\n\n\t\t\t\t// set isSelectedDay if the dates match\n\t\t\t\tdateObj = new Date(year, cellMonth, date);\n\t\t\t\tdateString = dateObj.toDateString();\n\t\t\t\tisSelectedDay = Boolean(selectedDate && dateString === selectedDate.toDateString());\n\t\t\t\tisCurrentMonth = month === cellMonth;\n\t\t\t\tisToday = dateString === todayString;\n\n\t\t\t\tdays.push(\n\t\t\t\t\trenderDateCell(dateObj, dayIndex++, isSelectedDay, isCurrentMonth, isToday)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tweeks.push(<tr>{days}</tr>);\n\t\t}\n\n\t\treturn weeks;\n\t}\n\n\tfunction renderDateCell(\n\t\tdateObj: Date,\n\t\tindex: number,\n\t\tselected: boolean,\n\t\tcurrentMonth: boolean,\n\t\ttoday: boolean\n\t) {\n\t\tconst { minDate, maxDate, theme, classes } = properties();\n\n\t\tconst date = dateObj.getDate();\n\t\tconst outOfRange = isOutOfDateRange(dateObj, minDate, maxDate);\n\t\tconst focusable = currentMonth && date === icache.get('focusedDay');\n\n\t\treturn (\n\t\t\t<CalendarCell\n\t\t\t\tclasses={classes}\n\t\t\t\tkey={`date-${index}`}\n\t\t\t\tcallFocus={(callDateFocus || shouldFocus) && focusable}\n\t\t\t\tdate={date}\n\t\t\t\toutOfRange={outOfRange}\n\t\t\t\tfocusable={focusable}\n\t\t\t\tdisabled={!currentMonth}\n\t\t\t\tselected={selected}\n\t\t\t\ttheme={theme}\n\t\t\t\ttoday={today}\n\t\t\t\tonClick={outOfRange ? undefined : onDateClick}\n\t\t\t\tonFocusCalled={onDateFocusCalled}\n\t\t\t\tonKeyDown={onDateKeyDown}\n\t\t\t/>\n\t\t);\n\t}\n\n\tfunction renderDatePicker(\n\t\tcommonMessages: typeof commonBundle.messages,\n\t\tlabels: CalendarMessages\n\t) {\n\t\tconst {\n\t\t\tmonthNames = getMonths(commonMessages),\n\t\t\ttheme,\n\t\t\tclasses,\n\t\t\tminDate,\n\t\t\tmaxDate\n\t\t} = properties();\n\t\tconst { month, year } = getMonthYear();\n\n\t\treturn (\n\t\t\t<DatePicker\n\t\t\t\tkey=\"date-picker\"\n\t\t\t\tclasses={classes}\n\t\t\t\tlabelId={monthLabelId}\n\t\t\t\tlabels={labels}\n\t\t\t\tmonth={month}\n\t\t\t\tmonthNames={monthNames}\n\t\t\t\trenderMonthLabel={monthLabel}\n\t\t\t\ttheme={theme}\n\t\t\t\tyear={year}\n\t\t\t\tminDate={minDate}\n\t\t\t\tmaxDate={maxDate}\n\t\t\t\tonPopupChange={(open: boolean) => {\n\t\t\t\t\ticache.set('popupOpen', open);\n\t\t\t\t}}\n\t\t\t\tonRequestMonthChange={(requestMonth: number) => {\n\t\t\t\t\tonMonthChange(requestMonth);\n\t\t\t\t}}\n\t\t\t\tonRequestYearChange={(requestYear: number) => {\n\t\t\t\t\tonYearChange(requestYear);\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n\n\tfunction renderPagingButtonContent(type: Paging, labels: CalendarMessages) {\n\t\tconst { classes } = properties();\n\t\tconst iconType = type === Paging.next ? 'rightIcon' : 'leftIcon';\n\t\tconst labelText = type === Paging.next ? labels.nextMonth : labels.previousMonth;\n\n\t\treturn [\n\t\t\t<Icon\n\t\t\t\ttype={iconType}\n\t\t\t\ttheme={theme.compose(\n\t\t\t\t\ticonCss,\n\t\t\t\t\tcss,\n\t\t\t\t\t'calendarPaging'\n\t\t\t\t)}\n\t\t\t\tclasses={classes}\n\t\t\t/>,\n\t\t\t<span classes={[baseCss.visuallyHidden]}>{labelText}</span>\n\t\t];\n\t}\n\n\tfunction renderWeekdayCell(day: { short: string; long: string }) {\n\t\treturn weekdayCell ? (\n\t\t\tweekdayCell(day)\n\t\t) : (\n\t\t\t<abbr classes={themeCss.abbr} title={day.long}>\n\t\t\t\t{day.short}\n\t\t\t</abbr>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div classes={[theme.variant(), themeCss.root]} {...formatAriaProperties(aria)}>\n\t\t\t{renderDatePicker(commonMessages, labels)}\n\t\t\t<table\n\t\t\t\tcellspacing=\"0\"\n\t\t\t\tcellpadding=\"0\"\n\t\t\t\trole=\"grid\"\n\t\t\t\taria-labelledby={monthLabelId}\n\t\t\t\tclasses={[themeCss.dateGrid, popupOpen ? baseCss.visuallyHidden : null]}\n\t\t\t>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>{weekdays}</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>{renderDateGrid(value)}</tbody>\n\t\t\t</table>\n\t\t\t<div classes={[themeCss.controls, popupOpen ? baseCss.visuallyHidden : null]}>\n\t\t\t\t<button\n\t\t\t\t\tclasses={themeCss.previous}\n\t\t\t\t\ttabIndex={popupOpen ? -1 : 0}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdisabled={!monthInMin(year, month - 1, minDate)}\n\t\t\t\t\tonclick={onMonthPageDown}\n\t\t\t\t>\n\t\t\t\t\t{renderPagingButtonContent(Paging.previous, labels)}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclasses={themeCss.next}\n\t\t\t\t\ttabIndex={popupOpen ? -1 : 0}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdisabled={!monthInMax(year, month + 1, maxDate)}\n\t\t\t\t\tonclick={onMonthPageUp}\n\t\t\t\t>\n\t\t\t\t\t{renderPagingButtonContent(Paging.next, labels)}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default Calendar;\n","import { create } from '@dojo/framework/core/vdom';\nimport coreTheme, {\n\tThemeProperties as CoreThemeProperties\n} from '@dojo/framework/core/middleware/theme';\nimport { ClassNames, Theme } from '@dojo/framework/core/mixins/Themed';\nimport { ThemeWithVariant } from '@dojo/framework/core/interfaces';\n\nconst factory = create({ coreTheme });\nexport const THEME_KEY = ' _key';\n\nfunction uppercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toUpperCase()}${value.slice(1)}`;\n}\n\nfunction lowercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toLowerCase()}${value.slice(1)}`;\n}\n\nfunction isThemeWithVariant(theme: any): theme is ThemeWithVariant {\n\treturn theme && theme.hasOwnProperty('variant');\n}\n\nexport interface ThemeProperties extends CoreThemeProperties {}\n\nexport const theme = factory(function({ middleware: { coreTheme }, properties }) {\n\treturn {\n\t\tcompose: <T extends ClassNames, B extends ClassNames>(\n\t\t\tbaseCss: B,\n\t\t\tcss: T,\n\t\t\tprefix?: string\n\t\t): Theme | ThemeWithVariant => {\n\t\t\tconst theme = properties().theme;\n\t\t\tconst baseKey = baseCss[THEME_KEY];\n\t\t\tconst variantKey = css[THEME_KEY];\n\t\t\tconst virtualCss = Object.keys(baseCss).reduce(\n\t\t\t\t(virtualCss, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn virtualCss;\n\t\t\t\t\t}\n\t\t\t\t\tif (prefix && !virtualCss[`${prefix}${uppercaseFirstChar(key)}`]) {\n\t\t\t\t\t\tvirtualCss[`${prefix}${uppercaseFirstChar(key)}`] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\tif (!css[key]) {\n\t\t\t\t\t\tvirtualCss[key] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn virtualCss;\n\t\t\t\t},\n\t\t\t\t{ [THEME_KEY]: variantKey } as ClassNames\n\t\t\t);\n\t\t\tconst virtualTheme = coreTheme.classes(virtualCss);\n\t\t\tconst variantTheme = coreTheme.classes(css);\n\t\t\tlet baseTheme = coreTheme.classes(baseCss);\n\t\t\tif (prefix) {\n\t\t\t\tconst prefixedCss = Object.keys({ ...virtualTheme, ...variantTheme }).reduce(\n\t\t\t\t\t(prefixCss, key) => {\n\t\t\t\t\t\tif (key.indexOf(prefix) === 0 && key !== prefix) {\n\t\t\t\t\t\t\tconst classKey = lowercaseFirstChar(key.replace(prefix, ''));\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!variantTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key].trim()\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = `${baseTheme[classKey]} ${virtualTheme[\n\t\t\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\t\t].trim()}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = variantTheme[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prefixCss;\n\t\t\t\t\t},\n\t\t\t\t\t{} as ClassNames\n\t\t\t\t);\n\t\t\t\tbaseTheme = { ...baseTheme, ...prefixedCss };\n\n\t\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariant: theme.variant\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...theme,\n\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst constructedTheme = Object.keys(baseTheme).reduce(\n\t\t\t\t(theme, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn theme;\n\t\t\t\t\t}\n\t\t\t\t\tconst variantComposesClass = variantTheme[key] && variantTheme[key].trim();\n\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\ttheme[key] = variantComposesClass;\n\t\t\t\t\t} else if (virtualTheme[key] && virtualTheme[key].trim()) {\n\t\t\t\t\t\ttheme[key] = `${theme[key]} ${virtualTheme[key].trim()}`;\n\t\t\t\t\t}\n\t\t\t\t\treturn theme;\n\t\t\t\t},\n\t\t\t\t{ ...baseTheme } as ClassNames\n\t\t\t);\n\n\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\treturn {\n\t\t\t\t\ttheme: {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t[baseKey]: constructedTheme\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t},\n\t\t\t\t\tvariant: theme.variant\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...theme,\n\t\t\t\t[baseKey]: constructedTheme\n\t\t\t};\n\t\t},\n\t\t...coreTheme\n\t};\n});\n\nexport default theme;\n","interface AriaPropertyObject {\n\t[key: string]: string | null;\n}\n\nexport enum Keys {\n\tDown = 40,\n\tEnd = 35,\n\tEnter = 13,\n\tEscape = 27,\n\tHome = 36,\n\tLeft = 37,\n\tPageDown = 34,\n\tPageUp = 33,\n\tRight = 39,\n\tSpace = 32,\n\tTab = 9,\n\tUp = 38\n}\n\nexport function formatAriaProperties(aria: AriaPropertyObject): AriaPropertyObject {\n\tconst formattedAria = Object.keys(aria).reduce((a: AriaPropertyObject, key: string) => {\n\t\ta[`aria-${key.toLowerCase()}`] = aria[key];\n\t\treturn a;\n\t}, {});\n\treturn formattedAria;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/base\",\"visuallyHidden\":\"base-m__visuallyHidden__1AeWe\",\"focusable\":\"base-m__focusable__1_qAN\",\"hidden\":\"base-m__hidden__3QddU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/icon\",\"root\":\"icon-m__root__1eoV_\",\"icon\":\"icon-m__icon__UdYI1\",\"clockIcon\":\"icon-m__clockIcon__3GLpu\",\"downIcon\":\"icon-m__downIcon__2q5lh\",\"leftIcon\":\"icon-m__leftIcon__pBWIt\",\"rightIcon\":\"icon-m__rightIcon__18AW6\",\"closeIcon\":\"icon-m__closeIcon__21KIr\",\"plusIcon\":\"icon-m__plusIcon__2b4l_\",\"minusIcon\":\"icon-m__minusIcon__1DHfu\",\"checkIcon\":\"icon-m__checkIcon__2D3mV\",\"upIcon\":\"icon-m__upIcon__2Whg2\",\"upAltIcon\":\"icon-m__upAltIcon__2GXtu\",\"downAltIcon\":\"icon-m__downAltIcon__hm7FZ\",\"searchIcon\":\"icon-m__searchIcon__2HGOw\",\"barsIcon\":\"icon-m__barsIcon__2e0Qo\",\"settingsIcon\":\"icon-m__settingsIcon__2-UEA\",\"alertIcon\":\"icon-m__alertIcon__WjF2F\",\"helpIcon\":\"icon-m__helpIcon__3c7_4\",\"infoIcon\":\"icon-m__infoIcon__PXtvl\",\"cancelIcon\":\"icon-m__cancelIcon__2ey9p\",\"checkedBoxIcon\":\"icon-m__checkedBoxIcon__TSG-9\",\"phoneIcon\":\"icon-m__phoneIcon__2BO7g\",\"editIcon\":\"icon-m__editIcon__3j9QX\",\"dateIcon\":\"icon-m__dateIcon__3vXGn\",\"linkIcon\":\"icon-m__linkIcon__314xM\",\"locationIcon\":\"icon-m__locationIcon__1uwwo\",\"secureIcon\":\"icon-m__secureIcon__UXrMt\",\"mailIcon\":\"icon-m__mailIcon__3uh6Q\",\"eyeIcon\":\"icon-m__eyeIcon__2Cqqq\",\"eyeSlashIcon\":\"icon-m__eyeSlashIcon__17wRy\",\"starIcon\":\"icon-m__starIcon__r0lYz\"};","const locales = {};\n\nconst messages = {\n\tsunShort: 'Sun',\n\tmonShort: 'Mon',\n\ttueShort: 'Tue',\n\twedShort: 'Wed',\n\tthuShort: 'Thu',\n\tfriShort: 'Fri',\n\tsatShort: 'Sat',\n\tsunday: 'Sunday',\n\tmonday: 'Monday',\n\ttuesday: 'Tuesday',\n\twednesday: 'Wednesday',\n\tthursday: 'Thursday',\n\tfriday: 'Friday',\n\tsaturday: 'Saturday',\n\tjanShort: 'Jan',\n\tfebShort: 'Feb',\n\tmarShort: 'Mar',\n\taprShort: 'Apr',\n\tmayShort: 'May',\n\tjunShort: 'Jun',\n\tjulShort: 'Jul',\n\taugShort: 'Aug',\n\tsepShort: 'Sep',\n\toctShort: 'Oct',\n\tnovShort: 'Nov',\n\tdecShort: 'Dec',\n\tjanuary: 'January',\n\tfebruary: 'February',\n\tmarch: 'March',\n\tapril: 'April',\n\tmay: 'May',\n\tjune: 'June',\n\tjuly: 'July',\n\taugust: 'August',\n\tseptember: 'September',\n\toctober: 'October',\n\tnovember: 'November',\n\tdecember: 'December',\n\tclear: 'clear',\n\tclose: 'close',\n\topen: 'open'\n};\n\nexport default { locales, messages };\n"],"sourceRoot":""}