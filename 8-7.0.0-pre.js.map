{"version":3,"sources":["webpack:///./src/theme/default/calendar.m.css","webpack:///./src/theme/default/date-input.m.css","webpack:///./src/label/index.tsx","webpack:///./src/icon/index.tsx","webpack:///./src/helper-text/index.tsx","webpack:///./src/text-input/index.tsx","webpack:///./src/popup/index.tsx","webpack:///./src/trigger-popup/index.tsx","webpack:///./src/calendar/date-utils.tsx","webpack:///./src/calendar/nls/Calendar.tsx","webpack:///./src/calendar/index.tsx","webpack:///./src/date-input/date-utils.tsx","webpack:///./src/date-input/nls/DateInput.ts","webpack:///./src/date-input/index.tsx","webpack:///./src/middleware/theme.tsx","webpack:///./src/common/util.ts","webpack:///./src/common/styles/base.m.css","webpack:///./src/theme/default/label.m.css","webpack:///./src/theme/default/icon.m.css","webpack:///./src/theme/default/helper-text.m.css","webpack:///./src/theme/default/text-input.m.css","webpack:///./src/middleware/bodyScroll.tsx","webpack:///./src/theme/default/popup.m.css","webpack:///./src/popup/popup.m.css","webpack:///./src/trigger-popup/trigger-popup.m.css","webpack:///./src/common/nls/common.ts"],"names":["module","exports"," _key","root","inactiveDate","outOfRange","selectedDate","todayDate","date","dateGrid","abbr","calendarPagingIcon","weekday","datePicker","topMatter","monthTrigger","yearTrigger","controls","previous","next","monthGrid","monthFields","yearGrid","yearFields","monthRadio","yearRadio","monthRadioChecked","yearRadioChecked","monthRadioInput","monthRadioLabel","yearRadioInput","yearRadioLabel","monthTriggerActive","yearTriggerActive","input","toggleCalendarButton","popup","__webpack_require__","r","__webpack_exports__","d","Label","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_0__","_common_styles_base_m_css__WEBPACK_IMPORTED_MODULE_1__","_middleware_theme__WEBPACK_IMPORTED_MODULE_2__","_theme_default_label_m_css__WEBPACK_IMPORTED_MODULE_3__","_common_util__WEBPACK_IMPORTED_MODULE_4__","Object","theme","properties","factory","id","children","middleware","aria","active","disabled","focused","forId","hidden","readOnly","required","secondary","valid","widgetId","themeCss","classes","assign","variant","invalid","readonly","for","Icon","_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_common_util__WEBPACK_IMPORTED_MODULE_2__","_theme_default_icon_m_css__WEBPACK_IMPORTED_MODULE_3__","_common_styles_base_m_css__WEBPACK_IMPORTED_MODULE_4__","type","altText","icon","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_1__","_theme_default_helper_text_m_css__WEBPACK_IMPORTED_MODULE_2__","text","themedCss","key","aria-hidden","title","TextInput","Addon","_dojo_framework_core_middleware_focus__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_middleware_icache__WEBPACK_IMPORTED_MODULE_1__","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_2__","_dojo_framework_core_middleware_validity__WEBPACK_IMPORTED_MODULE_3__","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_4__","_common_util__WEBPACK_IMPORTED_MODULE_5__","_helper_text_index__WEBPACK_IMPORTED_MODULE_6__","_label_index__WEBPACK_IMPORTED_MODULE_7__","_theme_default_text_input_m_css__WEBPACK_IMPORTED_MODULE_8__","formatAutocomplete","autocomplete","icache","validity","focus","diffProperty","invalidator","pattern","RegExp","source","dirty","getOrSet","customValidator","helperText","labelHidden","max","maxLength","min","minLength","name","onBlur","onClick","onFocus","onKeyDown","onKeyUp","onOut","onOver","onValidate","onValue","patternValue","placeholder","step","themeProp","initialValue","validValue","undefined","message","value","label","leading","trailing","get","set","_callOnValidate","previousMessage","previousValid","customValid","computedHelperText","inputFocused","isFocused","role","wrapper","hasLeading","hasTrailing","noLabel","inputWrapper","inputWrapperFocused","aria-invalid","shouldFocus","maxlength","minlength","aria-readonly","onblur","onfocus","oninput","event","stopPropagation","target","onkeydown","which","preventDefault","onkeyup","onclick","onpointerenter","onpointerleave","addonFactory","filled","addonRoot","addonFilled","Popup","_dojo_framework_core_middleware_dimensions__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_middleware_bodyScroll__WEBPACK_IMPORTED_MODULE_2__","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_3__","_theme_default_popup_m_css__WEBPACK_IMPORTED_MODULE_4__","_popup_m_css__WEBPACK_IMPORTED_MODULE_5__","dimensions","bodyScroll","underlayVisible","position","x","yBottom","yTop","onClose","open","wrapperDimensions","bottomOfVisibleScreen","document","documentElement","scrollTop","clientHeight","topOfVisibleScreen","willFit","size","height","wrapperStyles","opacity","left","top","styles","_dojo_framework_core_middleware_icache__WEBPACK_IMPORTED_MODULE_5__","TriggerPopup","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_2__","_dojo_framework_core_middleware_dimensions__WEBPACK_IMPORTED_MODULE_1__","_a","matchWidth","onOpen","otherProperties","tslib__WEBPACK_IMPORTED_MODULE_0__","triggerPosition","triggerSize","triggerTop","triggerBottom","width","trigger","content","close","_trigger_popup_m_css__WEBPACK_IMPORTED_MODULE_4__","_popup__WEBPACK_IMPORTED_MODULE_3__","monthInMin","year","month","minDate","Date","getFullYear","getMonth","monthInMax","maxDate","stripTime","getDate","isOutOfDateRange","dateObj","Boolean","toDate","FirstDayOfWeek","nls_Calendar","locales","messages","chooseMonth","chooseYear","previousMonth","nextMonth","previousYears","nextYears","calendar_CalendarCell","calendar_DatePicker","calendar_Calendar","DEFAULT_MONTHS","short","long","DEFAULT_WEEKDAYS","Paging","Controls","BASE_YEAR","vdom","middleware_theme","calendar_m","callFocus","focusable","selected","onFocusCalled","today","aria-selected","tabIndex","middleware_focus","middleware_icache","labelId","labels","keyWithFocus","monthPopupOpen","yearPopupOpen","yearPage","closeMonthPopup","onPopupChange","getPopupState","closeYearPopup","getMonthInputKey","getYearInputKey","onMonthButtonClick","openMonthPopup","onMonthRadioChange","onRequestMonthChange","parseInt","onPopupKeyDown","util","Escape","Enter","Space","onYearButtonClick","openYearPopup","onYearRadioChange","onRequestYearChange","newYear","monthInMinMax","yearInMinMax","minYear","maxYear","renderControlsTrigger","monthNames","aria-controls","aria-expanded","aria-haspopup","renderPagingButtonContent","iconType","labelText","compose","icon_m","base_m","aria-live","aria-atomic","renderMonthLabel","aria-labelledby","map","i","onmouseup","checked","onchange","renderMonthRadios","radios","yearLimits","yearRange","offset","first","last","getYearRange","push","renderYearRadios","tabindex","i18n","middleware_i18n","commonMessages","localize","common","weekdayNames","getWeekdays","firstDayOfWeek","monthLabel","weekdayCell","defaultDate","initialYear","initialMonth","existingInitialValue","existingInitialMonth","existingInitialYear","callDateFocus","focusedDay","monthLabelId","popupOpen","getMonthYear","weekdayOrder","weekdays","order","day","renderWeekdayCell","onValueChange","newValue","onMonthChange","newMonth","onMonth","onYearChange","onYear","getMonthLength","getMonths","goToDate","currentMonthLength","previousMonthLength","ensureDayIsInMinMax","updatedDay","onMonthDecrement","onMonthIncrement","onDateClick","onDateFocusCalled","onDateKeyDown","Up","Down","Left","Right","PageUp","PageDown","newDate","update","renderDateCell","index","currentMonth","requestMonth","requestYear","renderDatePicker","cellspacing","cellpadding","newDay","currentMonthStartDay","getDay","initialWeekday","todayString","toDateString","isSelectedDay","isToday","days","dateString","dayIndex","isCurrentMonth","cellMonth","weeks","week","renderDateGrid","components","dateExpressions","tokens","Intl","DateTimeFormat","format","parseDate","exp","match","formatDateISO","toString","padStart","formatDate","DateInput","invalidProps","invalidDate","tooEarly","tooLate","date_input_icache","controlledValue","date_input_m","parsed","inputValue","shouldValidate","focusNode","testValue","isValid","validationMessages","length","validationMessage","join","trigger_popup","toggleOpen","openCalendar","text_input","text_input_m","v","e","calendar","coreTheme","uppercaseFirstChar","charAt","toUpperCase","slice","isThemeWithVariant","hasOwnProperty","baseCss","css","prefix","baseKey","variantKey","virtualCss","keys","reduce","virtualTheme","variantTheme","baseTheme","prefixedCss","prefixCss","indexOf","classKey","toLowerCase","lowercaseFirstChar","replace","trim","[object Object]","variants","constructedTheme","variantComposesClass","Keys","formatAriaProperties","a","visuallyHidden","clockIcon","downIcon","leftIcon","rightIcon","closeIcon","plusIcon","minusIcon","checkIcon","upIcon","upAltIcon","downAltIcon","searchIcon","barsIcon","settingsIcon","alertIcon","helpIcon","infoIcon","cancelIcon","checkedBoxIcon","phoneIcon","editIcon","dateIcon","linkIcon","locationIcon","secureIcon","mailIcon","eyeIcon","eyeSlashIcon","starIcon","_dojo_framework_shim_global__WEBPACK_IMPORTED_MODULE_1__","destroy","bodyStyle","body","style","previousOverflow","enableScroll","setProperty","removeProperty","enable","getPropertyValue","underlay","sunShort","monShort","tueShort","wedShort","thuShort","friShort","satShort","sunday","monday","tuesday","wednesday","thursday","friday","saturday","janShort","febShort","marShort","aprShort","mayShort","junShort","julShort","augShort","sepShort","octShort","novShort","decShort","january","february","march","april","may","june","july","august","september","october","november","december","clear"],"mappings":"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","file":"8-7.0.0-pre.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/calendar\",\"root\":\"calendar-m__root__2PWfJ\",\"inactiveDate\":\"calendar-m__inactiveDate__3ztj_\",\"outOfRange\":\"calendar-m__outOfRange__3V2nr\",\"selectedDate\":\"calendar-m__selectedDate__3DjDH\",\"todayDate\":\"calendar-m__todayDate__2JgB6\",\"date\":\"calendar-m__date__2BSNU\",\"dateGrid\":\"calendar-m__dateGrid__18TMz\",\"abbr\":\"calendar-m__abbr__1UkyF\",\"calendarPagingIcon\":\"calendar-m__calendarPagingIcon__2Vf3_ icon-m__icon__UdYI1\",\"weekday\":\"calendar-m__weekday__1BqUJ\",\"datePicker\":\"calendar-m__datePicker__26API\",\"topMatter\":\"calendar-m__topMatter__pkLaG\",\"monthTrigger\":\"calendar-m__monthTrigger__2TIFF\",\"yearTrigger\":\"calendar-m__yearTrigger__1Ncvy\",\"controls\":\"calendar-m__controls__2QndC\",\"previous\":\"calendar-m__previous__Sda94\",\"next\":\"calendar-m__next__1ZrT-\",\"monthGrid\":\"calendar-m__monthGrid__AsQh9\",\"monthFields\":\"calendar-m__monthFields__3jSvj\",\"yearGrid\":\"calendar-m__yearGrid__3D4zj\",\"yearFields\":\"calendar-m__yearFields__1ZaCi\",\"monthRadio\":\"calendar-m__monthRadio__1yo29\",\"yearRadio\":\"calendar-m__yearRadio__2OXzJ\",\"monthRadioChecked\":\"calendar-m__monthRadioChecked__wC4nH\",\"yearRadioChecked\":\"calendar-m__yearRadioChecked__1S2Fu\",\"monthRadioInput\":\"calendar-m__monthRadioInput__16Qsz\",\"monthRadioLabel\":\"calendar-m__monthRadioLabel__3T97i\",\"yearRadioInput\":\"calendar-m__yearRadioInput__3Rocl\",\"yearRadioLabel\":\"calendar-m__yearRadioLabel__3lT9x\",\"monthTriggerActive\":\"calendar-m__monthTriggerActive__39rp6\",\"yearTriggerActive\":\"calendar-m__yearTriggerActive__3tjvb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/date-input\",\"root\":\"date-input-m__root__2w2BU\",\"input\":\"date-input-m__input__2P7X7\",\"toggleCalendarButton\":\"date-input-m__toggleCalendarButton__c5a0i\",\"popup\":\"date-input-m__popup__XUf4-\"};","import { create, tsx } from '@dojo/framework/core/vdom';\n\nimport * as baseCss from '../common/styles/base.m.css';\nimport theme from '../middleware/theme';\nimport * as css from '../theme/default/label.m.css';\nimport { formatAriaProperties } from '../common/util';\n\nexport interface LabelProperties {\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** If the label should be disabled */\n\tdisabled?: boolean;\n\t/** If the label is focused */\n\tfocused?: boolean;\n\t/** ID to explicitly associate the label with an input element */\n\tforId?: string;\n\t/** If the label should be invisible (it will remain accessible to screen readers) */\n\thidden?: boolean;\n\t/** If the label is read only */\n\treadOnly?: boolean;\n\t/** If the label is required */\n\trequired?: boolean;\n\t/** If the label should use the secondary styling */\n\tsecondary?: boolean;\n\t/** If the label is valid */\n\tvalid?: boolean;\n\t/** ID of the underlying label element */\n\twidgetId?: string;\n\t/** Indicates that the label or it's control are active, will add extra style class */\n\tactive?: boolean;\n}\n\nconst factory = create({ theme }).properties<LabelProperties>();\n\nexport const Label = factory(function Label({ properties, id, children, middleware: { theme } }) {\n\tconst {\n\t\taria = {},\n\t\tactive,\n\t\tdisabled,\n\t\tfocused,\n\t\tforId,\n\t\thidden,\n\t\treadOnly,\n\t\trequired,\n\t\tsecondary,\n\t\tvalid,\n\t\twidgetId = `label-${id}`\n\t} = properties();\n\n\tconst themeCss = theme.classes(css);\n\n\treturn (\n\t\t<label\n\t\t\t{...formatAriaProperties(aria)}\n\t\t\tid={widgetId}\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tthemeCss.root,\n\t\t\t\tdisabled ? themeCss.disabled : null,\n\t\t\t\tfocused ? themeCss.focused : null,\n\t\t\t\tvalid === true ? themeCss.valid : null,\n\t\t\t\tvalid === false ? themeCss.invalid : null,\n\t\t\t\treadOnly ? themeCss.readonly : null,\n\t\t\t\trequired ? themeCss.required : null,\n\t\t\t\tsecondary ? themeCss.secondary : null,\n\t\t\t\tactive ? themeCss.active : null,\n\t\t\t\thidden ? baseCss.visuallyHidden : null\n\t\t\t]}\n\t\t\tfor={forId}\n\t\t>\n\t\t\t{children()}\n\t\t</label>\n\t);\n});\n\nexport default Label;\n","import { create, tsx } from '@dojo/framework/core/vdom';\nimport theme from '../middleware/theme';\nimport { formatAriaProperties } from '../common/util';\nimport * as css from '../theme/default/icon.m.css';\nimport * as baseCss from '../common/styles/base.m.css';\n\nexport type IconType = keyof typeof css;\n\nexport interface IconProperties {\n\t/** An optional, visually hidden label for the icon */\n\taltText?: string;\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** Icon type, e.g. downIcon, searchIcon, etc. */\n\ttype: IconType;\n}\n\nconst factory = create({ theme }).properties<IconProperties>();\n\nexport const Icon = factory(function Icon({ properties, middleware: { theme } }) {\n\tconst {\n\t\taria = {\n\t\t\thidden: 'true'\n\t\t},\n\t\ttype,\n\t\taltText\n\t} = properties();\n\n\tconst classes = theme.classes(css);\n\n\treturn (\n\t\t<virtual>\n\t\t\t<i\n\t\t\t\tclasses={[theme.variant(), classes.icon, classes[type]]}\n\t\t\t\t{...formatAriaProperties(aria)}\n\t\t\t/>\n\t\t\t{altText ? <span classes={baseCss.visuallyHidden}>{altText}</span> : null}\n\t\t</virtual>\n\t);\n});\n\nexport default Icon;\n","import theme from '@dojo/framework/core/middleware/theme';\nimport { create, tsx } from '@dojo/framework/core/vdom';\nimport * as css from '../theme/default/helper-text.m.css';\n\nexport interface HelperTextProperties {\n\t/** The supplied helper text */\n\ttext?: string;\n\t/** If `HelperText` indicates a valid condition */\n\tvalid?: boolean;\n}\n\nconst factory = create({ theme }).properties<HelperTextProperties>();\n\nexport default factory(function HelperText({ properties, middleware: { theme } }) {\n\tconst { text, valid } = properties();\n\tconst themedCss = theme.classes(css);\n\n\treturn (\n\t\t<div\n\t\t\tkey=\"root\"\n\t\t\tclasses={[\n\t\t\t\ttheme.variant(),\n\t\t\t\tthemedCss.root,\n\t\t\t\tvalid === true ? themedCss.valid : null,\n\t\t\t\tvalid === false ? themedCss.invalid : null\n\t\t\t]}\n\t\t>\n\t\t\t{text && (\n\t\t\t\t<p key=\"text\" classes={themedCss.text} aria-hidden={'true'} title={text}>\n\t\t\t\t\t{text}\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</div>\n\t);\n});\n","import { RenderResult } from '@dojo/framework/core/interfaces';\nimport focus from '@dojo/framework/core/middleware/focus';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport theme from '@dojo/framework/core/middleware/theme';\nimport validity from '@dojo/framework/core/middleware/validity';\nimport { create, diffProperty, invalidator, tsx } from '@dojo/framework/core/vdom';\nimport { formatAriaProperties } from '../common/util';\nimport HelperText from '../helper-text/index';\nimport Label from '../label/index';\nimport * as css from '../theme/default/text-input.m.css';\n\nexport type TextInputType =\n\t| 'text'\n\t| 'email'\n\t| 'number'\n\t| 'password'\n\t| 'search'\n\t| 'tel'\n\t| 'url'\n\t| 'date';\n\nexport interface BaseInputProperties<T extends { value: any } = { value: string }> {\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** Should the field autocomplete */\n\tautocomplete?: boolean | string;\n\t/** The disabled property of the input */\n\tdisabled?: boolean;\n\t/** Text to display below the input */\n\thelperText?: string;\n\t/** Hides the label for a11y purposes */\n\tlabelHidden?: boolean;\n\t/** The name property of the input */\n\tname?: string;\n\t/** Callback fired when the input is blurred */\n\tonBlur?(): void;\n\t/** Callback fired when the input is focused */\n\tonFocus?(): void;\n\t/** Callback fired when a key is pressed down */\n\tonKeyDown?(key: number, preventDefault: () => void): void;\n\t/** Callback fired when a key is released */\n\tonKeyUp?(key: number, preventDefault: () => void): void;\n\t/** Callback fired when the input validation changes */\n\tonValidate?: (valid: boolean | undefined, message: string) => void;\n\t/** Callback fired when the input value changes */\n\tonValue?(value?: T['value']): void;\n\t/** Callback fired when the input is clicked */\n\tonClick?(): void;\n\t/** Callback fired when the pointer enters the input */\n\tonOver?(): void;\n\t/** Callback fired when the pointer leaves the input */\n\tonOut?(): void;\n\t/** Placeholder text */\n\tplaceholder?: string;\n\t/** The readonly attribute of the input */\n\treadOnly?: boolean;\n\t/** The required attribute of the input */\n\trequired?: boolean;\n\t/** The initial value */\n\tinitialValue?: T['value'];\n\t/** The controlled value */\n\tvalue?: T['value'];\n\t/** The id to be applied to the input */\n\twidgetId?: string;\n}\n\nexport interface TextInputChildren {\n\t/** The label to be displayed above the input */\n\tlabel?: RenderResult;\n\t/** Renderer for leading content */\n\tleading?: RenderResult;\n\t/** Renderer for trailing content */\n\ttrailing?: RenderResult;\n}\n\nexport interface TextInputProperties extends BaseInputProperties {\n\t/** Custom validator used to validate the contents of the input */\n\tcustomValidator?: (value: string) => { valid?: boolean; message?: string } | void;\n\t/** The min value a number can be */\n\tmin?: number | string;\n\t/** The max value a number can be */\n\tmax?: number | string;\n\t/** The step to increment the number value by */\n\tstep?: number | string;\n\t/** Maximum number of characters allowed in the input */\n\tmaxLength?: number | string;\n\t/** Minimum number of characters allowed in the input */\n\tminLength?: number | string;\n\t/** Pattern used as part of validation */\n\tpattern?: string | RegExp;\n\t/** Input type, e.g. text, email, tel, etc. */\n\ttype?: TextInputType;\n\t/** Represents if the input value is valid */\n\tvalid?: { valid?: boolean; message?: string } | boolean;\n}\n\nfunction formatAutocomplete(autocomplete: string | boolean | undefined): string | undefined {\n\tif (typeof autocomplete === 'boolean') {\n\t\treturn autocomplete ? 'on' : 'off';\n\t}\n\treturn autocomplete;\n}\n\ninterface TextInputICache {\n\tuuid: string;\n\tdirty: boolean;\n\tvalue?: string;\n\tinitialValue?: string;\n}\n\nconst factory = create({\n\ttheme,\n\ticache: createICacheMiddleware<TextInputICache>(),\n\tvalidity,\n\tfocus,\n\tdiffProperty,\n\tinvalidator\n})\n\t.properties<TextInputProperties>()\n\t.children<TextInputChildren | undefined>();\n\nexport const TextInput = factory(function TextInput({\n\tmiddleware: { icache, theme, validity, focus, diffProperty, invalidator },\n\tproperties,\n\tchildren,\n\tid\n}) {\n\tdiffProperty('pattern', (previous: TextInputProperties, next: TextInputProperties) => {\n\t\tconst value = next.pattern instanceof RegExp ? next.pattern.source : next.pattern;\n\t\tif (value !== previous.pattern) {\n\t\t\tinvalidator();\n\t\t}\n\t});\n\n\tconst themeCss = theme.classes(css);\n\tconst dirty = icache.getOrSet('dirty', false);\n\n\tconst {\n\t\taria = {},\n\t\tautocomplete,\n\t\tclasses,\n\t\tcustomValidator,\n\t\tdisabled,\n\t\thelperText,\n\t\tlabelHidden = false,\n\t\tmax,\n\t\tmaxLength,\n\t\tmin,\n\t\tminLength,\n\t\tname,\n\t\tonBlur,\n\t\tonClick,\n\t\tonFocus,\n\t\tonKeyDown,\n\t\tonKeyUp,\n\t\tonOut,\n\t\tonOver,\n\t\tonValidate,\n\t\tonValue,\n\t\tpattern: patternValue,\n\t\tplaceholder,\n\t\treadOnly,\n\t\trequired,\n\t\tstep,\n\t\ttheme: themeProp,\n\t\ttype = 'text',\n\t\tinitialValue,\n\t\tvalid: validValue = { valid: undefined, message: '' },\n\t\twidgetId = `text-input-${id}`\n\t} = properties();\n\n\tlet { value } = properties();\n\tconst [{ label, leading, trailing } = {} as TextInputChildren] = children();\n\n\tif (value === undefined) {\n\t\tvalue = icache.get('value');\n\t\tconst existingInitialValue = icache.get('initialValue');\n\n\t\tif (initialValue !== existingInitialValue) {\n\t\t\ticache.set('value', initialValue);\n\t\t\ticache.set('initialValue', initialValue);\n\t\t\tvalue = initialValue;\n\t\t}\n\t}\n\n\tconst pattern = patternValue instanceof RegExp ? patternValue.source : patternValue;\n\n\tfunction _callOnValidate(valid: boolean | undefined, message: string) {\n\t\tlet { valid: previousValid } = properties();\n\t\tlet previousMessage: string | undefined;\n\n\t\tif (typeof previousValid === 'object') {\n\t\t\tpreviousMessage = previousValid.message;\n\t\t\tpreviousValid = previousValid.valid;\n\t\t}\n\n\t\tif (valid !== previousValid || message !== previousMessage) {\n\t\t\tonValidate && onValidate(valid, message);\n\t\t}\n\t}\n\n\tif (onValidate) {\n\t\tif (value === '' && !dirty) {\n\t\t\t_callOnValidate(undefined, '');\n\t\t} else {\n\t\t\ticache.set('dirty', true);\n\t\t\tlet { valid, message = '' } = validity.get('input', value || '');\n\t\t\tif (valid && customValidator) {\n\t\t\t\tconst customValid = customValidator(value || '');\n\t\t\t\tif (customValid) {\n\t\t\t\t\tvalid = customValid.valid;\n\t\t\t\t\tmessage = customValid.message || '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_callOnValidate(valid, message);\n\t\t}\n\t}\n\n\tconst { valid, message } =\n\t\ttypeof validValue === 'boolean' ? { valid: validValue, message: '' } : validValue;\n\n\tconst computedHelperText = (valid === false && message) || helperText;\n\tconst inputFocused = focus.isFocused('input');\n\n\treturn (\n\t\t<div key=\"root\" classes={[theme.variant(), themeCss.root]} role=\"presentation\">\n\t\t\t<div\n\t\t\t\tkey=\"wrapper\"\n\t\t\t\tclasses={[\n\t\t\t\t\tthemeCss.wrapper,\n\t\t\t\t\tdisabled ? themeCss.disabled : null,\n\t\t\t\t\tinputFocused ? themeCss.focused : null,\n\t\t\t\t\tvalid === false ? themeCss.invalid : null,\n\t\t\t\t\tvalid === true ? themeCss.valid : null,\n\t\t\t\t\treadOnly ? themeCss.readonly : null,\n\t\t\t\t\trequired ? themeCss.required : null,\n\t\t\t\t\tleading ? themeCss.hasLeading : null,\n\t\t\t\t\ttrailing ? themeCss.hasTrailing : null,\n\t\t\t\t\t!label || labelHidden ? themeCss.noLabel : null\n\t\t\t\t]}\n\t\t\t\trole=\"presentation\"\n\t\t\t>\n\t\t\t\t{label && (\n\t\t\t\t\t<Label\n\t\t\t\t\t\ttheme={themeProp}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tvalid={valid}\n\t\t\t\t\t\tfocused={inputFocused}\n\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\thidden={labelHidden}\n\t\t\t\t\t\tforId={widgetId}\n\t\t\t\t\t\tactive={!!value || inputFocused}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Label>\n\t\t\t\t)}\n\t\t\t\t<div\n\t\t\t\t\tkey=\"inputWrapper\"\n\t\t\t\t\tclasses={[\n\t\t\t\t\t\tthemeCss.inputWrapper,\n\t\t\t\t\t\tinputFocused ? themeCss.inputWrapperFocused : undefined\n\t\t\t\t\t]}\n\t\t\t\t\trole=\"presentation\"\n\t\t\t\t>\n\t\t\t\t\t{leading}\n\t\t\t\t\t<input\n\t\t\t\t\t\t{...formatAriaProperties(aria)}\n\t\t\t\t\t\taria-invalid={valid === false ? 'true' : null}\n\t\t\t\t\t\tautocomplete={formatAutocomplete(autocomplete)}\n\t\t\t\t\t\tclasses={themeCss.input}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tid={widgetId}\n\t\t\t\t\t\tfocus={focus.shouldFocus}\n\t\t\t\t\t\tkey={'input'}\n\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\tmaxlength={maxLength ? `${maxLength}` : null}\n\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\tminlength={minLength ? `${minLength}` : null}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tpattern={pattern}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\taria-readonly={readOnly ? 'true' : null}\n\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonblur={() => {\n\t\t\t\t\t\t\tonBlur && onBlur();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonfocus={() => {\n\t\t\t\t\t\t\tonFocus && onFocus();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toninput={(event: Event) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tconst value = (event.target as HTMLInputElement).value;\n\t\t\t\t\t\t\ticache.set('value', value);\n\t\t\t\t\t\t\tonValue && onValue(value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonkeydown={(event: KeyboardEvent) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonKeyDown && onKeyDown(event.which, () => event.preventDefault());\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonkeyup={(event: KeyboardEvent) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonKeyUp && onKeyUp(event.which, () => event.preventDefault());\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\tonClick && onClick();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonpointerenter={() => {\n\t\t\t\t\t\t\tonOver && onOver();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonpointerleave={() => {\n\t\t\t\t\t\t\tonOut && onOut();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t{trailing}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<HelperText\n\t\t\t\ttext={computedHelperText}\n\t\t\t\tvalid={valid}\n\t\t\t\tclasses={classes}\n\t\t\t\ttheme={themeProp}\n\t\t\t/>\n\t\t</div>\n\t);\n});\n\nexport interface AddonProperties {\n\tfilled?: boolean;\n}\n\nconst addonFactory = create({\n\ttheme\n})\n\t.properties<AddonProperties>()\n\t.children();\n\nexport const Addon = addonFactory(function Addon({ middleware: { theme }, properties, children }) {\n\tconst themeCss = theme.classes(css);\n\tconst { filled } = properties();\n\n\treturn (\n\t\t<span classes={[themeCss.addonRoot, filled ? themeCss.addonFilled : null]}>\n\t\t\t{children()}\n\t\t</span>\n\t);\n});\n\nexport default TextInput;\n","import { dimensions } from '@dojo/framework/core/middleware/dimensions';\nimport { theme } from '@dojo/framework/core/middleware/theme';\nimport { bodyScroll } from '../middleware/bodyScroll';\nimport { create, tsx } from '@dojo/framework/core/vdom';\nimport * as css from '../theme/default/popup.m.css';\nimport * as fixedCss from './popup.m.css';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\n\nexport type PopupPosition = 'above' | 'below';\n\nexport interface BasePopupProperties {\n\t/** Preferred position where the popup should render relative to the provided position (defaults to \"below\"). If the popup does not have room to fully render in the preferred position it will switch to the opposite side. */\n\tposition?: PopupPosition;\n\t/** If the underlay should be visible (defaults to false) */\n\tunderlayVisible?: boolean;\n\t/** Callback triggered when the popup is closed */\n\tonClose?(): void;\n}\n\nexport interface PopupProperties extends BasePopupProperties {\n\t/** The X position on the page where the popup should render */\n\tx: number;\n\t/** The Y position on the page where the bottom of the popup should be if rendering \"above\" */\n\tyBottom: number;\n\t/** The Y position on the page where the popup should start if rendering \"below\" */\n\tyTop: number;\n\t/** Whether the popup is currently open */\n\topen?: boolean;\n}\n\nconst factory = create({ dimensions, theme, bodyScroll })\n\t.properties<PopupProperties>()\n\t.children<RenderResult | undefined>();\n\nexport const Popup = factory(function({\n\tproperties,\n\tchildren,\n\tmiddleware: { dimensions, theme, bodyScroll }\n}) {\n\tconst {\n\t\tunderlayVisible = false,\n\t\tposition = 'below',\n\t\tx,\n\t\tyBottom,\n\t\tyTop,\n\t\tonClose,\n\t\topen\n\t} = properties();\n\n\tconst wrapperDimensions = dimensions.get('wrapper');\n\tconst bottomOfVisibleScreen =\n\t\tdocument.documentElement.scrollTop + document.documentElement.clientHeight;\n\tconst topOfVisibleScreen = document.documentElement.scrollTop;\n\n\tconst willFit = {\n\t\tbelow: yTop + wrapperDimensions.size.height <= bottomOfVisibleScreen,\n\t\tabove: yBottom - wrapperDimensions.size.height >= topOfVisibleScreen\n\t};\n\n\tlet wrapperStyles: Partial<CSSStyleDeclaration> = {\n\t\topacity: '0'\n\t};\n\n\tif (wrapperDimensions.size.height) {\n\t\twrapperStyles = {\n\t\t\tleft: `${x}px`,\n\t\t\topacity: '1'\n\t\t};\n\n\t\tif (position === 'below') {\n\t\t\tif (willFit.below) {\n\t\t\t\twrapperStyles.top = `${yTop}px`;\n\t\t\t} else {\n\t\t\t\twrapperStyles.top = `${yBottom - wrapperDimensions.size.height}px`;\n\t\t\t}\n\t\t} else if (position === 'above') {\n\t\t\tif (willFit.above) {\n\t\t\t\twrapperStyles.top = `${yBottom - wrapperDimensions.size.height}px`;\n\t\t\t} else {\n\t\t\t\twrapperStyles.top = `${yTop}px`;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst classes = theme.classes(css);\n\n\tbodyScroll(!open);\n\n\treturn (\n\t\topen && (\n\t\t\t<body>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"underlay\"\n\t\t\t\t\tclasses={[\n\t\t\t\t\t\ttheme.variant(),\n\t\t\t\t\t\tfixedCss.underlay,\n\t\t\t\t\t\tunderlayVisible && classes.underlayVisible\n\t\t\t\t\t]}\n\t\t\t\t\tonclick={onClose}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"wrapper\"\n\t\t\t\t\tclasses={[theme.variant(), fixedCss.root]}\n\t\t\t\t\tstyles={wrapperStyles}\n\t\t\t\t>\n\t\t\t\t\t{children()}\n\t\t\t\t</div>\n\t\t\t</body>\n\t\t)\n\t);\n});\n\nexport default Popup;\n","import { dimensions } from '@dojo/framework/core/middleware/dimensions';\nimport { create, tsx } from '@dojo/framework/core/vdom';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\nimport Popup, { BasePopupProperties } from '../popup';\nimport * as fixedCss from './trigger-popup.m.css';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\n\nexport interface TriggerPopupProperties extends BasePopupProperties {\n\t/** If the popup wrapper should match the trigger width (defaults to true) */\n\tmatchWidth?: boolean;\n\t/** Callback when the menu is opened  */\n\tonOpen?(): void;\n}\n\nexport interface TriggerPopupChildren {\n\ttrigger: (toggleOpen: () => void) => RenderResult;\n\tcontent: (close: () => void) => RenderResult;\n}\n\ninterface TriggerPopupICache {\n\topen: boolean;\n}\n\nconst icache = createICacheMiddleware<TriggerPopupICache>();\n\nconst factory = create({ dimensions, icache })\n\t.properties<TriggerPopupProperties>()\n\t.children<TriggerPopupChildren>();\n\nexport const TriggerPopup = factory(function({\n\tproperties,\n\tchildren,\n\tmiddleware: { dimensions, icache }\n}) {\n\tconst { matchWidth = true, onOpen, ...otherProperties } = properties();\n\n\tconst { position: triggerPosition, size: triggerSize } = dimensions.get('trigger');\n\tconst triggerTop = triggerPosition.top + document.documentElement.scrollTop;\n\tconst triggerBottom = triggerTop + triggerSize.height;\n\n\tconst wrapperStyles = {\n\t\twidth: matchWidth ? `${triggerSize.width}px` : 'auto'\n\t};\n\n\tconst { trigger, content } = children()[0];\n\tconst close = () => {\n\t\tconst { onClose } = properties();\n\t\ticache.set('open', false);\n\t\tonClose && onClose();\n\t};\n\n\treturn (\n\t\t<virtual>\n\t\t\t<span key=\"trigger\" classes={fixedCss.trigger}>\n\t\t\t\t{trigger(() => {\n\t\t\t\t\tconst { onOpen } = properties();\n\t\t\t\t\ticache.set('open', !icache.get('open'));\n\t\t\t\t\tonOpen && onOpen();\n\t\t\t\t})}\n\t\t\t</span>\n\t\t\t<Popup\n\t\t\t\tkey=\"popup\"\n\t\t\t\t{...otherProperties}\n\t\t\t\tx={triggerPosition.left}\n\t\t\t\tyTop={triggerBottom}\n\t\t\t\tyBottom={triggerTop}\n\t\t\t\tonClose={close}\n\t\t\t\topen={icache.get('open')}\n\t\t\t>\n\t\t\t\t<div key=\"trigger-wrapper\" styles={wrapperStyles}>\n\t\t\t\t\t{content(close)}\n\t\t\t\t</div>\n\t\t\t</Popup>\n\t\t</virtual>\n\t);\n});\n\nexport default TriggerPopup;\n","export type ParseableDate = string | number | Date | null | undefined;\n\nexport function monthInMin(year: number, month: number, minDate?: Date) {\n\tif (minDate) {\n\t\treturn new Date(year, month, 1) >= new Date(minDate.getFullYear(), minDate.getMonth(), 1);\n\t}\n\treturn true;\n}\n\nexport function monthInMax(year: number, month: number, maxDate?: Date) {\n\tif (maxDate) {\n\t\tconst thisMonth = new Date(year, month, 1);\n\t\tconst max = new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n\t\treturn thisMonth <= max;\n\t}\n\treturn true;\n}\n\nfunction stripTime(date: Date) {\n\treturn new Date(date.getFullYear(), date.getMonth(), date.getDate());\n}\n\nexport function isOutOfDateRange(dateObj: Date, min?: Date, max?: Date) {\n\treturn Boolean((min && dateObj < stripTime(min)) || (max && stripTime(dateObj) > max));\n}\n\nexport function toDate(d: ParseableDate) {\n\tif (d instanceof Date) {\n\t\treturn d;\n\t}\n\n\tif (typeof d === 'string' || typeof d === 'number') {\n\t\treturn new Date(d);\n\t}\n\n\treturn new Date();\n}\n","const locales = {};\n\nconst messages = {\n\tchooseMonth: 'Choose Month',\n\tchooseYear: 'Choose Year',\n\tpreviousMonth: 'Previous Month',\n\tnextMonth: 'Next Month',\n\tpreviousYears: 'Earlier years',\n\tnextYears: 'Later years'\n};\n\nexport default { locales, messages };\n","import { tsx, create } from '@dojo/framework/core/vdom';\nimport { DNode, RenderResult } from '@dojo/framework/core/interfaces';\nimport commonBundle from '../common/nls/common';\nimport { formatAriaProperties, Keys } from '../common/util';\nimport { monthInMin, monthInMax, isOutOfDateRange, toDate } from './date-utils';\nimport Icon from '../icon/index';\nimport calendarBundle from './nls/Calendar';\nimport * as css from '../theme/default/calendar.m.css';\nimport * as baseCss from '../common/styles/base.m.css';\nimport * as iconCss from '../theme/default/icon.m.css';\n\nimport theme from '../middleware/theme';\nimport icache, { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport focus from '@dojo/framework/core/middleware/focus';\nimport i18n from '@dojo/framework/core/middleware/i18n';\n\nexport type CalendarMessages = typeof calendarBundle.messages;\n\nexport enum FirstDayOfWeek {\n\tsunday = 0,\n\tmonday = 1,\n\ttuesday = 2,\n\twednesday = 3,\n\tthursday = 4,\n\tfriday = 5,\n\tsaturday = 6\n}\n\nexport interface CalendarProperties {\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** Customize or internationalize accessible text for the Calendar widget */\n\tlabels?: CalendarMessages;\n\t/** Set the latest date the calendar will display (it will show the whole month but not allow later selections) */\n\tmaxDate?: Date;\n\t/** Set the earliest date the calendar will display (it will show the whole month but not allow previous selections) */\n\tminDate?: Date;\n\t/** Customize or internationalize full month names and abbreviations */\n\tmonthNames?: { short: string; long: string }[];\n\t/** Customize or internationalize weekday names and abbreviations */\n\tweekdayNames?: { short: string; long: string }[];\n\t/** Configure the first day of the calendar week, defaults to 0 (sunday) */\n\tfirstDayOfWeek?: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n\t/** The initial value */\n\tinitialValue?: Date;\n\t/** A controlled date value */\n\tvalue?: Date;\n\t/** Function called when the user selects a date */\n\tonValue?: (value: Date) => void;\n\t/** The initial month to display */\n\tinitialMonth?: number;\n\t/** A controlled month value */\n\tmonth?: number;\n\t/** Function called when the month changes */\n\tonMonth?(month: number): void;\n\t/** The initial year to display */\n\tinitialYear?: number;\n\t/** A controlled year value */\n\tyear?: number;\n\t/** Function called when the year changes */\n\tonYear?(year: number): void;\n}\n\nexport interface CalendarIcache {\n\tvalue: Date;\n\tinitialValue: Date;\n\tinitialMonth: number;\n\tmonth: number;\n\tinitialYear: number;\n\tyear: number;\n\tcallDateFocus?: boolean;\n\tfocusedDay: number;\n\tmonthLabelId: string;\n\tpopupOpen?: boolean;\n}\n\nexport interface CalendarChildren {\n\t/** Format the displayed current month and year */\n\tmonthLabel?: (month: number, year: number) => RenderResult;\n\t/** Format the weekday column headers */\n\tweekdayCell?: (day: { short: string; long: string }) => RenderResult;\n}\n\ninterface ShortLong<T> {\n\tshort: keyof T;\n\tlong: keyof T;\n}\n\nconst DEFAULT_MONTHS: ShortLong<typeof commonBundle.messages>[] = [\n\t{ short: 'janShort', long: 'january' },\n\t{ short: 'febShort', long: 'february' },\n\t{ short: 'marShort', long: 'march' },\n\t{ short: 'aprShort', long: 'april' },\n\t{ short: 'mayShort', long: 'may' },\n\t{ short: 'junShort', long: 'june' },\n\t{ short: 'julShort', long: 'july' },\n\t{ short: 'augShort', long: 'august' },\n\t{ short: 'sepShort', long: 'september' },\n\t{ short: 'octShort', long: 'october' },\n\t{ short: 'novShort', long: 'november' },\n\t{ short: 'decShort', long: 'december' }\n];\n\nconst DEFAULT_WEEKDAYS: ShortLong<typeof commonBundle.messages>[] = [\n\t{ short: 'sunShort', long: 'sunday' },\n\t{ short: 'monShort', long: 'monday' },\n\t{ short: 'tueShort', long: 'tuesday' },\n\t{ short: 'wedShort', long: 'wednesday' },\n\t{ short: 'thuShort', long: 'thursday' },\n\t{ short: 'friShort', long: 'friday' },\n\t{ short: 'satShort', long: 'saturday' }\n];\n\ninterface CalendarCellProperties {\n\t/** Used to immediately call focus on the cell */\n\tcallFocus?: boolean;\n\t/** The set date value */\n\tdate: number;\n\t/** Whether the date is in the displayed month */\n\tdisabled?: boolean;\n\t/** Whether the date can receive tab focus */\n\tfocusable?: boolean;\n\t/** Handler for the click event */\n\tonClick?(date: number, disabled: boolean): void;\n\t/** Handler for when the cell receives focus */\n\tonFocusCalled?(): void;\n\t/** Handler for the key down event */\n\tonKeyDown?(key: number, preventDefault: () => void): void;\n\t/** if the date is outside the min/max */\n\toutOfRange?: boolean;\n\t/** if the date is currently selected */\n\tselected?: boolean;\n\t/** if the date the same as the current day */\n\ttoday?: boolean;\n}\n\n/**\n * Enum for next/previous buttons\n */\nenum Paging {\n\tnext = 'next',\n\tprevious = 'previous'\n}\n\n/**\n * Enum for month or year controls\n */\nenum Controls {\n\tmonth = 'month',\n\tyear = 'year'\n}\n\ninterface DatePickerProperties {\n\t/** Id to reference label containing current month and year */\n\tlabelId?: string;\n\t/** Customize or internationalize accessible helper text */\n\tlabels: typeof calendarBundle.messages;\n\t/** Maximum date to be picked */\n\tmaxDate?: Date;\n\t/** Minimum date to be picked */\n\tminDate?: Date;\n\t/** Currently displayed month (zero-based) */\n\tmonth: number;\n\t/** Array of full and abbreviated month names */\n\tmonthNames: { short: string; long: string }[];\n\t/** Handles when a user action occurs that triggers a change in the month or year popup state */\n\tonPopupChange?(open: boolean): void;\n\t/** Handles when a month should change (month is zero-based) */\n\tonRequestMonthChange?(month: number): void;\n\t/** Handles when a year should change */\n\tonRequestYearChange?(year: number): void;\n\t/** Formats the displayed current month and year */\n\trenderMonthLabel?(month: number, year: number): RenderResult;\n\t/** Currently displayed year */\n\tyear: number;\n\t/** Number of years to display in a single page of the year popup */\n\tyearRange?: number;\n}\n\nconst BASE_YEAR = 2000;\n\nexport const CalendarCell = create({ theme }).properties<CalendarCellProperties>()(\n\tfunction CalendarCell({ middleware: { theme }, properties }) {\n\t\tconst themeCss = theme.classes(css);\n\t\tconst {\n\t\t\tcallFocus,\n\t\t\tdate,\n\t\t\tfocusable = false,\n\t\t\tselected = false,\n\t\t\tonFocusCalled,\n\t\t\tdisabled = false,\n\t\t\toutOfRange = false,\n\t\t\ttoday = false\n\t\t} = properties();\n\n\t\tfunction onClick(event: MouseEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\tconst { date, disabled = false, onClick } = properties();\n\t\t\tonClick && onClick(date, disabled);\n\t\t}\n\n\t\tfunction onKeyDown(event: KeyboardEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\tconst { onKeyDown } = properties();\n\t\t\tonKeyDown &&\n\t\t\t\tonKeyDown(event.which, () => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t});\n\t\t}\n\n\t\tif (callFocus) {\n\t\t\tonFocusCalled && onFocusCalled();\n\t\t}\n\n\t\treturn (\n\t\t\t<td\n\t\t\t\tkey=\"root\"\n\t\t\t\tfocus={callFocus}\n\t\t\t\trole=\"gridcell\"\n\t\t\t\taria-selected={`${selected}`}\n\t\t\t\ttabIndex={focusable ? 0 : -1}\n\t\t\t\tclasses={[\n\t\t\t\t\tthemeCss.date,\n\t\t\t\t\tdisabled || outOfRange ? themeCss.inactiveDate : null,\n\t\t\t\t\toutOfRange ? themeCss.outOfRange : null,\n\t\t\t\t\tselected ? themeCss.selectedDate : null,\n\t\t\t\t\ttoday ? themeCss.todayDate : null\n\t\t\t\t]}\n\t\t\t\tonclick={onClick}\n\t\t\t\tonkeydown={onKeyDown}\n\t\t\t>\n\t\t\t\t<span>{`${date}`}</span>\n\t\t\t</td>\n\t\t);\n\t}\n);\n\nexport const DatePicker = create({ theme, focus, icache }).properties<DatePickerProperties>()(\n\tfunction DatePicker({ middleware: { theme, focus, icache }, properties, id }) {\n\t\tconst themeCss = theme.classes(css);\n\t\tconst { labelId = `${id}_label`, labels, month, year } = properties();\n\t\tconst keyWithFocus = icache.get<string>('keyWithFocus');\n\t\tconst monthPopupOpen = icache.getOrSet('monthPopupOpen', false);\n\t\tconst yearPopupOpen = icache.getOrSet('yearPopupOpen', false);\n\t\tconst yearPage = icache.getOrSet('yearPage', 0);\n\n\t\tfunction closeMonthPopup(event?: MouseEvent) {\n\t\t\tif (event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t\tconst { onPopupChange } = properties();\n\t\t\ticache.set('keyWithFocus', 'month-button');\n\t\t\ticache.set('monthPopupOpen', false);\n\t\t\tfocus.focus();\n\t\t\tonPopupChange && onPopupChange(getPopupState());\n\t\t}\n\n\t\tfunction closeYearPopup(event?: MouseEvent) {\n\t\t\tif (event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t\tconst { onPopupChange } = properties();\n\t\t\ticache.set('yearPopupOpen', false);\n\t\t\ticache.set('keyWithFocus', 'year-button');\n\t\t\tfocus.focus();\n\t\t\tonPopupChange && onPopupChange(getPopupState());\n\t\t}\n\n\t\tfunction getMonthInputKey(month: number): string {\n\t\t\treturn `${id}_month_input_${month}`;\n\t\t}\n\n\t\tfunction getPopupState() {\n\t\t\tconst monthPopupOpen = icache.get('monthPopupOpen');\n\t\t\tconst yearPopupOpen = icache.get('yearPopupOpen');\n\t\t\treturn !!monthPopupOpen || !!yearPopupOpen;\n\t\t}\n\n\t\tfunction getYearInputKey(year: number): string {\n\t\t\treturn `${id}_year_input_${year}`;\n\t\t}\n\n\t\tfunction getYearRange() {\n\t\t\tconst { year, yearRange = 20 } = properties();\n\t\t\tconst offset = ((year - BASE_YEAR) % yearRange) - yearRange * yearPage;\n\n\t\t\tif (year >= BASE_YEAR) {\n\t\t\t\treturn { first: year - offset, last: year + yearRange - offset };\n\t\t\t} else {\n\t\t\t\treturn { first: year - (yearRange + offset), last: year - offset };\n\t\t\t}\n\t\t}\n\n\t\tfunction onMonthButtonClick(event: MouseEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\tmonthPopupOpen ? closeMonthPopup() : openMonthPopup();\n\t\t}\n\n\t\tfunction onMonthRadioChange(event: Event) {\n\t\t\tevent.stopPropagation();\n\t\t\tconst { onRequestMonthChange } = properties();\n\t\t\tonRequestMonthChange &&\n\t\t\t\tonRequestMonthChange(parseInt((event.target as HTMLInputElement).value, 10));\n\t\t}\n\n\t\tfunction onPopupKeyDown(event: KeyboardEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\t// close popup on escape, or if a value is selected with enter/space\n\t\t\tif (\n\t\t\t\tevent.which === Keys.Escape ||\n\t\t\t\tevent.which === Keys.Enter ||\n\t\t\t\tevent.which === Keys.Space\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tmonthPopupOpen && closeMonthPopup();\n\t\t\t\tyearPopupOpen && closeYearPopup();\n\t\t\t}\n\t\t}\n\n\t\tfunction onYearButtonClick(event: MouseEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\tyearPopupOpen ? closeYearPopup() : openYearPopup();\n\t\t}\n\n\t\tfunction onYearPageDown(event: MouseEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\ticache.set('yearPage', yearPage - 1);\n\t\t}\n\n\t\tfunction onYearPageUp(event: MouseEvent) {\n\t\t\tevent.stopPropagation();\n\t\t\ticache.set('yearPage', yearPage + 1);\n\t\t}\n\n\t\tfunction onYearRadioChange(event: Event) {\n\t\t\tevent.stopPropagation();\n\t\t\tconst {\n\t\t\t\tonRequestYearChange,\n\t\t\t\tmonth,\n\t\t\t\tminDate,\n\t\t\t\tmaxDate,\n\t\t\t\tonRequestMonthChange\n\t\t\t} = properties();\n\t\t\tconst newYear = parseInt((event.target as HTMLInputElement).value, 10);\n\t\t\tif (!monthInMinMax(newYear, month)) {\n\t\t\t\t// we know the year is valid but the month is out of range\n\t\t\t\tif (minDate && newYear === minDate.getFullYear()) {\n\t\t\t\t\tonRequestMonthChange && onRequestMonthChange(minDate.getMonth());\n\t\t\t\t} else if (maxDate && newYear === maxDate.getFullYear()) {\n\t\t\t\t\tonRequestMonthChange && onRequestMonthChange(maxDate.getMonth());\n\t\t\t\t}\n\t\t\t}\n\t\t\ticache.set('yearPage', 0);\n\t\t\tonRequestYearChange && onRequestYearChange(newYear);\n\t\t}\n\n\t\tfunction openMonthPopup() {\n\t\t\tconst { month, onPopupChange } = properties();\n\t\t\ticache.set('monthPopupOpen', true);\n\t\t\ticache.set('yearPopupOpen', false);\n\t\t\ticache.set('keyWithFocus', getMonthInputKey(month));\n\t\t\tfocus.focus();\n\t\t\tonPopupChange && onPopupChange(getPopupState());\n\t\t}\n\n\t\tfunction openYearPopup() {\n\t\t\tconst { year, onPopupChange } = properties();\n\t\t\ticache.set('yearPopupOpen', true);\n\t\t\ticache.set('monthPopupOpen', false);\n\t\t\ticache.set('keyWithFocus', getYearInputKey(year));\n\t\t\tfocus.focus();\n\t\t\tonPopupChange && onPopupChange(getPopupState());\n\t\t}\n\n\t\tfunction monthInMinMax(year: number, month: number) {\n\t\t\tlet { minDate, maxDate } = properties();\n\n\t\t\treturn monthInMin(year, month, minDate) && monthInMax(year, month, maxDate);\n\t\t}\n\n\t\tfunction yearInMinMax(year: number) {\n\t\t\tconst { minDate, maxDate } = properties();\n\t\t\tconst minYear = minDate ? minDate.getFullYear() : year;\n\t\t\tconst maxYear = maxDate ? maxDate.getFullYear() : year;\n\t\t\treturn year >= minYear && year <= maxYear;\n\t\t}\n\n\t\tfunction renderControlsTrigger(type: Controls) {\n\t\t\tconst { month, monthNames, year } = properties();\n\n\t\t\tconst content = type === Controls.month ? monthNames[month].long : `${year}`;\n\t\t\tconst open = type === Controls.month ? monthPopupOpen : yearPopupOpen;\n\t\t\tconst onclick = type === Controls.month ? onMonthButtonClick : onYearButtonClick;\n\t\t\tconst key = `${type}-button`;\n\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tkey={key}\n\t\t\t\t\taria-controls={`${id}_${type}_dialog`}\n\t\t\t\t\taria-expanded={`${open}`}\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\tid={`${id}_${type}_button`}\n\t\t\t\t\tclasses={[\n\t\t\t\t\t\t(themeCss as any)[`${type}Trigger`],\n\t\t\t\t\t\topen ? (themeCss as any)[`${type}TriggerActive`] : null\n\t\t\t\t\t]}\n\t\t\t\t\tfocus={keyWithFocus === key ? focus.shouldFocus : undefined}\n\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonclick={onclick}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\n\t\tfunction renderMonthLabel(month: number, year: number) {\n\t\t\tconst { monthNames, renderMonthLabel } = properties();\n\t\t\treturn renderMonthLabel\n\t\t\t\t? renderMonthLabel(month, year)\n\t\t\t\t: `${monthNames[month].long} ${year}`;\n\t\t}\n\n\t\tfunction renderMonthRadios() {\n\t\t\tconst { year, month, monthNames } = properties();\n\t\t\treturn monthNames.map(({ short, long }, i) => {\n\t\t\t\tconst key = getMonthInputKey(i);\n\t\t\t\treturn (\n\t\t\t\t\t<label\n\t\t\t\t\t\tkey={`${id}_month_radios_${i}`}\n\t\t\t\t\t\tclasses={[\n\t\t\t\t\t\t\tthemeCss.monthRadio,\n\t\t\t\t\t\t\ti === month ? themeCss.monthRadioChecked : null\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tfor={getMonthInputKey(i)}\n\t\t\t\t\t\tonmouseup={closeMonthPopup}\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tchecked={i === month}\n\t\t\t\t\t\t\tclasses={themeCss.monthRadioInput}\n\t\t\t\t\t\t\tid={key}\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\tname={`${id}_month_radios`}\n\t\t\t\t\t\t\tfocus={keyWithFocus === key ? focus.shouldFocus : undefined}\n\t\t\t\t\t\t\ttabIndex={monthPopupOpen ? 0 : -1}\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tvalue={`${i}`}\n\t\t\t\t\t\t\tdisabled={!monthInMinMax(year, i)}\n\t\t\t\t\t\t\tonchange={onMonthRadioChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<abbr classes={themeCss.monthRadioLabel} title={long}>\n\t\t\t\t\t\t\t{short}\n\t\t\t\t\t\t</abbr>\n\t\t\t\t\t</label>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\tfunction renderPagingButtonContent(type: Paging) {\n\t\t\tconst { labels, classes } = properties();\n\t\t\tconst iconType = type === Paging.next ? 'rightIcon' : 'leftIcon';\n\t\t\tconst labelText = type === Paging.next ? labels.nextYears : labels.previousYears;\n\n\t\t\treturn [\n\t\t\t\t<Icon\n\t\t\t\t\ttype={iconType}\n\t\t\t\t\ttheme={theme.compose(\n\t\t\t\t\t\ticonCss,\n\t\t\t\t\t\tcss,\n\t\t\t\t\t\t'datePickerPaging'\n\t\t\t\t\t)}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t/>,\n\t\t\t\t<span classes={baseCss.visuallyHidden}>{labelText}</span>\n\t\t\t];\n\t\t}\n\n\t\tfunction renderYearRadios() {\n\t\t\tconst { year } = properties();\n\t\t\tconst radios = [];\n\n\t\t\tconst yearLimits = getYearRange();\n\t\t\tfor (let i = yearLimits.first; i < yearLimits.last; i++) {\n\t\t\t\tconst key = getYearInputKey(i);\n\t\t\t\tradios.push(\n\t\t\t\t\t<label\n\t\t\t\t\t\tkey={`${id}_year_radios_${i}`}\n\t\t\t\t\t\tclasses={[\n\t\t\t\t\t\t\tthemeCss.yearRadio,\n\t\t\t\t\t\t\ti === year ? themeCss.yearRadioChecked : null\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tfor={getYearInputKey(i)}\n\t\t\t\t\t\tonmouseup={closeYearPopup}\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tchecked={i === year}\n\t\t\t\t\t\t\tclasses={themeCss.yearRadioInput}\n\t\t\t\t\t\t\tid={key}\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\tname={`${id}_year_radios`}\n\t\t\t\t\t\t\tfocus={keyWithFocus === key ? focus.shouldFocus : undefined}\n\t\t\t\t\t\t\ttabIndex={yearPopupOpen ? 0 : -1}\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tvalue={`${i}`}\n\t\t\t\t\t\t\tdisabled={!yearInMinMax(i)}\n\t\t\t\t\t\t\tonchange={onYearRadioChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<abbr classes={themeCss.yearRadioLabel}>{`${i}`}</abbr>\n\t\t\t\t\t</label>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn radios;\n\t\t}\n\n\t\treturn (\n\t\t\t<div classes={themeCss.datePicker}>\n\t\t\t\t<div classes={themeCss.topMatter} role=\"menubar\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tid={labelId}\n\t\t\t\t\t\tclasses={[baseCss.visuallyHidden]}\n\t\t\t\t\t\taria-live=\"polite\"\n\t\t\t\t\t\taria-atomic=\"false\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderMonthLabel(month, year)}\n\t\t\t\t\t</label>\n\t\t\t\t\t{renderControlsTrigger(Controls.month)}\n\t\t\t\t\t{renderControlsTrigger(Controls.year)}\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tkey=\"month-grid\"\n\t\t\t\t\taria-hidden={`${!monthPopupOpen}`}\n\t\t\t\t\taria-labelledby={`${id}_month_button`}\n\t\t\t\t\tclasses={[themeCss.monthGrid, !monthPopupOpen ? baseCss.visuallyHidden : null]}\n\t\t\t\t\tid={`${id}_month_dialog`}\n\t\t\t\t\trole=\"dialog\"\n\t\t\t\t>\n\t\t\t\t\t<fieldset classes={themeCss.monthFields} onkeydown={onPopupKeyDown}>\n\t\t\t\t\t\t<legend classes={baseCss.visuallyHidden}>{labels.chooseMonth}</legend>\n\t\t\t\t\t\t{renderMonthRadios()}\n\t\t\t\t\t</fieldset>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tkey=\"year-grid\"\n\t\t\t\t\taria-hidden={`${!yearPopupOpen}`}\n\t\t\t\t\taria-labelledby={`${id}_year_button`}\n\t\t\t\t\tclasses={[themeCss.yearGrid, !yearPopupOpen ? baseCss.visuallyHidden : null]}\n\t\t\t\t\tid={`${id}_year_dialog`}\n\t\t\t\t\trole=\"dialog\"\n\t\t\t\t>\n\t\t\t\t\t<fieldset classes={themeCss.yearFields} onkeydown={onPopupKeyDown}>\n\t\t\t\t\t\t<legend classes={[baseCss.visuallyHidden]}>{labels.chooseYear}</legend>\n\t\t\t\t\t\t{...renderYearRadios()}\n\t\t\t\t\t</fieldset>\n\t\t\t\t</div>\n\t\t\t\t<div classes={themeCss.controls}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclasses={themeCss.previous}\n\t\t\t\t\t\ttabindex={yearPopupOpen ? 0 : -1}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonclick={onYearPageDown}\n\t\t\t\t\t\tdisabled={!yearInMinMax(year - 1)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{...renderPagingButtonContent(Paging.previous)}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclasses={themeCss.next}\n\t\t\t\t\t\ttabindex={yearPopupOpen ? 0 : -1}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonclick={onYearPageUp}\n\t\t\t\t\t\tdisabled={!yearInMinMax(year + 1)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderPagingButtonContent(Paging.next)}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n);\n\nconst factory = create({\n\ticache: createICacheMiddleware<CalendarIcache>(),\n\ti18n,\n\ttheme,\n\tfocus\n})\n\t.properties<CalendarProperties>()\n\t.children<CalendarChildren | undefined>();\n\nexport const Calendar = factory(function Calendar({\n\tmiddleware: { icache, i18n, theme, focus },\n\tproperties,\n\tid,\n\tchildren\n}) {\n\tconst themeCss = theme.classes(css);\n\tconst { messages: commonMessages } = i18n.localize(commonBundle);\n\n\tconst {\n\t\tlabels = i18n.localize(calendarBundle).messages,\n\t\taria = {},\n\t\tminDate,\n\t\tmaxDate,\n\t\tinitialValue,\n\t\tweekdayNames = getWeekdays(commonMessages),\n\t\tfirstDayOfWeek = 0\n\t} = properties();\n\n\tlet { value, month, year } = properties();\n\tconst { monthLabel, weekdayCell } = children()[0] || ({} as CalendarChildren);\n\tconst defaultDate = initialValue || new Date();\n\tconst {\n\t\tinitialYear = defaultDate.getFullYear(),\n\t\tinitialMonth = defaultDate.getMonth()\n\t} = properties();\n\n\tconst existingInitialValue = icache.get('initialValue');\n\tconst existingInitialMonth = icache.get('initialMonth');\n\tconst existingInitialYear = icache.get('initialYear');\n\tconst callDateFocus = icache.getOrSet('callDateFocus', false);\n\tconst focusedDay = icache.getOrSet('focusedDay', 1);\n\tconst monthLabelId = icache.getOrSet('monthLabelId', id);\n\tconst popupOpen = icache.getOrSet('popupOpen', false);\n\tconst shouldFocus = focus.shouldFocus();\n\tif (!value) {\n\t\tvalue = icache.get('value') || new Date();\n\n\t\tif (!initialValue && !existingInitialValue) {\n\t\t\tvalue = toDate(defaultDate);\n\n\t\t\tif (isOutOfDateRange(value, minDate, maxDate)) {\n\t\t\t\tvalue = toDate(maxDate);\n\t\t\t}\n\n\t\t\ticache.set('initialValue', value);\n\t\t\ticache.set('value', value);\n\t\t}\n\n\t\tif (initialValue && initialValue !== existingInitialValue) {\n\t\t\tvalue = toDate(initialValue);\n\n\t\t\ticache.set('initialValue', toDate(initialValue));\n\t\t\ticache.set('value', value);\n\t\t}\n\t}\n\n\tif (typeof month === 'undefined') {\n\t\tif (initialMonth !== existingInitialMonth) {\n\t\t\ticache.set('initialMonth', initialMonth);\n\t\t\ticache.set('month', initialMonth);\n\t\t}\n\t}\n\n\tif (typeof year === 'undefined') {\n\t\tif (initialYear !== existingInitialYear) {\n\t\t\ticache.set('initialYear', initialYear);\n\t\t\ticache.set('year', initialYear);\n\t\t}\n\t}\n\n\t({ month, year } = getMonthYear());\n\n\tlet weekdayOrder: number[] = [];\n\tfor (let i = firstDayOfWeek; i < firstDayOfWeek + 7; i++) {\n\t\tweekdayOrder.push(i > 6 ? i - 7 : i);\n\t}\n\n\tconst weekdays = weekdayOrder.map((order) => (\n\t\t<th role=\"columnheader\" classes={themeCss.weekday}>\n\t\t\t{renderWeekdayCell(weekdayNames[order])}\n\t\t</th>\n\t));\n\n\tfunction onValueChange(newValue: Date) {\n\t\tconst { onValue } = properties();\n\t\ticache.set('value', newValue);\n\t\tonValue && onValue(newValue);\n\t}\n\n\tfunction onMonthChange(newMonth: number) {\n\t\tconst { onMonth } = properties();\n\t\ticache.set('month', newMonth);\n\t\tonMonth && onMonth(newMonth);\n\t}\n\n\tfunction onYearChange(newYear: number) {\n\t\tconst { onYear } = properties();\n\t\ticache.set('year', newYear);\n\t\tonYear && onYear(newYear);\n\t}\n\n\tfunction getMonthLength(month: number, year: number) {\n\t\tconst lastDate = new Date(year, month + 1, 0);\n\t\treturn lastDate.getDate();\n\t}\n\n\tfunction getMonths(commonMessages: typeof commonBundle.messages) {\n\t\treturn DEFAULT_MONTHS.map((month) => ({\n\t\t\tshort: commonMessages[month.short],\n\t\t\tlong: commonMessages[month.long]\n\t\t}));\n\t}\n\n\tfunction getMonthYear() {\n\t\tlet { month, year, value } = properties();\n\t\tconst selectedDate = value || icache.getOrSet('value', new Date());\n\t\tmonth = typeof month === 'number' ? month : icache.get('month');\n\t\tyear = typeof year === 'number' ? year : icache.get('year');\n\t\treturn {\n\t\t\tmonth: typeof month === 'number' ? month : selectedDate.getMonth(),\n\t\t\tyear: typeof year === 'number' ? year : selectedDate.getFullYear()\n\t\t};\n\t}\n\n\tfunction getWeekdays(commonMessages: typeof commonBundle.messages) {\n\t\treturn DEFAULT_WEEKDAYS.map((weekday) => ({\n\t\t\tshort: commonMessages[weekday.short],\n\t\t\tlong: commonMessages[weekday.long]\n\t\t}));\n\t}\n\n\tfunction goToDate(day: number) {\n\t\tconst { month, year } = getMonthYear();\n\t\tconst currentMonthLength = getMonthLength(month, year);\n\t\tconst previousMonthLength = getMonthLength(month - 1, year);\n\n\t\tensureDayIsInMinMax(new Date(year, month, day), (updatedDay) => (day = updatedDay));\n\n\t\tif (day < 1) {\n\t\t\tonMonthDecrement();\n\t\t\tday += previousMonthLength;\n\t\t} else if (day > currentMonthLength) {\n\t\t\tonMonthIncrement();\n\t\t\tday -= currentMonthLength;\n\t\t}\n\n\t\ticache.set('focusedDay', day);\n\t\ticache.set('callDateFocus', true);\n\t}\n\n\tfunction onDateClick(date: number, disabled: boolean) {\n\t\tlet { month, year } = getMonthYear();\n\n\t\tif (disabled) {\n\t\t\t({ month, year } = date < 15 ? onMonthIncrement() : onMonthDecrement());\n\t\t\ticache.set('callDateFocus', true);\n\t\t}\n\t\ticache.set('focusedDay', date);\n\t\tconst dateValue = new Date(year, month, date);\n\t\tonValueChange(dateValue);\n\t}\n\n\tfunction onDateFocusCalled() {\n\t\ticache.set('callDateFocus', false);\n\t}\n\n\tfunction onDateKeyDown(key: number, preventDefault: () => void) {\n\t\tconst { month, year } = getMonthYear();\n\t\tswitch (key) {\n\t\t\tcase Keys.Up:\n\t\t\t\tpreventDefault();\n\t\t\t\tgoToDate(focusedDay - 7);\n\t\t\t\tbreak;\n\t\t\tcase Keys.Down:\n\t\t\t\tpreventDefault();\n\t\t\t\tgoToDate(focusedDay + 7);\n\t\t\t\tbreak;\n\t\t\tcase Keys.Left:\n\t\t\t\tpreventDefault();\n\t\t\t\tgoToDate(focusedDay - 1);\n\t\t\t\tbreak;\n\t\t\tcase Keys.Right:\n\t\t\t\tpreventDefault();\n\t\t\t\tgoToDate(focusedDay + 1);\n\t\t\t\tbreak;\n\t\t\tcase Keys.PageUp:\n\t\t\t\tpreventDefault();\n\t\t\t\tgoToDate(1);\n\t\t\t\tbreak;\n\t\t\tcase Keys.PageDown:\n\t\t\t\tpreventDefault();\n\t\t\t\tconst monthLength = getMonthLength(month, year);\n\t\t\t\tgoToDate(monthLength);\n\t\t\t\tbreak;\n\t\t\tcase Keys.Enter:\n\t\t\tcase Keys.Space:\n\t\t\t\tonValueChange(new Date(year, month, focusedDay));\n\t\t}\n\t}\n\n\tfunction onMonthDecrement() {\n\t\tconst { month, year } = getMonthYear();\n\n\t\tconst newYear = month === 0 ? year - 1 : year;\n\t\tconst newMonth = month === 0 ? 11 : month - 1;\n\n\t\tonMonthChange(newMonth);\n\t\tif (newYear !== year) {\n\t\t\tonYearChange(newYear);\n\t\t}\n\n\t\treturn { month: newMonth, year: newYear };\n\t}\n\n\tfunction onMonthIncrement() {\n\t\tconst { month, year } = getMonthYear();\n\n\t\tconst newYear = month === 11 ? year + 1 : year;\n\t\tconst newMonth = month === 11 ? 0 : month + 1;\n\t\tonMonthChange(newMonth);\n\t\tif (newYear !== year) {\n\t\t\tonYearChange(newYear);\n\t\t}\n\t\treturn { month: newMonth, year: newYear };\n\t}\n\n\tfunction onMonthPageDown(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tonMonthDecrement();\n\t}\n\n\tfunction onMonthPageUp(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tonMonthIncrement();\n\t}\n\n\tfunction ensureDayIsInMinMax(newDate: Date, update: (day: number) => void) {\n\t\tconst { minDate, maxDate } = properties();\n\n\t\tif (minDate && newDate < minDate) {\n\t\t\tupdate(minDate.getDate());\n\t\t} else if (maxDate && newDate > maxDate) {\n\t\t\tupdate(maxDate.getDate());\n\t\t}\n\t}\n\n\tfunction renderDateGrid(selectedDate?: Date) {\n\t\tconst { month, year } = getMonthYear();\n\t\tconst { firstDayOfWeek = 0 } = properties();\n\n\t\tensureDayIsInMinMax(new Date(year, month, focusedDay), (newDay) =>\n\t\t\ticache.set('focusedDay', newDay)\n\t\t);\n\t\tconst currentMonthLength = getMonthLength(month, year);\n\t\tconst previousMonthLength = getMonthLength(month - 1, year);\n\t\tconst currentMonthStartDay = new Date(year, month, 1).getDay();\n\t\tconst initialWeekday =\n\t\t\tcurrentMonthStartDay - firstDayOfWeek < 0\n\t\t\t\t? currentMonthStartDay - firstDayOfWeek + 7\n\t\t\t\t: currentMonthStartDay - firstDayOfWeek;\n\t\tconst todayString = new Date().toDateString();\n\n\t\tlet dayIndex = 0;\n\t\tlet isCurrentMonth = currentMonthStartDay === firstDayOfWeek;\n\t\tlet cellMonth = isCurrentMonth ? month : month - 1;\n\t\tlet date = isCurrentMonth ? 0 : previousMonthLength - initialWeekday;\n\t\tlet isSelectedDay: boolean;\n\t\tlet isToday: boolean;\n\t\tlet weeks: DNode[] = [];\n\t\tlet days: DNode[];\n\t\tlet dateObj: Date;\n\t\tlet dateString: string;\n\t\tlet weekday: number;\n\n\t\tfor (let week = 0; week < 6; week++) {\n\t\t\tdays = [];\n\n\t\t\tfor (weekday = 0; weekday < 7; weekday++) {\n\t\t\t\t// find the next date\n\t\t\t\t// if we've reached the end of the previous month, reset to 1\n\t\t\t\tif (date > dayIndex && date >= previousMonthLength) {\n\t\t\t\t\tdate = 1;\n\t\t\t\t\tcellMonth++;\n\t\t\t\t}\n\t\t\t\t// if we've reached the end of the current month, reset to 1\n\t\t\t\telse if (date <= dayIndex && date >= currentMonthLength) {\n\t\t\t\t\tdate = 1;\n\t\t\t\t\tcellMonth++;\n\t\t\t\t} else {\n\t\t\t\t\tdate++;\n\t\t\t\t}\n\n\t\t\t\t// set isSelectedDay if the dates match\n\t\t\t\tdateObj = new Date(year, cellMonth, date);\n\t\t\t\tdateString = dateObj.toDateString();\n\t\t\t\tisSelectedDay = Boolean(selectedDate && dateString === selectedDate.toDateString());\n\t\t\t\tisCurrentMonth = month === cellMonth;\n\t\t\t\tisToday = dateString === todayString;\n\n\t\t\t\tdays.push(\n\t\t\t\t\trenderDateCell(dateObj, dayIndex++, isSelectedDay, isCurrentMonth, isToday)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tweeks.push(<tr>{days}</tr>);\n\t\t}\n\n\t\treturn weeks;\n\t}\n\n\tfunction renderDateCell(\n\t\tdateObj: Date,\n\t\tindex: number,\n\t\tselected: boolean,\n\t\tcurrentMonth: boolean,\n\t\ttoday: boolean\n\t) {\n\t\tconst { minDate, maxDate, theme, classes } = properties();\n\n\t\tconst date = dateObj.getDate();\n\t\tconst outOfRange = isOutOfDateRange(dateObj, minDate, maxDate);\n\t\tconst focusable = currentMonth && date === icache.get('focusedDay');\n\n\t\treturn (\n\t\t\t<CalendarCell\n\t\t\t\tclasses={classes}\n\t\t\t\tkey={`date-${index}`}\n\t\t\t\tcallFocus={(callDateFocus || shouldFocus) && focusable}\n\t\t\t\tdate={date}\n\t\t\t\toutOfRange={outOfRange}\n\t\t\t\tfocusable={focusable}\n\t\t\t\tdisabled={!currentMonth}\n\t\t\t\tselected={selected}\n\t\t\t\ttheme={theme}\n\t\t\t\ttoday={today}\n\t\t\t\tonClick={outOfRange ? undefined : onDateClick}\n\t\t\t\tonFocusCalled={onDateFocusCalled}\n\t\t\t\tonKeyDown={onDateKeyDown}\n\t\t\t/>\n\t\t);\n\t}\n\n\tfunction renderDatePicker(\n\t\tcommonMessages: typeof commonBundle.messages,\n\t\tlabels: CalendarMessages\n\t) {\n\t\tconst {\n\t\t\tmonthNames = getMonths(commonMessages),\n\t\t\ttheme,\n\t\t\tclasses,\n\t\t\tminDate,\n\t\t\tmaxDate\n\t\t} = properties();\n\t\tconst { month, year } = getMonthYear();\n\n\t\treturn (\n\t\t\t<DatePicker\n\t\t\t\tkey=\"date-picker\"\n\t\t\t\tclasses={classes}\n\t\t\t\tlabelId={monthLabelId}\n\t\t\t\tlabels={labels}\n\t\t\t\tmonth={month}\n\t\t\t\tmonthNames={monthNames}\n\t\t\t\trenderMonthLabel={monthLabel}\n\t\t\t\ttheme={theme}\n\t\t\t\tyear={year}\n\t\t\t\tminDate={minDate}\n\t\t\t\tmaxDate={maxDate}\n\t\t\t\tonPopupChange={(open: boolean) => {\n\t\t\t\t\ticache.set('popupOpen', open);\n\t\t\t\t}}\n\t\t\t\tonRequestMonthChange={(requestMonth: number) => {\n\t\t\t\t\tonMonthChange(requestMonth);\n\t\t\t\t}}\n\t\t\t\tonRequestYearChange={(requestYear: number) => {\n\t\t\t\t\tonYearChange(requestYear);\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n\n\tfunction renderPagingButtonContent(type: Paging, labels: CalendarMessages) {\n\t\tconst { classes } = properties();\n\t\tconst iconType = type === Paging.next ? 'rightIcon' : 'leftIcon';\n\t\tconst labelText = type === Paging.next ? labels.nextMonth : labels.previousMonth;\n\n\t\treturn [\n\t\t\t<Icon\n\t\t\t\ttype={iconType}\n\t\t\t\ttheme={theme.compose(\n\t\t\t\t\ticonCss,\n\t\t\t\t\tcss,\n\t\t\t\t\t'calendarPaging'\n\t\t\t\t)}\n\t\t\t\tclasses={classes}\n\t\t\t/>,\n\t\t\t<span classes={[baseCss.visuallyHidden]}>{labelText}</span>\n\t\t];\n\t}\n\n\tfunction renderWeekdayCell(day: { short: string; long: string }) {\n\t\treturn weekdayCell ? (\n\t\t\tweekdayCell(day)\n\t\t) : (\n\t\t\t<abbr classes={themeCss.abbr} title={day.long}>\n\t\t\t\t{day.short}\n\t\t\t</abbr>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div classes={[theme.variant(), themeCss.root]} {...formatAriaProperties(aria)}>\n\t\t\t{renderDatePicker(commonMessages, labels)}\n\t\t\t<table\n\t\t\t\tcellspacing=\"0\"\n\t\t\t\tcellpadding=\"0\"\n\t\t\t\trole=\"grid\"\n\t\t\t\taria-labelledby={monthLabelId}\n\t\t\t\tclasses={[themeCss.dateGrid, popupOpen ? baseCss.visuallyHidden : null]}\n\t\t\t>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>{weekdays}</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>{renderDateGrid(value)}</tbody>\n\t\t\t</table>\n\t\t\t<div classes={[themeCss.controls, popupOpen ? baseCss.visuallyHidden : null]}>\n\t\t\t\t<button\n\t\t\t\t\tclasses={themeCss.previous}\n\t\t\t\t\ttabIndex={popupOpen ? -1 : 0}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdisabled={!monthInMin(year, month - 1, minDate)}\n\t\t\t\t\tonclick={onMonthPageDown}\n\t\t\t\t>\n\t\t\t\t\t{renderPagingButtonContent(Paging.previous, labels)}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclasses={themeCss.next}\n\t\t\t\t\ttabIndex={popupOpen ? -1 : 0}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdisabled={!monthInMax(year, month + 1, maxDate)}\n\t\t\t\t\tonclick={onMonthPageUp}\n\t\t\t\t>\n\t\t\t\t\t{renderPagingButtonContent(Paging.next, labels)}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default Calendar;\n","const components = {\n\tday: '(\\\\d{1,2})',\n\tmonth: '(\\\\d{1,2})',\n\tyear: '(\\\\d{4})'\n};\n\nconst dateExpressions = () => {\n\tconst tokens: [RegExp, { month: number; day: number; year: number }][] = [\n\t\t[\n\t\t\t// standard 'YYYY-mm-dd' format\n\t\t\tnew RegExp(`^${components.year}-${components.month}-${components.day}$`),\n\t\t\t{ month: 2, day: 3, year: 1 }\n\t\t]\n\t];\n\n\tconst usCanary = Intl.DateTimeFormat().format(new Date(2018, 3, 3)); // April 3\n\tif (usCanary === '4/3/2018') {\n\t\t// US-only 'mm/dd/yyyy' format\n\t\ttokens.push([\n\t\t\tnew RegExp(`^${components.month}\\/${components.day}\\/${components.year}$`),\n\t\t\t{ month: 1, day: 2, year: 3 }\n\t\t]);\n\t} else {\n\t\t// standard 'dd/mm/yyyy' format\n\t\ttokens.push([\n\t\t\tnew RegExp(`^${components.day}\\/${components.month}\\/${components.year}$`),\n\t\t\t{ month: 2, day: 1, year: 3 }\n\t\t]);\n\t}\n\n\treturn tokens;\n};\n\nexport function parseDate(value?: string): Date | undefined {\n\tif (!value) {\n\t\treturn undefined;\n\t}\n\n\tfor (let [exp, order] of dateExpressions()) {\n\t\tconst match = value.match(exp);\n\n\t\tif (match !== null) {\n\t\t\treturn new Date(\n\t\t\t\tparseInt(match[order.year], 10),\n\t\t\t\tparseInt(match[order.month], 10) - 1,\n\t\t\t\tparseInt(match[order.day], 10)\n\t\t\t);\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\nexport function formatDateISO(date: Date | undefined) {\n\tif (!date) {\n\t\treturn '';\n\t}\n\n\tconst year = date.getFullYear();\n\tconst month = (date.getMonth() + 1).toString().padStart(2, '0');\n\tconst day = date\n\t\t.getDate()\n\t\t.toString()\n\t\t.padStart(2, '0');\n\n\treturn `${year}-${month}-${day}`;\n}\n\nexport function formatDate(date: Date) {\n\treturn Intl.DateTimeFormat().format(date);\n}\n","const messages = {\n\tinvalidProps: 'Min date cannot be greater than max date',\n\tinvalidDate: 'Invalid date format',\n\ttooEarly: 'Date must be at after Min date',\n\ttooLate: 'Date must be before Max date'\n};\n\nexport default { messages };\n","import { create, tsx } from '@dojo/framework/core/vdom';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport { i18n } from '@dojo/framework/core/middleware/i18n';\nimport { focus } from '@dojo/framework/core/middleware/focus';\nimport { FocusProperties } from '@dojo/framework/core/mixins/Focus';\n\nimport { parseDate, formatDateISO, formatDate } from './date-utils';\nimport { Keys } from '../common/util';\nimport theme, { ThemeProperties } from '../middleware/theme';\nimport Calendar from '../calendar';\nimport TextInput, { Addon } from '../text-input';\nimport Icon from '../icon';\nimport TriggerPopup from '../trigger-popup';\nimport * as textInputCss from '../theme/default/text-input.m.css';\nimport * as css from '../theme/default/date-input.m.css';\n\nimport bundle from './nls/DateInput';\n\nexport interface DateInputProperties extends ThemeProperties, FocusProperties {\n\t/** The initial value */\n\tinitialValue?: string;\n\t/** Controlled value property */\n\tvalue?: string;\n\t/** Set the latest date the calendar will display in (it will show the whole month but not allow previous selections) */\n\tmax?: string;\n\t/** Set the earliest date the calendar will display (it will show the whole month but not allow previous selections) */\n\tmin?: string;\n\t/** name used on the underlying form input's name attribute */\n\tname: string;\n\t/** Callback fired with new value in YYYY-MM-DD format */\n\tonValue?(date: string): void;\n\t/** Callback fired when input validation changes */\n\tonValidate?: (valid: boolean | undefined, message: string) => void;\n}\n\ninterface DateInputICache {\n\t/** The most recent \"initialValue\" property passed */\n\tinitialValue: string;\n\t/** Current user-inputted value */\n\tinputValue: string;\n\t/** The last valid Date of value */\n\tvalue: Date;\n\t/** The last \"value\" property passed */\n\tlastValue: string;\n\t/** A possible new value that should not be saved until we call a callback */\n\tnextValue: string;\n\t/** Should validate the input value on the next cycle */\n\tshouldValidate: boolean;\n\t/** Message for current validation state */\n\tvalidationMessage: string | undefined;\n\t/** Indicates which node will be focused */\n\tfocusNode: 'input' | 'calendar';\n}\n\nconst icache = createICacheMiddleware<DateInputICache>();\nconst factory = create({ theme, icache, i18n, focus }).properties<DateInputProperties>();\n\nexport default factory(function({ properties, middleware: { theme, icache, i18n, focus } }) {\n\tconst { initialValue, name, onValue, onValidate, value: controlledValue } = properties();\n\tconst { messages } = i18n.localize(bundle);\n\tconst classes = theme.classes(css);\n\tconst max = parseDate(properties().max);\n\tconst min = parseDate(properties().min);\n\n\tif (\n\t\tinitialValue !== undefined &&\n\t\tcontrolledValue === undefined &&\n\t\ticache.get('initialValue') !== initialValue\n\t) {\n\t\tconst parsed = initialValue && parseDate(initialValue);\n\n\t\tif (parsed) {\n\t\t\ticache.set('inputValue', formatDate(parsed));\n\t\t}\n\t\ticache.set('initialValue', initialValue);\n\t\ticache.set('shouldValidate', true);\n\t}\n\n\tif (controlledValue !== undefined && icache.get('lastValue') !== controlledValue) {\n\t\tconst parsed = controlledValue && parseDate(controlledValue);\n\t\tif (parsed) {\n\t\t\ticache.set('inputValue', formatDate(parsed));\n\t\t\ticache.set('value', parsed);\n\t\t}\n\t\ticache.set('lastValue', controlledValue);\n\t}\n\n\tconst inputValue = icache.getOrSet('inputValue', () => {\n\t\tconst parsed = initialValue && parseDate(initialValue);\n\n\t\treturn formatDate(parsed || new Date());\n\t});\n\tconst shouldValidate = icache.getOrSet('shouldValidate', true);\n\tconst shouldFocus = focus.shouldFocus();\n\tconst focusNode = icache.getOrSet('focusNode', 'input');\n\n\tif (shouldValidate) {\n\t\tconst testValue = icache.get('nextValue') || inputValue;\n\t\tlet isValid: boolean | undefined;\n\t\tlet validationMessages: string[] = [];\n\n\t\t// if min & max create an impossible range, no need to validate anything else\n\t\tif (min && max && min > max) {\n\t\t\tvalidationMessages.push(messages.invalidProps);\n\t\t\tisValid = false;\n\t\t} else {\n\t\t\tconst newDate = parseDate(testValue);\n\n\t\t\tif (newDate !== undefined) {\n\t\t\t\tif (min && newDate < min) {\n\t\t\t\t\tvalidationMessages.push(messages.tooEarly);\n\t\t\t\t} else if (max && newDate > max) {\n\t\t\t\t\tvalidationMessages.push(messages.tooLate);\n\t\t\t\t} else {\n\t\t\t\t\tif (controlledValue === undefined) {\n\t\t\t\t\t\ticache.set('value', newDate);\n\t\t\t\t\t\ticache.set('inputValue', formatDate(newDate));\n\t\t\t\t\t}\n\t\t\t\t\tif (onValue) {\n\t\t\t\t\t\tonValue(formatDateISO(newDate));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvalidationMessages.push(messages.invalidDate);\n\t\t\t}\n\n\t\t\tisValid = validationMessages.length === 0;\n\t\t}\n\n\t\tconst validationMessage = validationMessages.join('; ');\n\t\tonValidate && onValidate(isValid, validationMessage);\n\t\ticache.set('validationMessage', validationMessage);\n\t\ticache.set('shouldValidate', false);\n\t}\n\n\treturn (\n\t\t<div classes={[theme.variant(), classes.root]}>\n\t\t\t<input\n\t\t\t\ttype=\"hidden\"\n\t\t\t\tname={name}\n\t\t\t\tvalue={formatDateISO(icache.get('value'))}\n\t\t\t\taria-hidden=\"true\"\n\t\t\t/>\n\t\t\t<TriggerPopup key=\"popup\">\n\t\t\t\t{{\n\t\t\t\t\ttrigger: (toggleOpen) => {\n\t\t\t\t\t\tfunction openCalendar() {\n\t\t\t\t\t\t\ticache.set('focusNode', 'calendar');\n\t\t\t\t\t\t\tfocus.focus();\n\t\t\t\t\t\t\ttoggleOpen();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div classes={classes.input}>\n\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\tkey=\"input\"\n\t\t\t\t\t\t\t\t\tfocus={() => shouldFocus && focusNode === 'input'}\n\t\t\t\t\t\t\t\t\ttheme={theme.compose(\n\t\t\t\t\t\t\t\t\t\ttextInputCss,\n\t\t\t\t\t\t\t\t\t\tcss,\n\t\t\t\t\t\t\t\t\t\t'input'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tinitialValue={icache.get('inputValue')}\n\t\t\t\t\t\t\t\t\tonBlur={() => icache.set('shouldValidate', true)}\n\t\t\t\t\t\t\t\t\tonValue={(v) => {\n\t\t\t\t\t\t\t\t\t\ticache.set(\n\t\t\t\t\t\t\t\t\t\t\tcontrolledValue === undefined\n\t\t\t\t\t\t\t\t\t\t\t\t? 'inputValue'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'nextValue',\n\t\t\t\t\t\t\t\t\t\t\tv || ''\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thelperText={icache.get('validationMessage')}\n\t\t\t\t\t\t\t\t\tonKeyDown={(key) => {\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tkey === Keys.Down ||\n\t\t\t\t\t\t\t\t\t\t\tkey === Keys.Space ||\n\t\t\t\t\t\t\t\t\t\t\tkey === Keys.Enter\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\topenCalendar();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t\ttrailing: (\n\t\t\t\t\t\t\t\t\t\t\t<Addon>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey=\"dateIcon\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonclick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topenCalendar();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclasses={classes.toggleCalendarButton}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon type=\"dateIcon\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</Addon>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t</TextInput>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\tcontent: (onClose) => {\n\t\t\t\t\t\tfunction closeCalendar() {\n\t\t\t\t\t\t\ticache.set('focusNode', 'input');\n\t\t\t\t\t\t\tfocus.focus();\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div classes={classes.popup}>\n\t\t\t\t\t\t\t\t<Calendar\n\t\t\t\t\t\t\t\t\tkey=\"calendar\"\n\t\t\t\t\t\t\t\t\tfocus={() => shouldFocus && focusNode === 'calendar'}\n\t\t\t\t\t\t\t\t\tmaxDate={max}\n\t\t\t\t\t\t\t\t\tminDate={min}\n\t\t\t\t\t\t\t\t\tinitialValue={icache.get('value')}\n\t\t\t\t\t\t\t\t\tonValue={(date) => {\n\t\t\t\t\t\t\t\t\t\ticache.set(\n\t\t\t\t\t\t\t\t\t\t\tcontrolledValue === undefined\n\t\t\t\t\t\t\t\t\t\t\t\t? 'inputValue'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'nextValue',\n\t\t\t\t\t\t\t\t\t\t\tformatDate(date)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\ticache.set('shouldValidate', true);\n\t\t\t\t\t\t\t\t\t\tcloseCalendar();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t</TriggerPopup>\n\t\t</div>\n\t);\n});\n","import { create } from '@dojo/framework/core/vdom';\nimport coreTheme, {\n\tThemeProperties as CoreThemeProperties\n} from '@dojo/framework/core/middleware/theme';\nimport { ClassNames, Theme } from '@dojo/framework/core/mixins/Themed';\nimport { ThemeWithVariant } from '@dojo/framework/core/interfaces';\n\nconst factory = create({ coreTheme });\nexport const THEME_KEY = ' _key';\n\nfunction uppercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toUpperCase()}${value.slice(1)}`;\n}\n\nfunction lowercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toLowerCase()}${value.slice(1)}`;\n}\n\nfunction isThemeWithVariant(theme: any): theme is ThemeWithVariant {\n\treturn theme && theme.hasOwnProperty('variant');\n}\n\nexport interface ThemeProperties extends CoreThemeProperties {}\n\nexport const theme = factory(function({ middleware: { coreTheme }, properties }) {\n\treturn {\n\t\tcompose: <T extends ClassNames, B extends ClassNames>(\n\t\t\tbaseCss: B,\n\t\t\tcss: T,\n\t\t\tprefix?: string\n\t\t): Theme | ThemeWithVariant => {\n\t\t\tconst theme = properties().theme;\n\t\t\tconst baseKey = baseCss[THEME_KEY];\n\t\t\tconst variantKey = css[THEME_KEY];\n\t\t\tconst virtualCss = Object.keys(baseCss).reduce(\n\t\t\t\t(virtualCss, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn virtualCss;\n\t\t\t\t\t}\n\t\t\t\t\tif (prefix && !virtualCss[`${prefix}${uppercaseFirstChar(key)}`]) {\n\t\t\t\t\t\tvirtualCss[`${prefix}${uppercaseFirstChar(key)}`] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\tif (!css[key]) {\n\t\t\t\t\t\tvirtualCss[key] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn virtualCss;\n\t\t\t\t},\n\t\t\t\t{ [THEME_KEY]: variantKey } as ClassNames\n\t\t\t);\n\t\t\tconst virtualTheme = coreTheme.classes(virtualCss);\n\t\t\tconst variantTheme = coreTheme.classes(css);\n\t\t\tlet baseTheme = coreTheme.classes(baseCss);\n\t\t\tif (prefix) {\n\t\t\t\tconst prefixedCss = Object.keys({ ...virtualTheme, ...variantTheme }).reduce(\n\t\t\t\t\t(prefixCss, key) => {\n\t\t\t\t\t\tif (key.indexOf(prefix) === 0 && key !== prefix) {\n\t\t\t\t\t\t\tconst classKey = lowercaseFirstChar(key.replace(prefix, ''));\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!variantTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key].trim()\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = `${baseTheme[classKey]} ${virtualTheme[\n\t\t\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\t\t].trim()}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = variantTheme[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prefixCss;\n\t\t\t\t\t},\n\t\t\t\t\t{} as ClassNames\n\t\t\t\t);\n\t\t\t\tbaseTheme = { ...baseTheme, ...prefixedCss };\n\n\t\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariant: theme.variant\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...theme,\n\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst constructedTheme = Object.keys(baseTheme).reduce(\n\t\t\t\t(theme, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn theme;\n\t\t\t\t\t}\n\t\t\t\t\tconst variantComposesClass = variantTheme[key] && variantTheme[key].trim();\n\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\ttheme[key] = variantComposesClass;\n\t\t\t\t\t} else if (virtualTheme[key] && virtualTheme[key].trim()) {\n\t\t\t\t\t\ttheme[key] = `${theme[key]} ${virtualTheme[key].trim()}`;\n\t\t\t\t\t}\n\t\t\t\t\treturn theme;\n\t\t\t\t},\n\t\t\t\t{ ...baseTheme } as ClassNames\n\t\t\t);\n\n\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\treturn {\n\t\t\t\t\ttheme: {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t[baseKey]: constructedTheme\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t},\n\t\t\t\t\tvariant: theme.variant\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...theme,\n\t\t\t\t[baseKey]: constructedTheme\n\t\t\t};\n\t\t},\n\t\t...coreTheme\n\t};\n});\n\nexport default theme;\n","interface AriaPropertyObject {\n\t[key: string]: string | null;\n}\n\nexport enum Keys {\n\tDown = 40,\n\tEnd = 35,\n\tEnter = 13,\n\tEscape = 27,\n\tHome = 36,\n\tLeft = 37,\n\tPageDown = 34,\n\tPageUp = 33,\n\tRight = 39,\n\tSpace = 32,\n\tTab = 9,\n\tUp = 38\n}\n\nexport function formatAriaProperties(aria: AriaPropertyObject): AriaPropertyObject {\n\tconst formattedAria = Object.keys(aria).reduce((a: AriaPropertyObject, key: string) => {\n\t\ta[`aria-${key.toLowerCase()}`] = aria[key];\n\t\treturn a;\n\t}, {});\n\treturn formattedAria;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/base\",\"visuallyHidden\":\"base-m__visuallyHidden__1AeWe\",\"focusable\":\"base-m__focusable__1_qAN\",\"hidden\":\"base-m__hidden__3QddU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/label\",\"root\":\"label-m__root__3Kk7r\",\"readonly\":\"label-m__readonly__2pxUq\",\"invalid\":\"label-m__invalid__1CZyi\",\"valid\":\"label-m__valid__2hdFV\",\"required\":\"label-m__required__2WVo7\",\"disabled\":\"label-m__disabled__34MEb\",\"focused\":\"label-m__focused__ISy0H\",\"secondary\":\"label-m__secondary__37QWK\",\"active\":\"label-m__active__3MoIi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/icon\",\"root\":\"icon-m__root__1eoV_\",\"icon\":\"icon-m__icon__UdYI1\",\"clockIcon\":\"icon-m__clockIcon__3GLpu\",\"downIcon\":\"icon-m__downIcon__2q5lh\",\"leftIcon\":\"icon-m__leftIcon__pBWIt\",\"rightIcon\":\"icon-m__rightIcon__18AW6\",\"closeIcon\":\"icon-m__closeIcon__21KIr\",\"plusIcon\":\"icon-m__plusIcon__2b4l_\",\"minusIcon\":\"icon-m__minusIcon__1DHfu\",\"checkIcon\":\"icon-m__checkIcon__2D3mV\",\"upIcon\":\"icon-m__upIcon__2Whg2\",\"upAltIcon\":\"icon-m__upAltIcon__2GXtu\",\"downAltIcon\":\"icon-m__downAltIcon__hm7FZ\",\"searchIcon\":\"icon-m__searchIcon__2HGOw\",\"barsIcon\":\"icon-m__barsIcon__2e0Qo\",\"settingsIcon\":\"icon-m__settingsIcon__2-UEA\",\"alertIcon\":\"icon-m__alertIcon__WjF2F\",\"helpIcon\":\"icon-m__helpIcon__3c7_4\",\"infoIcon\":\"icon-m__infoIcon__PXtvl\",\"cancelIcon\":\"icon-m__cancelIcon__2ey9p\",\"checkedBoxIcon\":\"icon-m__checkedBoxIcon__TSG-9\",\"phoneIcon\":\"icon-m__phoneIcon__2BO7g\",\"editIcon\":\"icon-m__editIcon__3j9QX\",\"dateIcon\":\"icon-m__dateIcon__3vXGn\",\"linkIcon\":\"icon-m__linkIcon__314xM\",\"locationIcon\":\"icon-m__locationIcon__1uwwo\",\"secureIcon\":\"icon-m__secureIcon__UXrMt\",\"mailIcon\":\"icon-m__mailIcon__3uh6Q\",\"eyeIcon\":\"icon-m__eyeIcon__2Cqqq\",\"eyeSlashIcon\":\"icon-m__eyeSlashIcon__17wRy\",\"starIcon\":\"icon-m__starIcon__r0lYz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/helper-text\",\"root\":\"helper-text-m__root__3s_po\",\"text\":\"helper-text-m__text__dNGJX\",\"valid\":\"helper-text-m__valid__18VWN\",\"invalid\":\"helper-text-m__invalid__1CrCV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/text-input\",\"input\":\"text-input-m__input__3AObE\",\"root\":\"text-input-m__root__1eiQw\",\"wrapper\":\"text-input-m__wrapper__3sXSt\",\"inputWrapper\":\"text-input-m__inputWrapper__3Usth\",\"inputWrapperFocused\":\"text-input-m__inputWrapperFocused__OjF-_\",\"disabled\":\"text-input-m__disabled__1U733\",\"focused\":\"text-input-m__focused__1nmLV\",\"readonly\":\"text-input-m__readonly__INN_p\",\"required\":\"text-input-m__required__2pLE4\",\"invalid\":\"text-input-m__invalid__12hBo\",\"addonRoot\":\"text-input-m__addonRoot__21n_v\",\"addonFilled\":\"text-input-m__addonFilled__azpzz\",\"hasLeading\":\"text-input-m__hasLeading__1vNgP\",\"hasTrailing\":\"text-input-m__hasTrailing__1levI\",\"noLabel\":\"text-input-m__noLabel__3dEz1\",\"label\":\"text-input-m__label__2oAFG\",\"helperText\":\"text-input-m__helperText__1hpcr\",\"valid\":\"text-input-m__valid__1LmDm\"};","import { create, destroy } from '@dojo/framework/core/vdom';\nimport global from '@dojo/framework/shim/global';\n\nconst factory = create({ destroy });\nconst bodyStyle = global.document.body.style;\n\nexport const bodyScroll = factory(function bodyScroll({ middleware: { destroy } }) {\n\tlet disabled = false;\n\tlet previousOverflow: string | undefined = undefined;\n\n\tconst enableScroll = () => {\n\t\tif (!disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (previousOverflow) {\n\t\t\tbodyStyle.setProperty('overflow', previousOverflow);\n\t\t} else {\n\t\t\tbodyStyle.removeProperty('overflow');\n\t\t}\n\t\tdisabled = false;\n\t\tpreviousOverflow = undefined;\n\t};\n\n\tconst disableScroll = () => {\n\t\tif (disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tdisabled = true;\n\t\tpreviousOverflow = bodyStyle.getPropertyValue('overflow');\n\t\tbodyStyle.setProperty('overflow', 'hidden');\n\t};\n\n\tdestroy(() => {\n\t\tdisabled && enableScroll();\n\t});\n\n\treturn (enable: boolean) => {\n\t\tenable ? enableScroll() : disableScroll();\n\t};\n});\n\nexport default bodyScroll;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/popup\",\"underlayVisible\":\"popup-m__underlayVisible__1Cxv3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/popup\",\"root\":\"popup-m__root__3WJlO\",\"underlay\":\"popup-m__underlay__2CC_p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/trigger-popup\",\"trigger\":\"trigger-popup-m__trigger__2isxr\"};","const locales = {};\n\nconst messages = {\n\tsunShort: 'Sun',\n\tmonShort: 'Mon',\n\ttueShort: 'Tue',\n\twedShort: 'Wed',\n\tthuShort: 'Thu',\n\tfriShort: 'Fri',\n\tsatShort: 'Sat',\n\tsunday: 'Sunday',\n\tmonday: 'Monday',\n\ttuesday: 'Tuesday',\n\twednesday: 'Wednesday',\n\tthursday: 'Thursday',\n\tfriday: 'Friday',\n\tsaturday: 'Saturday',\n\tjanShort: 'Jan',\n\tfebShort: 'Feb',\n\tmarShort: 'Mar',\n\taprShort: 'Apr',\n\tmayShort: 'May',\n\tjunShort: 'Jun',\n\tjulShort: 'Jul',\n\taugShort: 'Aug',\n\tsepShort: 'Sep',\n\toctShort: 'Oct',\n\tnovShort: 'Nov',\n\tdecShort: 'Dec',\n\tjanuary: 'January',\n\tfebruary: 'February',\n\tmarch: 'March',\n\tapril: 'April',\n\tmay: 'May',\n\tjune: 'June',\n\tjuly: 'July',\n\taugust: 'August',\n\tseptember: 'September',\n\toctober: 'October',\n\tnovember: 'November',\n\tdecember: 'December',\n\tclear: 'clear',\n\tclose: 'close',\n\topen: 'open'\n};\n\nexport default { locales, messages };\n"],"sourceRoot":""}