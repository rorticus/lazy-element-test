{"version":3,"sources":["webpack:///./src/theme/default/tab-container.m.css","webpack:///./src/tab-container/index.tsx","webpack:///./src/common/util.ts","webpack:///./src/common/nls/common.ts"],"names":["module","exports"," _key","tab","close","closeable","indicator","indicatorActive","indicatorContent","tabButtonContent","activeTabButton","root","tabButton","disabledTabButton","alignLeft","tabs","tabButtons","alignBottom","alignRight","__webpack_require__","r","__webpack_exports__","d","TabContainer","_dojo_framework_core_middleware_focus__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_middleware_i18n__WEBPACK_IMPORTED_MODULE_1__","_dojo_framework_core_middleware_icache__WEBPACK_IMPORTED_MODULE_2__","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_3__","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_4__","_common_nls_common__WEBPACK_IMPORTED_MODULE_5__","_common_util__WEBPACK_IMPORTED_MODULE_6__","_theme_default_tab_container_m_css__WEBPACK_IMPORTED_MODULE_7__","Object","focus","i18n","icache","theme","properties","children","factory","id","middleware","alignButtons","aria","initialActiveIndex","onActiveIndex","onClose","activeIndex","themeCss","classes","messages","localize","closeTab","index","setActiveIndex","set","undefined","getOrSet","content","key","map","disabled","name","active","aria-controls","aria-disabled","aria-selected","shouldFocus","onclick","onkeydown","event","stopPropagation","total","length","which","Escape","Left","Up","preventDefault","Right","Down","Home","End","onKeyDown","role","tabIndex","type","child","hidden","alignClass","orientation","reverse","assign","aria-orientation","variant","Keys","formatAriaProperties","keys","reduce","a","toLowerCase","locales","sunShort","monShort","tueShort","wedShort","thuShort","friShort","satShort","sunday","monday","tuesday","wednesday","thursday","friday","saturday","janShort","febShort","marShort","aprShort","mayShort","junShort","julShort","augShort","sepShort","octShort","novShort","decShort","january","february","march","april","may","june","july","august","september","october","november","december","clear","open"],"mappings":"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","file":"43-7.0.0-pre.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"@dojo/widgets/tab-container\",\"tab\":\"tab-container-m__tab__3Zw7g\",\"close\":\"tab-container-m__close__1ulVg\",\"closeable\":\"tab-container-m__closeable__KPvCj\",\"indicator\":\"tab-container-m__indicator__2gIBC\",\"indicatorActive\":\"tab-container-m__indicatorActive__23JDP\",\"indicatorContent\":\"tab-container-m__indicatorContent__aCKea\",\"tabButtonContent\":\"tab-container-m__tabButtonContent__XUd1o\",\"activeTabButton\":\"tab-container-m__activeTabButton__2Mx5J\",\"root\":\"tab-container-m__root__3cRNC\",\"tabButton\":\"tab-container-m__tabButton__2zA0K\",\"disabledTabButton\":\"tab-container-m__disabledTabButton__2ESUL\",\"alignLeft\":\"tab-container-m__alignLeft__1w2sc\",\"tabs\":\"tab-container-m__tabs__3fHCU\",\"tabButtons\":\"tab-container-m__tabButtons__yAIdI\",\"alignBottom\":\"tab-container-m__alignBottom__2Rp0_\",\"alignRight\":\"tab-container-m__alignRight__1H-Ew\"};","import focus from '@dojo/framework/core/middleware/focus';\nimport i18n from '@dojo/framework/core/middleware/i18n';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport theme from '@dojo/framework/core/middleware/theme';\nimport { create, tsx } from '@dojo/framework/core/vdom';\n\nimport commonBundle from '../common/nls/common';\nimport { formatAriaProperties, Keys } from '../common/util';\nimport * as css from '../theme/default/tab-container.m.css';\n\nexport interface TabItem {\n\tcloseable?: boolean;\n\tdisabled?: boolean;\n\tname: string;\n}\n\nexport interface TabContainerProperties {\n\t/** Orientation of the tab buttons, defaults to top */\n\talignButtons?: 'bottom' | 'top' | 'left' | 'right';\n\t/** callback when a tabs close icon is clicked */\n\tonClose?(index: number): void;\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** initial active tab ID. Defaults to the first tab's ID. */\n\tinitialActiveIndex?: number;\n\t/** controlled active tab ID */\n\tactiveIndex?: number;\n\t/** Callback fired when a tab is changed if `activeTab` is passed */\n\tonActiveIndex?(index: number): void;\n\t/** Tabs config used to display tab buttons */\n\ttabs: TabItem[];\n}\n\ninterface TabContainerICache {\n\tactiveIndex: number | undefined;\n}\n\nconst factory = create({\n\tfocus,\n\ti18n,\n\ticache: createICacheMiddleware<TabContainerICache>(),\n\ttheme\n})\n\t.properties<TabContainerProperties>()\n\t.children();\n\nexport const TabContainer = factory(function TabContainer({\n\tchildren,\n\tid,\n\tmiddleware: { focus, i18n, icache, theme },\n\tproperties\n}) {\n\tconst {\n\t\talignButtons = 'top',\n\t\taria = {},\n\t\tinitialActiveIndex = 0,\n\t\ttabs,\n\t\tonActiveIndex,\n\t\tonClose\n\t} = properties();\n\tlet { activeIndex } = properties();\n\n\tconst themeCss = theme.classes(css);\n\tconst { messages } = i18n.localize(commonBundle);\n\n\tif (activeIndex === undefined) {\n\t\tactiveIndex = icache.getOrSet('activeIndex', initialActiveIndex);\n\t}\n\n\tfunction closeTab(index: number) {\n\t\tonClose && onClose(index);\n\t\tsetActiveIndex(0);\n\t}\n\n\tfunction setActiveIndex(index: number) {\n\t\tfocus.focus();\n\t\tonActiveIndex && onActiveIndex(index);\n\t\ticache.set('activeIndex', index);\n\t}\n\n\tfunction onKeyDown(event: KeyboardEvent, { closeable, disabled }: TabItem, index: number) {\n\t\tevent.stopPropagation();\n\t\tconst total = tabs.length;\n\n\t\tswitch (event.which) {\n\t\t\tcase Keys.Escape:\n\t\t\t\tif (closeable && !disabled) {\n\t\t\t\t\tcloseTab(index);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Left:\n\t\t\tcase Keys.Up:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetActiveIndex((index - 1 + total) % total);\n\t\t\t\tbreak;\n\t\t\tcase Keys.Right:\n\t\t\tcase Keys.Down:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetActiveIndex((index + 1) % total);\n\t\t\t\tbreak;\n\t\t\tcase Keys.Home:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetActiveIndex(0);\n\t\t\t\tbreak;\n\t\t\tcase Keys.End:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetActiveIndex(tabs.length - 1);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tconst renderTab = (tab: TabItem, index: number) => {\n\t\tconst { closeable, disabled, name } = tab;\n\n\t\tconst active = index === activeIndex;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-controls={`${id}-tab-${index}`}\n\t\t\t\taria-disabled={disabled ? 'true' : 'false'}\n\t\t\t\taria-selected={active ? 'true' : 'false'}\n\t\t\t\tclasses={[\n\t\t\t\t\tthemeCss.tabButton,\n\t\t\t\t\tactive ? themeCss.activeTabButton : null,\n\t\t\t\t\tcloseable ? themeCss.closeable : null,\n\t\t\t\t\tdisabled ? themeCss.disabledTabButton : null\n\t\t\t\t]}\n\t\t\t\tfocus={active ? focus.shouldFocus : () => false}\n\t\t\t\tid={`${id}-tabbutton-${index}`}\n\t\t\t\tkey={`${index}-tabbutton`}\n\t\t\t\tonclick={() => {\n\t\t\t\t\tif (!disabled) {\n\t\t\t\t\t\tsetActiveIndex(index);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tonkeydown={(event) => onKeyDown(event, tab, index)}\n\t\t\t\trole=\"tab\"\n\t\t\t\ttabIndex={active ? 0 : -1}\n\t\t\t>\n\t\t\t\t<span key=\"tabButtonContent\" classes={themeCss.tabButtonContent}>\n\t\t\t\t\t{name}\n\t\t\t\t\t{closeable ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\ttabIndex={active ? 0 : -1}\n\t\t\t\t\t\t\tclasses={themeCss.close}\n\t\t\t\t\t\t\tkey={`${index}-tabbutton-close`}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonclick={(event) => {\n\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\tif (!disabled) {\n\t\t\t\t\t\t\t\t\tcloseTab(index);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{messages.close}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<span classes={[themeCss.indicator, active && themeCss.indicatorActive]}>\n\t\t\t\t\t\t<span classes={themeCss.indicatorContent} />\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst content = [\n\t\t<div key=\"buttons\" classes={themeCss.tabButtons}>\n\t\t\t{tabs.map(renderTab)}\n\t\t</div>,\n\t\t<div key=\"tabs\" classes={themeCss.tabs}>\n\t\t\t{children().map((child, index) => {\n\t\t\t\tconst disabled = tabs[index].disabled;\n\t\t\t\tconst active = activeIndex === index && !disabled;\n\t\t\t\treturn (\n\t\t\t\t\t<div classes={active ? themeCss.tab : undefined} hidden={!active}>\n\t\t\t\t\t\t{child}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t];\n\n\tlet alignClass;\n\tlet orientation = 'horizontal';\n\n\tswitch (alignButtons) {\n\t\tcase 'right':\n\t\t\talignClass = themeCss.alignRight;\n\t\t\torientation = 'vertical';\n\t\t\tcontent.reverse();\n\t\t\tbreak;\n\t\tcase 'bottom':\n\t\t\talignClass = themeCss.alignBottom;\n\t\t\tcontent.reverse();\n\t\t\tbreak;\n\t\tcase 'left':\n\t\t\talignClass = themeCss.alignLeft;\n\t\t\torientation = 'vertical';\n\t\t\tbreak;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\t{...formatAriaProperties(aria)}\n\t\t\tkey=\"root\"\n\t\t\taria-orientation={orientation}\n\t\t\tclasses={[theme.variant(), alignClass || null, themeCss.root]}\n\t\t\trole=\"tablist\"\n\t\t>\n\t\t\t{...content}\n\t\t</div>\n\t);\n});\n\nexport default TabContainer;\n","interface AriaPropertyObject {\n\t[key: string]: string | null;\n}\n\nexport enum Keys {\n\tDown = 40,\n\tEnd = 35,\n\tEnter = 13,\n\tEscape = 27,\n\tHome = 36,\n\tLeft = 37,\n\tPageDown = 34,\n\tPageUp = 33,\n\tRight = 39,\n\tSpace = 32,\n\tTab = 9,\n\tUp = 38\n}\n\nexport function formatAriaProperties(aria: AriaPropertyObject): AriaPropertyObject {\n\tconst formattedAria = Object.keys(aria).reduce((a: AriaPropertyObject, key: string) => {\n\t\ta[`aria-${key.toLowerCase()}`] = aria[key];\n\t\treturn a;\n\t}, {});\n\treturn formattedAria;\n}\n","const locales = {};\n\nconst messages = {\n\tsunShort: 'Sun',\n\tmonShort: 'Mon',\n\ttueShort: 'Tue',\n\twedShort: 'Wed',\n\tthuShort: 'Thu',\n\tfriShort: 'Fri',\n\tsatShort: 'Sat',\n\tsunday: 'Sunday',\n\tmonday: 'Monday',\n\ttuesday: 'Tuesday',\n\twednesday: 'Wednesday',\n\tthursday: 'Thursday',\n\tfriday: 'Friday',\n\tsaturday: 'Saturday',\n\tjanShort: 'Jan',\n\tfebShort: 'Feb',\n\tmarShort: 'Mar',\n\taprShort: 'Apr',\n\tmayShort: 'May',\n\tjunShort: 'Jun',\n\tjulShort: 'Jul',\n\taugShort: 'Aug',\n\tsepShort: 'Sep',\n\toctShort: 'Oct',\n\tnovShort: 'Nov',\n\tdecShort: 'Dec',\n\tjanuary: 'January',\n\tfebruary: 'February',\n\tmarch: 'March',\n\tapril: 'April',\n\tmay: 'May',\n\tjune: 'June',\n\tjuly: 'July',\n\taugust: 'August',\n\tseptember: 'September',\n\toctober: 'October',\n\tnovember: 'November',\n\tdecember: 'December',\n\tclear: 'clear',\n\tclose: 'close',\n\topen: 'open'\n};\n\nexport default { locales, messages };\n"],"sourceRoot":""}